var pL=Object.defineProperty;var mL=(n,e,t)=>e in n?pL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var me=(n,e,t)=>(mL(n,typeof e!="symbol"?e+"":e,t),t),y1=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var g=(n,e,t)=>(y1(n,e,"read from private field"),t?t.call(n):e.get(n)),O=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},I=(n,e,t,r)=>(y1(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var fn=(n,e,t,r)=>({set _(s){I(n,e,s,t)},get _(){return g(n,e,r)}}),F=(n,e,t)=>(y1(n,e,"access private method"),t);function gL(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ak={exports:{}},dx={},jk={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=Symbol.for("react.element"),yL=Symbol.for("react.portal"),vL=Symbol.for("react.fragment"),xL=Symbol.for("react.strict_mode"),bL=Symbol.for("react.profiler"),wL=Symbol.for("react.provider"),SL=Symbol.for("react.context"),NL=Symbol.for("react.forward_ref"),AL=Symbol.for("react.suspense"),jL=Symbol.for("react.memo"),EL=Symbol.for("react.lazy"),GA=Symbol.iterator;function _L(n){return n===null||typeof n!="object"?null:(n=GA&&n[GA]||n["@@iterator"],typeof n=="function"?n:null)}var Ek={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_k=Object.assign,kk={};function xd(n,e,t){this.props=n,this.context=e,this.refs=kk,this.updater=t||Ek}xd.prototype.isReactComponent={};xd.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};xd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Tk(){}Tk.prototype=xd.prototype;function PS(n,e,t){this.props=n,this.context=e,this.refs=kk,this.updater=t||Ek}var OS=PS.prototype=new Tk;OS.constructor=PS;_k(OS,xd.prototype);OS.isPureReactComponent=!0;var KA=Array.isArray,Ck=Object.prototype.hasOwnProperty,LS={current:null},Pk={key:!0,ref:!0,__self:!0,__source:!0};function Ok(n,e,t){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Ck.call(e,r)&&!Pk.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(n&&n.defaultProps)for(r in l=n.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Am,type:n,key:i,ref:a,props:s,_owner:LS.current}}function kL(n,e){return{$$typeof:Am,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function RS(n){return typeof n=="object"&&n!==null&&n.$$typeof===Am}function TL(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var XA=/\/+/g;function v1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?TL(""+n.key):e.toString(36)}function Sg(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Am:case yL:a=!0}}if(a)return a=n,s=s(a),n=r===""?"."+v1(a,0):r,KA(s)?(t="",n!=null&&(t=n.replace(XA,"$&/")+"/"),Sg(s,e,t,"",function(u){return u})):s!=null&&(RS(s)&&(s=kL(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(XA,"$&/")+"/")+n)),e.push(s)),1;if(a=0,r=r===""?".":r+":",KA(n))for(var l=0;l<n.length;l++){i=n[l];var c=r+v1(i,l);a+=Sg(i,e,t,c,s)}else if(c=_L(n),typeof c=="function")for(n=c.call(n),l=0;!(i=n.next()).done;)i=i.value,c=r+v1(i,l++),a+=Sg(i,e,t,c,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qm(n,e,t){if(n==null)return n;var r=[],s=0;return Sg(n,r,"","",function(i){return e.call(t,i,s++)}),r}function CL(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var wn={current:null},Ng={transition:null},PL={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Ng,ReactCurrentOwner:LS};function Lk(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:qm,forEach:function(n,e,t){qm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return qm(n,function(){e++}),e},toArray:function(n){return qm(n,function(e){return e})||[]},only:function(n){if(!RS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Te.Component=xd;Te.Fragment=vL;Te.Profiler=bL;Te.PureComponent=PS;Te.StrictMode=xL;Te.Suspense=AL;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PL;Te.act=Lk;Te.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=_k({},n.props),s=n.key,i=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=LS.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)Ck.call(e,c)&&!Pk.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Am,type:n.type,key:s,ref:i,props:r,_owner:a}};Te.createContext=function(n){return n={$$typeof:SL,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:wL,_context:n},n.Consumer=n};Te.createElement=Ok;Te.createFactory=function(n){var e=Ok.bind(null,n);return e.type=n,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(n){return{$$typeof:NL,render:n}};Te.isValidElement=RS;Te.lazy=function(n){return{$$typeof:EL,_payload:{_status:-1,_result:n},_init:CL}};Te.memo=function(n,e){return{$$typeof:jL,type:n,compare:e===void 0?null:e}};Te.startTransition=function(n){var e=Ng.transition;Ng.transition={};try{n()}finally{Ng.transition=e}};Te.unstable_act=Lk;Te.useCallback=function(n,e){return wn.current.useCallback(n,e)};Te.useContext=function(n){return wn.current.useContext(n)};Te.useDebugValue=function(){};Te.useDeferredValue=function(n){return wn.current.useDeferredValue(n)};Te.useEffect=function(n,e){return wn.current.useEffect(n,e)};Te.useId=function(){return wn.current.useId()};Te.useImperativeHandle=function(n,e,t){return wn.current.useImperativeHandle(n,e,t)};Te.useInsertionEffect=function(n,e){return wn.current.useInsertionEffect(n,e)};Te.useLayoutEffect=function(n,e){return wn.current.useLayoutEffect(n,e)};Te.useMemo=function(n,e){return wn.current.useMemo(n,e)};Te.useReducer=function(n,e,t){return wn.current.useReducer(n,e,t)};Te.useRef=function(n){return wn.current.useRef(n)};Te.useState=function(n){return wn.current.useState(n)};Te.useSyncExternalStore=function(n,e,t){return wn.current.useSyncExternalStore(n,e,t)};Te.useTransition=function(){return wn.current.useTransition()};Te.version="18.3.1";jk.exports=Te;var L=jk.exports;const Qe=vd(L),OL=gL({__proto__:null,default:Qe},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LL=L,RL=Symbol.for("react.element"),ML=Symbol.for("react.fragment"),DL=Object.prototype.hasOwnProperty,IL=LL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FL={key:!0,ref:!0,__self:!0,__source:!0};function Rk(n,e,t){var r,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)DL.call(e,r)&&!FL.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:RL,type:n,key:i,ref:a,props:s,_owner:IL.current}}dx.Fragment=ML;dx.jsx=Rk;dx.jsxs=Rk;Ak.exports=dx;var o=Ak.exports,Ob={},Mk={exports:{}},er={},Dk={exports:{}},Ik={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(W,q){var $=W.length;W.push(q);e:for(;0<$;){var D=$-1>>>1,B=W[D];if(0<s(B,q))W[D]=q,W[$]=B,$=D;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var q=W[0],$=W.pop();if($!==q){W[0]=$;e:for(var D=0,B=W.length,H=B>>>1;D<H;){var X=2*(D+1)-1,K=W[X],z=X+1,G=W[z];if(0>s(K,$))z<B&&0>s(G,K)?(W[D]=G,W[z]=$,D=z):(W[D]=K,W[X]=$,D=X);else if(z<B&&0>s(G,$))W[D]=G,W[z]=$,D=z;else break e}}return q}function s(W,q){var $=W.sortIndex-q.sortIndex;return $!==0?$:W.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var q=t(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=W)r(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=t(u)}}function w(W){if(x=!1,S(W),!y)if(t(c)!==null)y=!0,V(N);else{var q=t(u);q!==null&&U(w,q.startTime-W)}}function N(W,q){y=!1,x&&(x=!1,m(A),A=-1),p=!0;var $=f;try{for(S(q),h=t(c);h!==null&&(!(h.expirationTime>q)||W&&!k());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var B=D(h.expirationTime<=q);q=n.unstable_now(),typeof B=="function"?h.callback=B:h===t(c)&&r(c),S(q)}else r(c);h=t(c)}if(h!==null)var H=!0;else{var X=t(u);X!==null&&U(w,X.startTime-q),H=!1}return H}finally{h=null,f=$,p=!1}}var E=!1,_=null,A=-1,C=5,j=-1;function k(){return!(n.unstable_now()-j<C)}function T(){if(_!==null){var W=n.unstable_now();j=W;var q=!0;try{q=_(!0,W)}finally{q?P():(E=!1,_=null)}}else E=!1}var P;if(typeof v=="function")P=function(){v(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,M=R.port2;R.port1.onmessage=T,P=function(){M.postMessage(null)}}else P=function(){b(T,0)};function V(W){_=W,E||(E=!0,P())}function U(W,q){A=b(function(){W(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){y||p||(y=!0,V(N))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(W){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var $=f;f=q;try{return W()}finally{f=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=f;f=W;try{return q()}finally{f=$}},n.unstable_scheduleCallback=function(W,q,$){var D=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?D+$:D):$=D,W){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=$+B,W={id:d++,callback:q,priorityLevel:W,startTime:$,expirationTime:B,sortIndex:-1},$>D?(W.sortIndex=$,e(u,W),t(c)===null&&W===t(u)&&(x?(m(A),A=-1):x=!0,U(w,$-D))):(W.sortIndex=B,e(c,W),y||p||(y=!0,V(N))),W},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(W){var q=f;return function(){var $=f;f=q;try{return W.apply(this,arguments)}finally{f=$}}}})(Ik);Dk.exports=Ik;var BL=Dk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $L=L,Qn=BL;function se(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fk=new Set,qh={};function Fl(n,e){od(n,e),od(n+"Capture",e)}function od(n,e){for(qh[n]=e,n=0;n<e.length;n++)Fk.add(e[n])}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lb=Object.prototype.hasOwnProperty,zL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YA={},QA={};function UL(n){return Lb.call(QA,n)?!0:Lb.call(YA,n)?!1:zL.test(n)?QA[n]=!0:(YA[n]=!0,!1)}function VL(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function HL(n,e,t,r){if(e===null||typeof e>"u"||VL(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(n,e,t,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Xt[n]=new Sn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Xt[e]=new Sn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Xt[n]=new Sn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Xt[n]=new Sn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Xt[n]=new Sn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Xt[n]=new Sn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Xt[n]=new Sn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Xt[n]=new Sn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Xt[n]=new Sn(n,5,!1,n.toLowerCase(),null,!1,!1)});var MS=/[\-:]([a-z])/g;function DS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(MS,DS);Xt[e]=new Sn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(MS,DS);Xt[e]=new Sn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(MS,DS);Xt[e]=new Sn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Xt[n]=new Sn(n,1,!1,n.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Xt[n]=new Sn(n,1,!1,n.toLowerCase(),null,!0,!0)});function IS(n,e,t,r){var s=Xt.hasOwnProperty(e)?Xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HL(e,t,s,r)&&(t=null),r||s===null?UL(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Si=$L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wm=Symbol.for("react.element"),rc=Symbol.for("react.portal"),sc=Symbol.for("react.fragment"),FS=Symbol.for("react.strict_mode"),Rb=Symbol.for("react.profiler"),Bk=Symbol.for("react.provider"),$k=Symbol.for("react.context"),BS=Symbol.for("react.forward_ref"),Mb=Symbol.for("react.suspense"),Db=Symbol.for("react.suspense_list"),$S=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),zk=Symbol.for("react.offscreen"),JA=Symbol.iterator;function Md(n){return n===null||typeof n!="object"?null:(n=JA&&n[JA]||n["@@iterator"],typeof n=="function"?n:null)}var ut=Object.assign,x1;function eh(n){if(x1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);x1=e&&e[1]||""}return`
`+x1+n}var b1=!1;function w1(n,e){if(!n||b1)return"";b1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=l);break}}}finally{b1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?eh(n):""}function qL(n){switch(n.tag){case 5:return eh(n.type);case 16:return eh("Lazy");case 13:return eh("Suspense");case 19:return eh("SuspenseList");case 0:case 2:case 15:return n=w1(n.type,!1),n;case 11:return n=w1(n.type.render,!1),n;case 1:return n=w1(n.type,!0),n;default:return""}}function Ib(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case sc:return"Fragment";case rc:return"Portal";case Rb:return"Profiler";case FS:return"StrictMode";case Mb:return"Suspense";case Db:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case $k:return(n.displayName||"Context")+".Consumer";case Bk:return(n._context.displayName||"Context")+".Provider";case BS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $S:return e=n.displayName||null,e!==null?e:Ib(n.type)||"Memo";case Oi:e=n._payload,n=n._init;try{return Ib(n(e))}catch{}}return null}function WL(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ib(e);case 8:return e===FS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oa(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Uk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GL(n){var e=Uk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Gm(n){n._valueTracker||(n._valueTracker=GL(n))}function Vk(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Uk(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function A0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Fb(n,e){var t=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ZA(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Oa(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hk(n,e){e=e.checked,e!=null&&IS(n,"checked",e,!1)}function Bb(n,e){Hk(n,e);var t=Oa(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?$b(n,e.type,t):e.hasOwnProperty("defaultValue")&&$b(n,e.type,Oa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function ej(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function $b(n,e,t){(e!=="number"||A0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var th=Array.isArray;function Sc(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Oa(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function zb(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function tj(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(se(92));if(th(t)){if(1<t.length)throw Error(se(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Oa(t)}}function qk(n,e){var t=Oa(e.value),r=Oa(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function nj(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Wk(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ub(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Wk(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Km,Gk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Km=Km||document.createElement("div"),Km.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Km.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Wh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Eh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KL=["Webkit","ms","Moz","O"];Object.keys(Eh).forEach(function(n){KL.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Eh[e]=Eh[n]})});function Kk(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Eh.hasOwnProperty(n)&&Eh[n]?(""+e).trim():e+"px"}function Xk(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=Kk(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var XL=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vb(n,e){if(e){if(XL[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function Hb(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qb=null;function zS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Wb=null,Nc=null,Ac=null;function rj(n){if(n=_m(n)){if(typeof Wb!="function")throw Error(se(280));var e=n.stateNode;e&&(e=gx(e),Wb(n.stateNode,n.type,e))}}function Yk(n){Nc?Ac?Ac.push(n):Ac=[n]:Nc=n}function Qk(){if(Nc){var n=Nc,e=Ac;if(Ac=Nc=null,rj(n),e)for(n=0;n<e.length;n++)rj(e[n])}}function Jk(n,e){return n(e)}function Zk(){}var S1=!1;function eT(n,e,t){if(S1)return n(e,t);S1=!0;try{return Jk(n,e,t)}finally{S1=!1,(Nc!==null||Ac!==null)&&(Zk(),Qk())}}function Gh(n,e){var t=n.stateNode;if(t===null)return null;var r=gx(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(se(231,e,typeof t));return t}var Gb=!1;if(yi)try{var Dd={};Object.defineProperty(Dd,"passive",{get:function(){Gb=!0}}),window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{Gb=!1}function YL(n,e,t,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var _h=!1,j0=null,E0=!1,Kb=null,QL={onError:function(n){_h=!0,j0=n}};function JL(n,e,t,r,s,i,a,l,c){_h=!1,j0=null,YL.apply(QL,arguments)}function ZL(n,e,t,r,s,i,a,l,c){if(JL.apply(this,arguments),_h){if(_h){var u=j0;_h=!1,j0=null}else throw Error(se(198));E0||(E0=!0,Kb=u)}}function Bl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function tT(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function sj(n){if(Bl(n)!==n)throw Error(se(188))}function eR(n){var e=n.alternate;if(!e){if(e=Bl(n),e===null)throw Error(se(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return sj(s),n;if(i===r)return sj(s),e;i=i.sibling}throw Error(se(188))}if(t.return!==r.return)t=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===t){a=!0,t=s,r=i;break}if(l===r){a=!0,r=s,t=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===t){a=!0,t=i,r=s;break}if(l===r){a=!0,r=i,t=s;break}l=l.sibling}if(!a)throw Error(se(189))}}if(t.alternate!==r)throw Error(se(190))}if(t.tag!==3)throw Error(se(188));return t.stateNode.current===t?n:e}function nT(n){return n=eR(n),n!==null?rT(n):null}function rT(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=rT(n);if(e!==null)return e;n=n.sibling}return null}var sT=Qn.unstable_scheduleCallback,ij=Qn.unstable_cancelCallback,tR=Qn.unstable_shouldYield,nR=Qn.unstable_requestPaint,yt=Qn.unstable_now,rR=Qn.unstable_getCurrentPriorityLevel,US=Qn.unstable_ImmediatePriority,iT=Qn.unstable_UserBlockingPriority,_0=Qn.unstable_NormalPriority,sR=Qn.unstable_LowPriority,aT=Qn.unstable_IdlePriority,hx=null,ws=null;function iR(n){if(ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(hx,n,void 0,(n.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:lR,aR=Math.log,oR=Math.LN2;function lR(n){return n>>>=0,n===0?32:31-(aR(n)/oR|0)|0}var Xm=64,Ym=4194304;function nh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function k0(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,a=t&268435455;if(a!==0){var l=a&~s;l!==0?r=nh(l):(i&=a,i!==0&&(r=nh(i)))}else a=t&~s,a!==0?r=nh(a):i!==0&&(r=nh(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-zr(e),s=1<<t,r|=n[t],e&=~s;return r}function cR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uR(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var a=31-zr(i),l=1<<a,c=s[a];c===-1?(!(l&t)||l&r)&&(s[a]=cR(l,e)):c<=e&&(n.expiredLanes|=l),i&=~l}}function Xb(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function oT(){var n=Xm;return Xm<<=1,!(Xm&4194240)&&(Xm=64),n}function N1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function jm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-zr(e),n[e]=t}function dR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-zr(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function VS(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-zr(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var $e=0;function lT(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var cT,HS,uT,dT,hT,Yb=!1,Qm=[],wa=null,Sa=null,Na=null,Kh=new Map,Xh=new Map,Ri=[],hR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aj(n,e){switch(n){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":Kh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xh.delete(e.pointerId)}}function Id(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=_m(e),e!==null&&HS(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function fR(n,e,t,r,s){switch(e){case"focusin":return wa=Id(wa,n,e,t,r,s),!0;case"dragenter":return Sa=Id(Sa,n,e,t,r,s),!0;case"mouseover":return Na=Id(Na,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return Kh.set(i,Id(Kh.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Xh.set(i,Id(Xh.get(i)||null,n,e,t,r,s)),!0}return!1}function fT(n){var e=so(n.target);if(e!==null){var t=Bl(e);if(t!==null){if(e=t.tag,e===13){if(e=tT(t),e!==null){n.blockedOn=e,hT(n.priority,function(){uT(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ag(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Qb(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);qb=r,t.target.dispatchEvent(r),qb=null}else return e=_m(t),e!==null&&HS(e),n.blockedOn=t,!1;e.shift()}return!0}function oj(n,e,t){Ag(n)&&t.delete(e)}function pR(){Yb=!1,wa!==null&&Ag(wa)&&(wa=null),Sa!==null&&Ag(Sa)&&(Sa=null),Na!==null&&Ag(Na)&&(Na=null),Kh.forEach(oj),Xh.forEach(oj)}function Fd(n,e){n.blockedOn===e&&(n.blockedOn=null,Yb||(Yb=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,pR)))}function Yh(n){function e(s){return Fd(s,n)}if(0<Qm.length){Fd(Qm[0],n);for(var t=1;t<Qm.length;t++){var r=Qm[t];r.blockedOn===n&&(r.blockedOn=null)}}for(wa!==null&&Fd(wa,n),Sa!==null&&Fd(Sa,n),Na!==null&&Fd(Na,n),Kh.forEach(e),Xh.forEach(e),t=0;t<Ri.length;t++)r=Ri[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ri.length&&(t=Ri[0],t.blockedOn===null);)fT(t),t.blockedOn===null&&Ri.shift()}var jc=Si.ReactCurrentBatchConfig,T0=!0;function mR(n,e,t,r){var s=$e,i=jc.transition;jc.transition=null;try{$e=1,qS(n,e,t,r)}finally{$e=s,jc.transition=i}}function gR(n,e,t,r){var s=$e,i=jc.transition;jc.transition=null;try{$e=4,qS(n,e,t,r)}finally{$e=s,jc.transition=i}}function qS(n,e,t,r){if(T0){var s=Qb(n,e,t,r);if(s===null)L1(n,e,r,C0,t),aj(n,r);else if(fR(s,n,e,t,r))r.stopPropagation();else if(aj(n,r),e&4&&-1<hR.indexOf(n)){for(;s!==null;){var i=_m(s);if(i!==null&&cT(i),i=Qb(n,e,t,r),i===null&&L1(n,e,r,C0,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else L1(n,e,r,null,t)}}var C0=null;function Qb(n,e,t,r){if(C0=null,n=zS(r),n=so(n),n!==null)if(e=Bl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=tT(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return C0=n,null}function pT(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rR()){case US:return 1;case iT:return 4;case _0:case sR:return 16;case aT:return 536870912;default:return 16}default:return 16}}var va=null,WS=null,jg=null;function mT(){if(jg)return jg;var n,e=WS,t=e.length,r,s="value"in va?va.value:va.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===s[i-r];r++);return jg=s.slice(n,1<r?1-r:void 0)}function Eg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Jm(){return!0}function lj(){return!1}function tr(n){function e(t,r,s,i,a){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jm:lj,this.isPropagationStopped=lj,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Jm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Jm)},persist:function(){},isPersistent:Jm}),e}var bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GS=tr(bd),Em=ut({},bd,{view:0,detail:0}),yR=tr(Em),A1,j1,Bd,fx=ut({},Em,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bd&&(Bd&&n.type==="mousemove"?(A1=n.screenX-Bd.screenX,j1=n.screenY-Bd.screenY):j1=A1=0,Bd=n),A1)},movementY:function(n){return"movementY"in n?n.movementY:j1}}),cj=tr(fx),vR=ut({},fx,{dataTransfer:0}),xR=tr(vR),bR=ut({},Em,{relatedTarget:0}),E1=tr(bR),wR=ut({},bd,{animationName:0,elapsedTime:0,pseudoElement:0}),SR=tr(wR),NR=ut({},bd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),AR=tr(NR),jR=ut({},bd,{data:0}),uj=tr(jR),ER={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_R={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=kR[n])?!!e[n]:!1}function KS(){return TR}var CR=ut({},Em,{key:function(n){if(n.key){var e=ER[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Eg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_R[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KS,charCode:function(n){return n.type==="keypress"?Eg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Eg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),PR=tr(CR),OR=ut({},fx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dj=tr(OR),LR=ut({},Em,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KS}),RR=tr(LR),MR=ut({},bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),DR=tr(MR),IR=ut({},fx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),FR=tr(IR),BR=[9,13,27,32],XS=yi&&"CompositionEvent"in window,kh=null;yi&&"documentMode"in document&&(kh=document.documentMode);var $R=yi&&"TextEvent"in window&&!kh,gT=yi&&(!XS||kh&&8<kh&&11>=kh),hj=String.fromCharCode(32),fj=!1;function yT(n,e){switch(n){case"keyup":return BR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vT(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ic=!1;function zR(n,e){switch(n){case"compositionend":return vT(e);case"keypress":return e.which!==32?null:(fj=!0,hj);case"textInput":return n=e.data,n===hj&&fj?null:n;default:return null}}function UR(n,e){if(ic)return n==="compositionend"||!XS&&yT(n,e)?(n=mT(),jg=WS=va=null,ic=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gT&&e.locale!=="ko"?null:e.data;default:return null}}var VR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pj(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!VR[n.type]:e==="textarea"}function xT(n,e,t,r){Yk(r),e=P0(e,"onChange"),0<e.length&&(t=new GS("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Th=null,Qh=null;function HR(n){CT(n,0)}function px(n){var e=lc(n);if(Vk(e))return n}function qR(n,e){if(n==="change")return e}var bT=!1;if(yi){var _1;if(yi){var k1="oninput"in document;if(!k1){var mj=document.createElement("div");mj.setAttribute("oninput","return;"),k1=typeof mj.oninput=="function"}_1=k1}else _1=!1;bT=_1&&(!document.documentMode||9<document.documentMode)}function gj(){Th&&(Th.detachEvent("onpropertychange",wT),Qh=Th=null)}function wT(n){if(n.propertyName==="value"&&px(Qh)){var e=[];xT(e,Qh,n,zS(n)),eT(HR,e)}}function WR(n,e,t){n==="focusin"?(gj(),Th=e,Qh=t,Th.attachEvent("onpropertychange",wT)):n==="focusout"&&gj()}function GR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return px(Qh)}function KR(n,e){if(n==="click")return px(e)}function XR(n,e){if(n==="input"||n==="change")return px(e)}function YR(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var qr=typeof Object.is=="function"?Object.is:YR;function Jh(n,e){if(qr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!Lb.call(e,s)||!qr(n[s],e[s]))return!1}return!0}function yj(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vj(n,e){var t=yj(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=yj(t)}}function ST(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?ST(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function NT(){for(var n=window,e=A0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=A0(n.document)}return e}function YS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function QR(n){var e=NT(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&ST(t.ownerDocument.documentElement,t)){if(r!==null&&YS(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=vj(t,i);var a=vj(t,r);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var JR=yi&&"documentMode"in document&&11>=document.documentMode,ac=null,Jb=null,Ch=null,Zb=!1;function xj(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Zb||ac==null||ac!==A0(r)||(r=ac,"selectionStart"in r&&YS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ch&&Jh(Ch,r)||(Ch=r,r=P0(Jb,"onSelect"),0<r.length&&(e=new GS("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=ac)))}function Zm(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var oc={animationend:Zm("Animation","AnimationEnd"),animationiteration:Zm("Animation","AnimationIteration"),animationstart:Zm("Animation","AnimationStart"),transitionend:Zm("Transition","TransitionEnd")},T1={},AT={};yi&&(AT=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function mx(n){if(T1[n])return T1[n];if(!oc[n])return n;var e=oc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in AT)return T1[n]=e[t];return n}var jT=mx("animationend"),ET=mx("animationiteration"),_T=mx("animationstart"),kT=mx("transitionend"),TT=new Map,bj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(n,e){TT.set(n,e),Fl(e,[n])}for(var C1=0;C1<bj.length;C1++){var P1=bj[C1],ZR=P1.toLowerCase(),eM=P1[0].toUpperCase()+P1.slice(1);Fa(ZR,"on"+eM)}Fa(jT,"onAnimationEnd");Fa(ET,"onAnimationIteration");Fa(_T,"onAnimationStart");Fa("dblclick","onDoubleClick");Fa("focusin","onFocus");Fa("focusout","onBlur");Fa(kT,"onTransitionEnd");od("onMouseEnter",["mouseout","mouseover"]);od("onMouseLeave",["mouseout","mouseover"]);od("onPointerEnter",["pointerout","pointerover"]);od("onPointerLeave",["pointerout","pointerover"]);Fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tM=new Set("cancel close invalid load scroll toggle".split(" ").concat(rh));function wj(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,ZL(r,e,void 0,n),n.currentTarget=null}function CT(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;wj(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;wj(s,l,u),i=c}}}if(E0)throw n=Kb,E0=!1,Kb=null,n}function Ge(n,e){var t=e[sw];t===void 0&&(t=e[sw]=new Set);var r=n+"__bubble";t.has(r)||(PT(e,n,2,!1),t.add(r))}function O1(n,e,t){var r=0;e&&(r|=4),PT(t,n,r,e)}var eg="_reactListening"+Math.random().toString(36).slice(2);function Zh(n){if(!n[eg]){n[eg]=!0,Fk.forEach(function(t){t!=="selectionchange"&&(tM.has(t)||O1(t,!1,n),O1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[eg]||(e[eg]=!0,O1("selectionchange",!1,e))}}function PT(n,e,t,r){switch(pT(e)){case 1:var s=mR;break;case 4:s=gR;break;default:s=qS}t=s.bind(null,e,t,n),s=void 0,!Gb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function L1(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=so(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}eT(function(){var u=i,d=zS(t),h=[];e:{var f=TT.get(n);if(f!==void 0){var p=GS,y=n;switch(n){case"keypress":if(Eg(t)===0)break e;case"keydown":case"keyup":p=PR;break;case"focusin":y="focus",p=E1;break;case"focusout":y="blur",p=E1;break;case"beforeblur":case"afterblur":p=E1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=RR;break;case jT:case ET:case _T:p=SR;break;case kT:p=DR;break;case"scroll":p=yR;break;case"wheel":p=FR;break;case"copy":case"cut":case"paste":p=AR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=dj}var x=(e&4)!==0,b=!x&&n==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var v=u,S;v!==null;){S=v;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,m!==null&&(w=Gh(v,m),w!=null&&x.push(ef(v,w,S)))),b)break;v=v.return}0<x.length&&(f=new p(f,y,null,t,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==qb&&(y=t.relatedTarget||t.fromElement)&&(so(y)||y[vi]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=t.relatedTarget||t.toElement,p=u,y=y?so(y):null,y!==null&&(b=Bl(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=cj,w="onMouseLeave",m="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(x=dj,w="onPointerLeave",m="onPointerEnter",v="pointer"),b=p==null?f:lc(p),S=y==null?f:lc(y),f=new x(w,v+"leave",p,t,d),f.target=b,f.relatedTarget=S,w=null,so(d)===u&&(x=new x(m,v+"enter",y,t,d),x.target=S,x.relatedTarget=b,w=x),b=w,p&&y)t:{for(x=p,m=y,v=0,S=x;S;S=Wl(S))v++;for(S=0,w=m;w;w=Wl(w))S++;for(;0<v-S;)x=Wl(x),v--;for(;0<S-v;)m=Wl(m),S--;for(;v--;){if(x===m||m!==null&&x===m.alternate)break t;x=Wl(x),m=Wl(m)}x=null}else x=null;p!==null&&Sj(h,f,p,x,!1),y!==null&&b!==null&&Sj(h,b,y,x,!0)}}e:{if(f=u?lc(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=qR;else if(pj(f))if(bT)N=XR;else{N=GR;var E=WR}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=KR);if(N&&(N=N(n,u))){xT(h,N,t,d);break e}E&&E(n,f,u),n==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&$b(f,"number",f.value)}switch(E=u?lc(u):window,n){case"focusin":(pj(E)||E.contentEditable==="true")&&(ac=E,Jb=u,Ch=null);break;case"focusout":Ch=Jb=ac=null;break;case"mousedown":Zb=!0;break;case"contextmenu":case"mouseup":case"dragend":Zb=!1,xj(h,t,d);break;case"selectionchange":if(JR)break;case"keydown":case"keyup":xj(h,t,d)}var _;if(XS)e:{switch(n){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ic?yT(n,t)&&(A="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(A="onCompositionStart");A&&(gT&&t.locale!=="ko"&&(ic||A!=="onCompositionStart"?A==="onCompositionEnd"&&ic&&(_=mT()):(va=d,WS="value"in va?va.value:va.textContent,ic=!0)),E=P0(u,A),0<E.length&&(A=new uj(A,n,null,t,d),h.push({event:A,listeners:E}),_?A.data=_:(_=vT(t),_!==null&&(A.data=_)))),(_=$R?zR(n,t):UR(n,t))&&(u=P0(u,"onBeforeInput"),0<u.length&&(d=new uj("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=_))}CT(h,e)})}function ef(n,e,t){return{instance:n,listener:e,currentTarget:t}}function P0(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gh(n,t),i!=null&&r.unshift(ef(n,i,s)),i=Gh(n,e),i!=null&&r.push(ef(n,i,s))),n=n.return}return r}function Wl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Sj(n,e,t,r,s){for(var i=e._reactName,a=[];t!==null&&t!==r;){var l=t,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Gh(t,i),c!=null&&a.unshift(ef(t,c,l))):s||(c=Gh(t,i),c!=null&&a.push(ef(t,c,l)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var nM=/\r\n?/g,rM=/\u0000|\uFFFD/g;function Nj(n){return(typeof n=="string"?n:""+n).replace(nM,`
`).replace(rM,"")}function tg(n,e,t){if(e=Nj(e),Nj(n)!==e&&t)throw Error(se(425))}function O0(){}var ew=null,tw=null;function nw(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rw=typeof setTimeout=="function"?setTimeout:void 0,sM=typeof clearTimeout=="function"?clearTimeout:void 0,Aj=typeof Promise=="function"?Promise:void 0,iM=typeof queueMicrotask=="function"?queueMicrotask:typeof Aj<"u"?function(n){return Aj.resolve(null).then(n).catch(aM)}:rw;function aM(n){setTimeout(function(){throw n})}function R1(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),Yh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);Yh(e)}function Aa(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function jj(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var wd=Math.random().toString(36).slice(2),xs="__reactFiber$"+wd,tf="__reactProps$"+wd,vi="__reactContainer$"+wd,sw="__reactEvents$"+wd,oM="__reactListeners$"+wd,lM="__reactHandles$"+wd;function so(n){var e=n[xs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[vi]||t[xs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=jj(n);n!==null;){if(t=n[xs])return t;n=jj(n)}return e}n=t,t=n.parentNode}return null}function _m(n){return n=n[xs]||n[vi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function lc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(se(33))}function gx(n){return n[tf]||null}var iw=[],cc=-1;function Ba(n){return{current:n}}function Je(n){0>cc||(n.current=iw[cc],iw[cc]=null,cc--)}function We(n,e){cc++,iw[cc]=n.current,n.current=e}var La={},hn=Ba(La),On=Ba(!1),jl=La;function ld(n,e){var t=n.type.contextTypes;if(!t)return La;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Ln(n){return n=n.childContextTypes,n!=null}function L0(){Je(On),Je(hn)}function Ej(n,e,t){if(hn.current!==La)throw Error(se(168));We(hn,e),We(On,t)}function OT(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(se(108,WL(n)||"Unknown",s));return ut({},t,r)}function R0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||La,jl=hn.current,We(hn,n),We(On,On.current),!0}function _j(n,e,t){var r=n.stateNode;if(!r)throw Error(se(169));t?(n=OT(n,e,jl),r.__reactInternalMemoizedMergedChildContext=n,Je(On),Je(hn),We(hn,n)):Je(On),We(On,t)}var Rs=null,yx=!1,M1=!1;function LT(n){Rs===null?Rs=[n]:Rs.push(n)}function cM(n){yx=!0,LT(n)}function $a(){if(!M1&&Rs!==null){M1=!0;var n=0,e=$e;try{var t=Rs;for($e=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Rs=null,yx=!1}catch(s){throw Rs!==null&&(Rs=Rs.slice(n+1)),sT(US,$a),s}finally{$e=e,M1=!1}}return null}var uc=[],dc=0,M0=null,D0=0,dr=[],hr=0,El=null,ui=1,di="";function Ga(n,e){uc[dc++]=D0,uc[dc++]=M0,M0=n,D0=e}function RT(n,e,t){dr[hr++]=ui,dr[hr++]=di,dr[hr++]=El,El=n;var r=ui;n=di;var s=32-zr(r)-1;r&=~(1<<s),t+=1;var i=32-zr(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ui=1<<32-zr(e)+s|t<<s|r,di=i+n}else ui=1<<i|t<<s|r,di=n}function QS(n){n.return!==null&&(Ga(n,1),RT(n,1,0))}function JS(n){for(;n===M0;)M0=uc[--dc],uc[dc]=null,D0=uc[--dc],uc[dc]=null;for(;n===El;)El=dr[--hr],dr[hr]=null,di=dr[--hr],dr[hr]=null,ui=dr[--hr],dr[hr]=null}var Xn=null,Kn=null,rt=!1,Br=null;function MT(n,e){var t=fr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function kj(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Xn=n,Kn=Aa(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Xn=n,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=El!==null?{id:ui,overflow:di}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=fr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Xn=n,Kn=null,!0):!1;default:return!1}}function aw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ow(n){if(rt){var e=Kn;if(e){var t=e;if(!kj(n,e)){if(aw(n))throw Error(se(418));e=Aa(t.nextSibling);var r=Xn;e&&kj(n,e)?MT(r,t):(n.flags=n.flags&-4097|2,rt=!1,Xn=n)}}else{if(aw(n))throw Error(se(418));n.flags=n.flags&-4097|2,rt=!1,Xn=n}}}function Tj(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xn=n}function ng(n){if(n!==Xn)return!1;if(!rt)return Tj(n),rt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!nw(n.type,n.memoizedProps)),e&&(e=Kn)){if(aw(n))throw DT(),Error(se(418));for(;e;)MT(n,e),e=Aa(e.nextSibling)}if(Tj(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(se(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Kn=Aa(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Kn=null}}else Kn=Xn?Aa(n.stateNode.nextSibling):null;return!0}function DT(){for(var n=Kn;n;)n=Aa(n.nextSibling)}function cd(){Kn=Xn=null,rt=!1}function ZS(n){Br===null?Br=[n]:Br.push(n)}var uM=Si.ReactCurrentBatchConfig;function $d(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(se(309));var r=t.stateNode}if(!r)throw Error(se(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(se(284));if(!t._owner)throw Error(se(290,n))}return n}function rg(n,e){throw n=Object.prototype.toString.call(e),Error(se(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Cj(n){var e=n._init;return e(n._payload)}function IT(n){function e(m,v){if(n){var S=m.deletions;S===null?(m.deletions=[v],m.flags|=16):S.push(v)}}function t(m,v){if(!n)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function s(m,v){return m=ka(m,v),m.index=0,m.sibling=null,m}function i(m,v,S){return m.index=S,n?(S=m.alternate,S!==null?(S=S.index,S<v?(m.flags|=2,v):S):(m.flags|=2,v)):(m.flags|=1048576,v)}function a(m){return n&&m.alternate===null&&(m.flags|=2),m}function l(m,v,S,w){return v===null||v.tag!==6?(v=U1(S,m.mode,w),v.return=m,v):(v=s(v,S),v.return=m,v)}function c(m,v,S,w){var N=S.type;return N===sc?d(m,v,S.props.children,w,S.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Oi&&Cj(N)===v.type)?(w=s(v,S.props),w.ref=$d(m,v,S),w.return=m,w):(w=Lg(S.type,S.key,S.props,null,m.mode,w),w.ref=$d(m,v,S),w.return=m,w)}function u(m,v,S,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=V1(S,m.mode,w),v.return=m,v):(v=s(v,S.children||[]),v.return=m,v)}function d(m,v,S,w,N){return v===null||v.tag!==7?(v=Sl(S,m.mode,w,N),v.return=m,v):(v=s(v,S),v.return=m,v)}function h(m,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=U1(""+v,m.mode,S),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wm:return S=Lg(v.type,v.key,v.props,null,m.mode,S),S.ref=$d(m,null,v),S.return=m,S;case rc:return v=V1(v,m.mode,S),v.return=m,v;case Oi:var w=v._init;return h(m,w(v._payload),S)}if(th(v)||Md(v))return v=Sl(v,m.mode,S,null),v.return=m,v;rg(m,v)}return null}function f(m,v,S,w){var N=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:l(m,v,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wm:return S.key===N?c(m,v,S,w):null;case rc:return S.key===N?u(m,v,S,w):null;case Oi:return N=S._init,f(m,v,N(S._payload),w)}if(th(S)||Md(S))return N!==null?null:d(m,v,S,w,null);rg(m,S)}return null}function p(m,v,S,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(S)||null,l(v,m,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wm:return m=m.get(w.key===null?S:w.key)||null,c(v,m,w,N);case rc:return m=m.get(w.key===null?S:w.key)||null,u(v,m,w,N);case Oi:var E=w._init;return p(m,v,S,E(w._payload),N)}if(th(w)||Md(w))return m=m.get(S)||null,d(v,m,w,N,null);rg(v,w)}return null}function y(m,v,S,w){for(var N=null,E=null,_=v,A=v=0,C=null;_!==null&&A<S.length;A++){_.index>A?(C=_,_=null):C=_.sibling;var j=f(m,_,S[A],w);if(j===null){_===null&&(_=C);break}n&&_&&j.alternate===null&&e(m,_),v=i(j,v,A),E===null?N=j:E.sibling=j,E=j,_=C}if(A===S.length)return t(m,_),rt&&Ga(m,A),N;if(_===null){for(;A<S.length;A++)_=h(m,S[A],w),_!==null&&(v=i(_,v,A),E===null?N=_:E.sibling=_,E=_);return rt&&Ga(m,A),N}for(_=r(m,_);A<S.length;A++)C=p(_,m,A,S[A],w),C!==null&&(n&&C.alternate!==null&&_.delete(C.key===null?A:C.key),v=i(C,v,A),E===null?N=C:E.sibling=C,E=C);return n&&_.forEach(function(k){return e(m,k)}),rt&&Ga(m,A),N}function x(m,v,S,w){var N=Md(S);if(typeof N!="function")throw Error(se(150));if(S=N.call(S),S==null)throw Error(se(151));for(var E=N=null,_=v,A=v=0,C=null,j=S.next();_!==null&&!j.done;A++,j=S.next()){_.index>A?(C=_,_=null):C=_.sibling;var k=f(m,_,j.value,w);if(k===null){_===null&&(_=C);break}n&&_&&k.alternate===null&&e(m,_),v=i(k,v,A),E===null?N=k:E.sibling=k,E=k,_=C}if(j.done)return t(m,_),rt&&Ga(m,A),N;if(_===null){for(;!j.done;A++,j=S.next())j=h(m,j.value,w),j!==null&&(v=i(j,v,A),E===null?N=j:E.sibling=j,E=j);return rt&&Ga(m,A),N}for(_=r(m,_);!j.done;A++,j=S.next())j=p(_,m,A,j.value,w),j!==null&&(n&&j.alternate!==null&&_.delete(j.key===null?A:j.key),v=i(j,v,A),E===null?N=j:E.sibling=j,E=j);return n&&_.forEach(function(T){return e(m,T)}),rt&&Ga(m,A),N}function b(m,v,S,w){if(typeof S=="object"&&S!==null&&S.type===sc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Wm:e:{for(var N=S.key,E=v;E!==null;){if(E.key===N){if(N=S.type,N===sc){if(E.tag===7){t(m,E.sibling),v=s(E,S.props.children),v.return=m,m=v;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Oi&&Cj(N)===E.type){t(m,E.sibling),v=s(E,S.props),v.ref=$d(m,E,S),v.return=m,m=v;break e}t(m,E);break}else e(m,E);E=E.sibling}S.type===sc?(v=Sl(S.props.children,m.mode,w,S.key),v.return=m,m=v):(w=Lg(S.type,S.key,S.props,null,m.mode,w),w.ref=$d(m,v,S),w.return=m,m=w)}return a(m);case rc:e:{for(E=S.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){t(m,v.sibling),v=s(v,S.children||[]),v.return=m,m=v;break e}else{t(m,v);break}else e(m,v);v=v.sibling}v=V1(S,m.mode,w),v.return=m,m=v}return a(m);case Oi:return E=S._init,b(m,v,E(S._payload),w)}if(th(S))return y(m,v,S,w);if(Md(S))return x(m,v,S,w);rg(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(t(m,v.sibling),v=s(v,S),v.return=m,m=v):(t(m,v),v=U1(S,m.mode,w),v.return=m,m=v),a(m)):t(m,v)}return b}var ud=IT(!0),FT=IT(!1),I0=Ba(null),F0=null,hc=null,eN=null;function tN(){eN=hc=F0=null}function nN(n){var e=I0.current;Je(I0),n._currentValue=e}function lw(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Ec(n,e){F0=n,eN=hc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Pn=!0),n.firstContext=null)}function mr(n){var e=n._currentValue;if(eN!==n)if(n={context:n,memoizedValue:e,next:null},hc===null){if(F0===null)throw Error(se(308));hc=n,F0.dependencies={lanes:0,firstContext:n}}else hc=hc.next=n;return e}var io=null;function rN(n){io===null?io=[n]:io.push(n)}function BT(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,rN(e)):(t.next=s.next,s.next=t),e.interleaved=t,xi(n,r)}function xi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Li=!1;function sN(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $T(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function hi(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ja(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,xi(n,t)}return s=r.interleaved,s===null?(e.next=e,rN(r)):(e.next=s.next,s.next=e),r.interleaved=e,xi(n,t)}function _g(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,VS(n,t)}}function Pj(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function B0(n,e,t,r){var s=n.updateQueue;Li=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=n.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=n,x=l;switch(f=e,p=t,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=ut({},h,f);break e;case 2:Li=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);kl|=a,n.lanes=a,n.memoizedState=h}}function Oj(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(se(191,s));s.call(r)}}}var km={},Ss=Ba(km),nf=Ba(km),rf=Ba(km);function ao(n){if(n===km)throw Error(se(174));return n}function iN(n,e){switch(We(rf,e),We(nf,n),We(Ss,km),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ub(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ub(e,n)}Je(Ss),We(Ss,e)}function dd(){Je(Ss),Je(nf),Je(rf)}function zT(n){ao(rf.current);var e=ao(Ss.current),t=Ub(e,n.type);e!==t&&(We(nf,n),We(Ss,t))}function aN(n){nf.current===n&&(Je(Ss),Je(nf))}var ot=Ba(0);function $0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var D1=[];function oN(){for(var n=0;n<D1.length;n++)D1[n]._workInProgressVersionPrimary=null;D1.length=0}var kg=Si.ReactCurrentDispatcher,I1=Si.ReactCurrentBatchConfig,_l=0,ct=null,Tt=null,Bt=null,z0=!1,Ph=!1,sf=0,dM=0;function Jt(){throw Error(se(321))}function lN(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!qr(n[t],e[t]))return!1;return!0}function cN(n,e,t,r,s,i){if(_l=i,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kg.current=n===null||n.memoizedState===null?mM:gM,n=t(r,s),Ph){i=0;do{if(Ph=!1,sf=0,25<=i)throw Error(se(301));i+=1,Bt=Tt=null,e.updateQueue=null,kg.current=yM,n=t(r,s)}while(Ph)}if(kg.current=U0,e=Tt!==null&&Tt.next!==null,_l=0,Bt=Tt=ct=null,z0=!1,e)throw Error(se(300));return n}function uN(){var n=sf!==0;return sf=0,n}function Jr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ct.memoizedState=Bt=n:Bt=Bt.next=n,Bt}function gr(){if(Tt===null){var n=ct.alternate;n=n!==null?n.memoizedState:null}else n=Tt.next;var e=Bt===null?ct.memoizedState:Bt.next;if(e!==null)Bt=e,Tt=n;else{if(n===null)throw Error(se(310));Tt=n,n={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Bt===null?ct.memoizedState=Bt=n:Bt=Bt.next=n}return Bt}function af(n,e){return typeof e=="function"?e(n):e}function F1(n){var e=gr(),t=e.queue;if(t===null)throw Error(se(311));t.lastRenderedReducer=n;var r=Tt,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((_l&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,ct.lanes|=d,kl|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,qr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,ct.lanes|=i,kl|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function B1(n){var e=gr(),t=e.queue;if(t===null)throw Error(se(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do i=n(i,a.action),a=a.next;while(a!==s);qr(i,e.memoizedState)||(Pn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function UT(){}function VT(n,e){var t=ct,r=gr(),s=e(),i=!qr(r.memoizedState,s);if(i&&(r.memoizedState=s,Pn=!0),r=r.queue,dN(WT.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||Bt!==null&&Bt.memoizedState.tag&1){if(t.flags|=2048,of(9,qT.bind(null,t,r,s,e),void 0,null),zt===null)throw Error(se(349));_l&30||HT(t,e,s)}return s}function HT(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function qT(n,e,t,r){e.value=t,e.getSnapshot=r,GT(e)&&KT(n)}function WT(n,e,t){return t(function(){GT(e)&&KT(n)})}function GT(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!qr(n,t)}catch{return!0}}function KT(n){var e=xi(n,1);e!==null&&Ur(e,n,1,-1)}function Lj(n){var e=Jr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:n},e.queue=n,n=n.dispatch=pM.bind(null,ct,n),[e.memoizedState,n]}function of(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function XT(){return gr().memoizedState}function Tg(n,e,t,r){var s=Jr();ct.flags|=n,s.memoizedState=of(1|e,t,void 0,r===void 0?null:r)}function vx(n,e,t,r){var s=gr();r=r===void 0?null:r;var i=void 0;if(Tt!==null){var a=Tt.memoizedState;if(i=a.destroy,r!==null&&lN(r,a.deps)){s.memoizedState=of(e,t,i,r);return}}ct.flags|=n,s.memoizedState=of(1|e,t,i,r)}function Rj(n,e){return Tg(8390656,8,n,e)}function dN(n,e){return vx(2048,8,n,e)}function YT(n,e){return vx(4,2,n,e)}function QT(n,e){return vx(4,4,n,e)}function JT(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function ZT(n,e,t){return t=t!=null?t.concat([n]):null,vx(4,4,JT.bind(null,e,n),t)}function hN(){}function eC(n,e){var t=gr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&lN(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function tC(n,e){var t=gr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&lN(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function nC(n,e,t){return _l&21?(qr(t,e)||(t=oT(),ct.lanes|=t,kl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Pn=!0),n.memoizedState=t)}function hM(n,e){var t=$e;$e=t!==0&&4>t?t:4,n(!0);var r=I1.transition;I1.transition={};try{n(!1),e()}finally{$e=t,I1.transition=r}}function rC(){return gr().memoizedState}function fM(n,e,t){var r=_a(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},sC(n))iC(e,t);else if(t=BT(n,e,t,r),t!==null){var s=vn();Ur(t,n,r,s),aC(t,e,r)}}function pM(n,e,t){var r=_a(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(sC(n))iC(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,t);if(s.hasEagerState=!0,s.eagerState=l,qr(l,a)){var c=e.interleaved;c===null?(s.next=s,rN(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}t=BT(n,e,s,r),t!==null&&(s=vn(),Ur(t,n,r,s),aC(t,e,r))}}function sC(n){var e=n.alternate;return n===ct||e!==null&&e===ct}function iC(n,e){Ph=z0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function aC(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,VS(n,t)}}var U0={readContext:mr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},mM={readContext:mr,useCallback:function(n,e){return Jr().memoizedState=[n,e===void 0?null:e],n},useContext:mr,useEffect:Rj,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Tg(4194308,4,JT.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Tg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Tg(4,2,n,e)},useMemo:function(n,e){var t=Jr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Jr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=fM.bind(null,ct,n),[r.memoizedState,n]},useRef:function(n){var e=Jr();return n={current:n},e.memoizedState=n},useState:Lj,useDebugValue:hN,useDeferredValue:function(n){return Jr().memoizedState=n},useTransition:function(){var n=Lj(!1),e=n[0];return n=hM.bind(null,n[1]),Jr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=ct,s=Jr();if(rt){if(t===void 0)throw Error(se(407));t=t()}else{if(t=e(),zt===null)throw Error(se(349));_l&30||HT(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,Rj(WT.bind(null,r,i,n),[n]),r.flags|=2048,of(9,qT.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Jr(),e=zt.identifierPrefix;if(rt){var t=di,r=ui;t=(r&~(1<<32-zr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=sf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=dM++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},gM={readContext:mr,useCallback:eC,useContext:mr,useEffect:dN,useImperativeHandle:ZT,useInsertionEffect:YT,useLayoutEffect:QT,useMemo:tC,useReducer:F1,useRef:XT,useState:function(){return F1(af)},useDebugValue:hN,useDeferredValue:function(n){var e=gr();return nC(e,Tt.memoizedState,n)},useTransition:function(){var n=F1(af)[0],e=gr().memoizedState;return[n,e]},useMutableSource:UT,useSyncExternalStore:VT,useId:rC,unstable_isNewReconciler:!1},yM={readContext:mr,useCallback:eC,useContext:mr,useEffect:dN,useImperativeHandle:ZT,useInsertionEffect:YT,useLayoutEffect:QT,useMemo:tC,useReducer:B1,useRef:XT,useState:function(){return B1(af)},useDebugValue:hN,useDeferredValue:function(n){var e=gr();return Tt===null?e.memoizedState=n:nC(e,Tt.memoizedState,n)},useTransition:function(){var n=B1(af)[0],e=gr().memoizedState;return[n,e]},useMutableSource:UT,useSyncExternalStore:VT,useId:rC,unstable_isNewReconciler:!1};function Nr(n,e){if(n&&n.defaultProps){e=ut({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function cw(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ut({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var xx={isMounted:function(n){return(n=n._reactInternals)?Bl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=vn(),s=_a(n),i=hi(r,s);i.payload=e,t!=null&&(i.callback=t),e=ja(n,i,s),e!==null&&(Ur(e,n,s,r),_g(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=vn(),s=_a(n),i=hi(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=ja(n,i,s),e!==null&&(Ur(e,n,s,r),_g(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=vn(),r=_a(n),s=hi(t,r);s.tag=2,e!=null&&(s.callback=e),e=ja(n,s,r),e!==null&&(Ur(e,n,r,t),_g(e,n,r))}};function Mj(n,e,t,r,s,i,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Jh(t,r)||!Jh(s,i):!0}function oC(n,e,t){var r=!1,s=La,i=e.contextType;return typeof i=="object"&&i!==null?i=mr(i):(s=Ln(e)?jl:hn.current,r=e.contextTypes,i=(r=r!=null)?ld(n,s):La),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function Dj(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&xx.enqueueReplaceState(e,e.state,null)}function uw(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},sN(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=mr(i):(i=Ln(e)?jl:hn.current,s.context=ld(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(cw(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xx.enqueueReplaceState(s,s.state,null),B0(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function hd(n,e){try{var t="",r=e;do t+=qL(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function $1(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function dw(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var vM=typeof WeakMap=="function"?WeakMap:Map;function lC(n,e,t){t=hi(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){H0||(H0=!0,ww=r),dw(n,e)},t}function cC(n,e,t){t=hi(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){dw(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){dw(n,e),typeof r!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Ij(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new vM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=OM.bind(null,n,e,t),e.then(n,n))}function Fj(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Bj(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=hi(-1,1),e.tag=2,ja(t,e,1))),t.lanes|=1),n)}var xM=Si.ReactCurrentOwner,Pn=!1;function gn(n,e,t,r){e.child=n===null?FT(e,null,t,r):ud(e,n.child,t,r)}function $j(n,e,t,r,s){t=t.render;var i=e.ref;return Ec(e,s),r=cN(n,e,t,r,i,s),t=uN(),n!==null&&!Pn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,bi(n,e,s)):(rt&&t&&QS(e),e.flags|=1,gn(n,e,r,s),e.child)}function zj(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!bN(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,uC(n,e,i,r,s)):(n=Lg(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:Jh,t(a,r)&&n.ref===e.ref)return bi(n,e,s)}return e.flags|=1,n=ka(i,r),n.ref=e.ref,n.return=e,e.child=n}function uC(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(Jh(i,r)&&n.ref===e.ref)if(Pn=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(Pn=!0);else return e.lanes=n.lanes,bi(n,e,s)}return hw(n,e,t,r,s)}function dC(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(pc,qn),qn|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,We(pc,qn),qn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,We(pc,qn),qn|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,We(pc,qn),qn|=r;return gn(n,e,s,t),e.child}function hC(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function hw(n,e,t,r,s){var i=Ln(t)?jl:hn.current;return i=ld(e,i),Ec(e,s),t=cN(n,e,t,r,i,s),r=uN(),n!==null&&!Pn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,bi(n,e,s)):(rt&&r&&QS(e),e.flags|=1,gn(n,e,t,s),e.child)}function Uj(n,e,t,r,s){if(Ln(t)){var i=!0;R0(e)}else i=!1;if(Ec(e,s),e.stateNode===null)Cg(n,e),oC(e,t,r),uw(e,t,r,s),r=!0;else if(n===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=Ln(t)?jl:hn.current,u=ld(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Dj(e,a,r,u),Li=!1;var f=e.memoizedState;a.state=f,B0(e,r,a,s),c=e.memoizedState,l!==r||f!==c||On.current||Li?(typeof d=="function"&&(cw(e,t,d,r),c=e.memoizedState),(l=Li||Mj(e,t,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,$T(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:Nr(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=t.contextType,typeof c=="object"&&c!==null?c=mr(c):(c=Ln(t)?jl:hn.current,c=ld(e,c));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Dj(e,a,r,c),Li=!1,f=e.memoizedState,a.state=f,B0(e,r,a,s);var y=e.memoizedState;l!==h||f!==y||On.current||Li?(typeof p=="function"&&(cw(e,t,p,r),y=e.memoizedState),(u=Li||Mj(e,t,u,r,f,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return fw(n,e,t,r,i,s)}function fw(n,e,t,r,s,i){hC(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&_j(e,t,!1),bi(n,e,i);r=e.stateNode,xM.current=e;var l=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=ud(e,n.child,null,i),e.child=ud(e,null,l,i)):gn(n,e,l,i),e.memoizedState=r.state,s&&_j(e,t,!0),e.child}function fC(n){var e=n.stateNode;e.pendingContext?Ej(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Ej(n,e.context,!1),iN(n,e.containerInfo)}function Vj(n,e,t,r,s){return cd(),ZS(s),e.flags|=256,gn(n,e,t,r),e.child}var pw={dehydrated:null,treeContext:null,retryLane:0};function mw(n){return{baseLanes:n,cachePool:null,transitions:null}}function pC(n,e,t){var r=e.pendingProps,s=ot.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),We(ot,s&1),n===null)return ow(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Sx(a,r,0,null),n=Sl(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=mw(t),e.memoizedState=pw,n):fN(e,a));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return bM(n,e,a,r,l,s,t);if(i){i=r.fallback,a=e.mode,s=n.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ka(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ka(l,i):(i=Sl(i,a,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=n.child.memoizedState,a=a===null?mw(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=n.childLanes&~t,e.memoizedState=pw,r}return i=n.child,n=i.sibling,r=ka(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function fN(n,e){return e=Sx({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function sg(n,e,t,r){return r!==null&&ZS(r),ud(e,n.child,null,t),n=fN(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function bM(n,e,t,r,s,i,a){if(t)return e.flags&256?(e.flags&=-257,r=$1(Error(se(422))),sg(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Sx({mode:"visible",children:r.children},s,0,null),i=Sl(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ud(e,n.child,null,a),e.child.memoizedState=mw(a),e.memoizedState=pw,i);if(!(e.mode&1))return sg(n,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(se(419)),r=$1(i,r,void 0),sg(n,e,a,r)}if(l=(a&n.childLanes)!==0,Pn||l){if(r=zt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xi(n,s),Ur(r,n,s,-1))}return xN(),r=$1(Error(se(421))),sg(n,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=LM.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,Kn=Aa(s.nextSibling),Xn=e,rt=!0,Br=null,n!==null&&(dr[hr++]=ui,dr[hr++]=di,dr[hr++]=El,ui=n.id,di=n.overflow,El=e),e=fN(e,r.children),e.flags|=4096,e)}function Hj(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),lw(n.return,e,t)}function z1(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function mC(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(gn(n,e,r.children,t),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hj(n,t,e);else if(n.tag===19)Hj(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(We(ot,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&$0(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),z1(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&$0(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}z1(e,!0,t,null,i);break;case"together":z1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function bi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),kl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(se(153));if(e.child!==null){for(n=e.child,t=ka(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ka(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function wM(n,e,t){switch(e.tag){case 3:fC(e),cd();break;case 5:zT(e);break;case 1:Ln(e.type)&&R0(e);break;case 4:iN(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(I0,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(ot,ot.current&1),e.flags|=128,null):t&e.child.childLanes?pC(n,e,t):(We(ot,ot.current&1),n=bi(n,e,t),n!==null?n.sibling:null);We(ot,ot.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return mC(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,dC(n,e,t)}return bi(n,e,t)}var gC,gw,yC,vC;gC=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};gw=function(){};yC=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,ao(Ss.current);var i=null;switch(t){case"input":s=Fb(n,s),r=Fb(n,r),i=[];break;case"select":s=ut({},s,{value:void 0}),r=ut({},r,{value:void 0}),i=[];break;case"textarea":s=zb(n,s),r=zb(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=O0)}Vb(t,r);var a;t=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(i||(i=[]),i.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ge("scroll",n),i||l===c||(i=[])):(i=i||[]).push(u,c))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};vC=function(n,e,t,r){t!==r&&(e.flags|=4)};function zd(n,e){if(!rt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Zt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function SM(n,e,t){var r=e.pendingProps;switch(JS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Ln(e.type)&&L0(),Zt(e),null;case 3:return r=e.stateNode,dd(),Je(On),Je(hn),oN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(ng(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Br!==null&&(Aw(Br),Br=null))),gw(n,e),Zt(e),null;case 5:aN(e);var s=ao(rf.current);if(t=e.type,n!==null&&e.stateNode!=null)yC(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Zt(e),null}if(n=ao(Ss.current),ng(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[xs]=e,r[tf]=i,n=(e.mode&1)!==0,t){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<rh.length;s++)Ge(rh[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":ZA(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":tj(r,i),Ge("invalid",r)}Vb(t,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&tg(r.textContent,l,n),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&tg(r.textContent,l,n),s=["children",""+l]):qh.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ge("scroll",r)}switch(t){case"input":Gm(r),ej(r,i,!0);break;case"textarea":Gm(r),nj(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=O0)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Wk(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[xs]=e,n[tf]=r,gC(n,e,!1,!1),e.stateNode=n;e:{switch(a=Hb(t,r),t){case"dialog":Ge("cancel",n),Ge("close",n),s=r;break;case"iframe":case"object":case"embed":Ge("load",n),s=r;break;case"video":case"audio":for(s=0;s<rh.length;s++)Ge(rh[s],n);s=r;break;case"source":Ge("error",n),s=r;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),s=r;break;case"details":Ge("toggle",n),s=r;break;case"input":ZA(n,r),s=Fb(n,r),Ge("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=ut({},r,{value:void 0}),Ge("invalid",n);break;case"textarea":tj(n,r),s=zb(n,r),Ge("invalid",n);break;default:s=r}Vb(t,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Xk(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gk(n,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Wh(n,c):typeof c=="number"&&Wh(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ge("scroll",n):c!=null&&IS(n,i,c,a))}switch(t){case"input":Gm(n),ej(n,r,!1);break;case"textarea":Gm(n),nj(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Oa(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?Sc(n,!!r.multiple,i,!1):r.defaultValue!=null&&Sc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=O0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(n&&e.stateNode!=null)vC(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(t=ao(rf.current),ao(Ss.current),ng(e)){if(r=e.stateNode,t=e.memoizedProps,r[xs]=e,(i=r.nodeValue!==t)&&(n=Xn,n!==null))switch(n.tag){case 3:tg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&tg(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[xs]=e,e.stateNode=r}return Zt(e),null;case 13:if(Je(ot),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(rt&&Kn!==null&&e.mode&1&&!(e.flags&128))DT(),cd(),e.flags|=98560,i=!1;else if(i=ng(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(se(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[xs]=e}else cd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),i=!1}else Br!==null&&(Aw(Br),Br=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||ot.current&1?Pt===0&&(Pt=3):xN())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return dd(),gw(n,e),n===null&&Zh(e.stateNode.containerInfo),Zt(e),null;case 10:return nN(e.type._context),Zt(e),null;case 17:return Ln(e.type)&&L0(),Zt(e),null;case 19:if(Je(ot),i=e.memoizedState,i===null)return Zt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)zd(i,!1);else{if(Pt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=$0(n),a!==null){for(e.flags|=128,zd(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return We(ot,ot.current&1|2),e.child}n=n.sibling}i.tail!==null&&yt()>fd&&(e.flags|=128,r=!0,zd(i,!1),e.lanes=4194304)}else{if(!r)if(n=$0(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),zd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!rt)return Zt(e),null}else 2*yt()-i.renderingStartTime>fd&&t!==1073741824&&(e.flags|=128,r=!0,zd(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,t=ot.current,We(ot,r?t&1|2:t&1),e):(Zt(e),null);case 22:case 23:return vN(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function NM(n,e){switch(JS(e),e.tag){case 1:return Ln(e.type)&&L0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return dd(),Je(On),Je(hn),oN(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return aN(e),null;case 13:if(Je(ot),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(se(340));cd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Je(ot),null;case 4:return dd(),null;case 10:return nN(e.type._context),null;case 22:case 23:return vN(),null;case 24:return null;default:return null}}var ig=!1,ln=!1,AM=typeof WeakSet=="function"?WeakSet:Set,ue=null;function fc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ft(n,e,r)}else t.current=null}function yw(n,e,t){try{t()}catch(r){ft(n,e,r)}}var qj=!1;function jM(n,e){if(ew=T0,n=NT(),YS(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=l===-1||c===-1?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(tw={focusedElem:n,selectionRange:t},T0=!1,ue=e;ue!==null;)if(e=ue,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ue=n;else for(;ue!==null;){e=ue;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:Nr(e.type,x),b);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(w){ft(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}return y=qj,qj=!1,y}function Oh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&yw(e,t,i)}s=s.next}while(s!==r)}}function bx(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function vw(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function xC(n){var e=n.alternate;e!==null&&(n.alternate=null,xC(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[xs],delete e[tf],delete e[sw],delete e[oM],delete e[lM])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function bC(n){return n.tag===5||n.tag===3||n.tag===4}function Wj(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=O0));else if(r!==4&&(n=n.child,n!==null))for(xw(n,e,t),n=n.sibling;n!==null;)xw(n,e,t),n=n.sibling}function bw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(bw(n,e,t),n=n.sibling;n!==null;)bw(n,e,t),n=n.sibling}var Gt=null,Fr=!1;function _i(n,e,t){for(t=t.child;t!==null;)wC(n,e,t),t=t.sibling}function wC(n,e,t){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(hx,t)}catch{}switch(t.tag){case 5:ln||fc(t,e);case 6:var r=Gt,s=Fr;Gt=null,_i(n,e,t),Gt=r,Fr=s,Gt!==null&&(Fr?(n=Gt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Gt.removeChild(t.stateNode));break;case 18:Gt!==null&&(Fr?(n=Gt,t=t.stateNode,n.nodeType===8?R1(n.parentNode,t):n.nodeType===1&&R1(n,t),Yh(n)):R1(Gt,t.stateNode));break;case 4:r=Gt,s=Fr,Gt=t.stateNode.containerInfo,Fr=!0,_i(n,e,t),Gt=r,Fr=s;break;case 0:case 11:case 14:case 15:if(!ln&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&yw(t,e,a),s=s.next}while(s!==r)}_i(n,e,t);break;case 1:if(!ln&&(fc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(l){ft(t,e,l)}_i(n,e,t);break;case 21:_i(n,e,t);break;case 22:t.mode&1?(ln=(r=ln)||t.memoizedState!==null,_i(n,e,t),ln=r):_i(n,e,t);break;default:_i(n,e,t)}}function Gj(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new AM),e.forEach(function(r){var s=RM.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function br(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Gt=l.stateNode,Fr=!1;break e;case 3:Gt=l.stateNode.containerInfo,Fr=!0;break e;case 4:Gt=l.stateNode.containerInfo,Fr=!0;break e}l=l.return}if(Gt===null)throw Error(se(160));wC(i,a,s),Gt=null,Fr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ft(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SC(e,n),e=e.sibling}function SC(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(br(e,n),Kr(n),r&4){try{Oh(3,n,n.return),bx(3,n)}catch(x){ft(n,n.return,x)}try{Oh(5,n,n.return)}catch(x){ft(n,n.return,x)}}break;case 1:br(e,n),Kr(n),r&512&&t!==null&&fc(t,t.return);break;case 5:if(br(e,n),Kr(n),r&512&&t!==null&&fc(t,t.return),n.flags&32){var s=n.stateNode;try{Wh(s,"")}catch(x){ft(n,n.return,x)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,a=t!==null?t.memoizedProps:i,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Hk(s,i),Hb(l,a);var u=Hb(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Xk(s,h):d==="dangerouslySetInnerHTML"?Gk(s,h):d==="children"?Wh(s,h):IS(s,d,h,u)}switch(l){case"input":Bb(s,i);break;case"textarea":qk(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Sc(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Sc(s,!!i.multiple,i.defaultValue,!0):Sc(s,!!i.multiple,i.multiple?[]:"",!1))}s[tf]=i}catch(x){ft(n,n.return,x)}}break;case 6:if(br(e,n),Kr(n),r&4){if(n.stateNode===null)throw Error(se(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(x){ft(n,n.return,x)}}break;case 3:if(br(e,n),Kr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Yh(e.containerInfo)}catch(x){ft(n,n.return,x)}break;case 4:br(e,n),Kr(n);break;case 13:br(e,n),Kr(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gN=yt())),r&4&&Gj(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(ln=(u=ln)||d,br(e,n),ln=u):br(e,n),Kr(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(ue=n,d=n.child;d!==null;){for(h=ue=d;ue!==null;){switch(f=ue,p=f.child,f.tag){case 0:case 11:case 14:case 15:Oh(4,f,f.return);break;case 1:fc(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){ft(r,t,x)}}break;case 5:fc(f,f.return);break;case 22:if(f.memoizedState!==null){Xj(h);continue}}p!==null?(p.return=f,ue=p):Xj(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Kk("display",a))}catch(x){ft(n,n.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ft(n,n.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:br(e,n),Kr(n),r&4&&Gj(n);break;case 21:break;default:br(e,n),Kr(n)}}function Kr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(bC(t)){var r=t;break e}t=t.return}throw Error(se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wh(s,""),r.flags&=-33);var i=Wj(n);bw(n,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Wj(n);xw(n,l,a);break;default:throw Error(se(161))}}catch(c){ft(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function EM(n,e,t){ue=n,NC(n)}function NC(n,e,t){for(var r=(n.mode&1)!==0;ue!==null;){var s=ue,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ig;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ln;l=ig;var u=ln;if(ig=a,(ln=c)&&!u)for(ue=s;ue!==null;)a=ue,c=a.child,a.tag===22&&a.memoizedState!==null?Yj(s):c!==null?(c.return=a,ue=c):Yj(s);for(;i!==null;)ue=i,NC(i),i=i.sibling;ue=s,ig=l,ln=u}Kj(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ue=i):Kj(n)}}function Kj(n){for(;ue!==null;){var e=ue;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||bx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Nr(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Oj(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Oj(e,a,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}ln||e.flags&512&&vw(e)}catch(f){ft(e,e.return,f)}}if(e===n){ue=null;break}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}}function Xj(n){for(;ue!==null;){var e=ue;if(e===n){ue=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ue=t;break}ue=e.return}}function Yj(n){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{bx(4,e)}catch(c){ft(e,t,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ft(e,s,c)}}var i=e.return;try{vw(e)}catch(c){ft(e,i,c)}break;case 5:var a=e.return;try{vw(e)}catch(c){ft(e,a,c)}}}catch(c){ft(e,e.return,c)}if(e===n){ue=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ue=l;break}ue=e.return}}var _M=Math.ceil,V0=Si.ReactCurrentDispatcher,pN=Si.ReactCurrentOwner,pr=Si.ReactCurrentBatchConfig,Re=0,zt=null,St=null,Kt=0,qn=0,pc=Ba(0),Pt=0,lf=null,kl=0,wx=0,mN=0,Lh=null,Cn=null,gN=0,fd=1/0,Ps=null,H0=!1,ww=null,Ea=null,ag=!1,xa=null,q0=0,Rh=0,Sw=null,Pg=-1,Og=0;function vn(){return Re&6?yt():Pg!==-1?Pg:Pg=yt()}function _a(n){return n.mode&1?Re&2&&Kt!==0?Kt&-Kt:uM.transition!==null?(Og===0&&(Og=oT()),Og):(n=$e,n!==0||(n=window.event,n=n===void 0?16:pT(n.type)),n):1}function Ur(n,e,t,r){if(50<Rh)throw Rh=0,Sw=null,Error(se(185));jm(n,t,r),(!(Re&2)||n!==zt)&&(n===zt&&(!(Re&2)&&(wx|=t),Pt===4&&Mi(n,Kt)),Rn(n,r),t===1&&Re===0&&!(e.mode&1)&&(fd=yt()+500,yx&&$a()))}function Rn(n,e){var t=n.callbackNode;uR(n,e);var r=k0(n,n===zt?Kt:0);if(r===0)t!==null&&ij(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&ij(t),e===1)n.tag===0?cM(Qj.bind(null,n)):LT(Qj.bind(null,n)),iM(function(){!(Re&6)&&$a()}),t=null;else{switch(lT(r)){case 1:t=US;break;case 4:t=iT;break;case 16:t=_0;break;case 536870912:t=aT;break;default:t=_0}t=PC(t,AC.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function AC(n,e){if(Pg=-1,Og=0,Re&6)throw Error(se(327));var t=n.callbackNode;if(_c()&&n.callbackNode!==t)return null;var r=k0(n,n===zt?Kt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=W0(n,r);else{e=r;var s=Re;Re|=2;var i=EC();(zt!==n||Kt!==e)&&(Ps=null,fd=yt()+500,wl(n,e));do try{CM();break}catch(l){jC(n,l)}while(1);tN(),V0.current=i,Re=s,St!==null?e=0:(zt=null,Kt=0,e=Pt)}if(e!==0){if(e===2&&(s=Xb(n),s!==0&&(r=s,e=Nw(n,s))),e===1)throw t=lf,wl(n,0),Mi(n,r),Rn(n,yt()),t;if(e===6)Mi(n,r);else{if(s=n.current.alternate,!(r&30)&&!kM(s)&&(e=W0(n,r),e===2&&(i=Xb(n),i!==0&&(r=i,e=Nw(n,i))),e===1))throw t=lf,wl(n,0),Mi(n,r),Rn(n,yt()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:Ka(n,Cn,Ps);break;case 3:if(Mi(n,r),(r&130023424)===r&&(e=gN+500-yt(),10<e)){if(k0(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){vn(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=rw(Ka.bind(null,n,Cn,Ps),e);break}Ka(n,Cn,Ps);break;case 4:if(Mi(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var a=31-zr(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_M(r/1960))-r,10<r){n.timeoutHandle=rw(Ka.bind(null,n,Cn,Ps),r);break}Ka(n,Cn,Ps);break;case 5:Ka(n,Cn,Ps);break;default:throw Error(se(329))}}}return Rn(n,yt()),n.callbackNode===t?AC.bind(null,n):null}function Nw(n,e){var t=Lh;return n.current.memoizedState.isDehydrated&&(wl(n,e).flags|=256),n=W0(n,e),n!==2&&(e=Cn,Cn=t,e!==null&&Aw(e)),n}function Aw(n){Cn===null?Cn=n:Cn.push.apply(Cn,n)}function kM(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!qr(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(n,e){for(e&=~mN,e&=~wx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-zr(e),r=1<<t;n[t]=-1,e&=~r}}function Qj(n){if(Re&6)throw Error(se(327));_c();var e=k0(n,0);if(!(e&1))return Rn(n,yt()),null;var t=W0(n,e);if(n.tag!==0&&t===2){var r=Xb(n);r!==0&&(e=r,t=Nw(n,r))}if(t===1)throw t=lf,wl(n,0),Mi(n,e),Rn(n,yt()),t;if(t===6)throw Error(se(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ka(n,Cn,Ps),Rn(n,yt()),null}function yN(n,e){var t=Re;Re|=1;try{return n(e)}finally{Re=t,Re===0&&(fd=yt()+500,yx&&$a())}}function Tl(n){xa!==null&&xa.tag===0&&!(Re&6)&&_c();var e=Re;Re|=1;var t=pr.transition,r=$e;try{if(pr.transition=null,$e=1,n)return n()}finally{$e=r,pr.transition=t,Re=e,!(Re&6)&&$a()}}function vN(){qn=pc.current,Je(pc)}function wl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,sM(t)),St!==null)for(t=St.return;t!==null;){var r=t;switch(JS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&L0();break;case 3:dd(),Je(On),Je(hn),oN();break;case 5:aN(r);break;case 4:dd();break;case 13:Je(ot);break;case 19:Je(ot);break;case 10:nN(r.type._context);break;case 22:case 23:vN()}t=t.return}if(zt=n,St=n=ka(n.current,null),Kt=qn=e,Pt=0,lf=null,mN=wx=kl=0,Cn=Lh=null,io!==null){for(e=0;e<io.length;e++)if(t=io[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}t.pending=r}io=null}return n}function jC(n,e){do{var t=St;try{if(tN(),kg.current=U0,z0){for(var r=ct.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}z0=!1}if(_l=0,Bt=Tt=ct=null,Ph=!1,sf=0,pN.current=null,t===null||t.return===null){Pt=1,lf=e,St=null;break}e:{var i=n,a=t.return,l=t,c=e;if(e=Kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Fj(a);if(p!==null){p.flags&=-257,Bj(p,a,l,i,e),p.mode&1&&Ij(i,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){Ij(i,u,e),xN();break e}c=Error(se(426))}}else if(rt&&l.mode&1){var b=Fj(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Bj(b,a,l,i,e),ZS(hd(c,l));break e}}i=c=hd(c,l),Pt!==4&&(Pt=2),Lh===null?Lh=[i]:Lh.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=lC(i,c,e);Pj(i,m);break e;case 1:l=c;var v=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ea===null||!Ea.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=cC(i,l,e);Pj(i,w);break e}}i=i.return}while(i!==null)}kC(t)}catch(N){e=N,St===t&&t!==null&&(St=t=t.return);continue}break}while(1)}function EC(){var n=V0.current;return V0.current=U0,n===null?U0:n}function xN(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),zt===null||!(kl&268435455)&&!(wx&268435455)||Mi(zt,Kt)}function W0(n,e){var t=Re;Re|=2;var r=EC();(zt!==n||Kt!==e)&&(Ps=null,wl(n,e));do try{TM();break}catch(s){jC(n,s)}while(1);if(tN(),Re=t,V0.current=r,St!==null)throw Error(se(261));return zt=null,Kt=0,Pt}function TM(){for(;St!==null;)_C(St)}function CM(){for(;St!==null&&!tR();)_C(St)}function _C(n){var e=CC(n.alternate,n,qn);n.memoizedProps=n.pendingProps,e===null?kC(n):St=e,pN.current=null}function kC(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=NM(t,e),t!==null){t.flags&=32767,St=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Pt=6,St=null;return}}else if(t=SM(t,e,qn),t!==null){St=t;return}if(e=e.sibling,e!==null){St=e;return}St=e=n}while(e!==null);Pt===0&&(Pt=5)}function Ka(n,e,t){var r=$e,s=pr.transition;try{pr.transition=null,$e=1,PM(n,e,t,r)}finally{pr.transition=s,$e=r}return null}function PM(n,e,t,r){do _c();while(xa!==null);if(Re&6)throw Error(se(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(se(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(dR(n,i),n===zt&&(St=zt=null,Kt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ag||(ag=!0,PC(_0,function(){return _c(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=pr.transition,pr.transition=null;var a=$e;$e=1;var l=Re;Re|=4,pN.current=null,jM(n,t),SC(t,n),QR(tw),T0=!!ew,tw=ew=null,n.current=t,EM(t),nR(),Re=l,$e=a,pr.transition=i}else n.current=t;if(ag&&(ag=!1,xa=n,q0=s),i=n.pendingLanes,i===0&&(Ea=null),iR(t.stateNode),Rn(n,yt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(H0)throw H0=!1,n=ww,ww=null,n;return q0&1&&n.tag!==0&&_c(),i=n.pendingLanes,i&1?n===Sw?Rh++:(Rh=0,Sw=n):Rh=0,$a(),null}function _c(){if(xa!==null){var n=lT(q0),e=pr.transition,t=$e;try{if(pr.transition=null,$e=16>n?16:n,xa===null)var r=!1;else{if(n=xa,xa=null,q0=0,Re&6)throw Error(se(331));var s=Re;for(Re|=4,ue=n.current;ue!==null;){var i=ue,a=i.child;if(ue.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Oh(8,d,i)}var h=d.child;if(h!==null)h.return=d,ue=h;else for(;ue!==null;){d=ue;var f=d.sibling,p=d.return;if(xC(d),d===u){ue=null;break}if(f!==null){f.return=p,ue=f;break}ue=p}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}ue=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ue=a;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oh(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,ue=m;break e}ue=i.return}}var v=n.current;for(ue=v;ue!==null;){a=ue;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ue=S;else e:for(a=v;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bx(9,l)}}catch(N){ft(l,l.return,N)}if(l===a){ue=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,ue=w;break e}ue=l.return}}if(Re=s,$a(),ws&&typeof ws.onPostCommitFiberRoot=="function")try{ws.onPostCommitFiberRoot(hx,n)}catch{}r=!0}return r}finally{$e=t,pr.transition=e}}return!1}function Jj(n,e,t){e=hd(t,e),e=lC(n,e,1),n=ja(n,e,1),e=vn(),n!==null&&(jm(n,1,e),Rn(n,e))}function ft(n,e,t){if(n.tag===3)Jj(n,n,t);else for(;e!==null;){if(e.tag===3){Jj(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ea===null||!Ea.has(r))){n=hd(t,n),n=cC(e,n,1),e=ja(e,n,1),n=vn(),e!==null&&(jm(e,1,n),Rn(e,n));break}}e=e.return}}function OM(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=vn(),n.pingedLanes|=n.suspendedLanes&t,zt===n&&(Kt&t)===t&&(Pt===4||Pt===3&&(Kt&130023424)===Kt&&500>yt()-gN?wl(n,0):mN|=t),Rn(n,e)}function TC(n,e){e===0&&(n.mode&1?(e=Ym,Ym<<=1,!(Ym&130023424)&&(Ym=4194304)):e=1);var t=vn();n=xi(n,e),n!==null&&(jm(n,e,t),Rn(n,t))}function LM(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),TC(n,t)}function RM(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),TC(n,t)}var CC;CC=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||On.current)Pn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Pn=!1,wM(n,e,t);Pn=!!(n.flags&131072)}else Pn=!1,rt&&e.flags&1048576&&RT(e,D0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cg(n,e),n=e.pendingProps;var s=ld(e,hn.current);Ec(e,t),s=cN(null,e,r,n,s,t);var i=uN();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(i=!0,R0(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sN(e),s.updater=xx,e.stateNode=s,s._reactInternals=e,uw(e,r,n,t),e=fw(null,e,r,!0,i,t)):(e.tag=0,rt&&i&&QS(e),gn(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Cg(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=DM(r),n=Nr(r,n),s){case 0:e=hw(null,e,r,n,t);break e;case 1:e=Uj(null,e,r,n,t);break e;case 11:e=$j(null,e,r,n,t);break e;case 14:e=zj(null,e,r,Nr(r.type,n),t);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nr(r,s),hw(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nr(r,s),Uj(n,e,r,s,t);case 3:e:{if(fC(e),n===null)throw Error(se(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$T(n,e),B0(e,r,null,t);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=hd(Error(se(423)),e),e=Vj(n,e,r,t,s);break e}else if(r!==s){s=hd(Error(se(424)),e),e=Vj(n,e,r,t,s);break e}else for(Kn=Aa(e.stateNode.containerInfo.firstChild),Xn=e,rt=!0,Br=null,t=FT(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(cd(),r===s){e=bi(n,e,t);break e}gn(n,e,r,t)}e=e.child}return e;case 5:return zT(e),n===null&&ow(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,a=s.children,nw(r,s)?a=null:i!==null&&nw(r,i)&&(e.flags|=32),hC(n,e),gn(n,e,a,t),e.child;case 6:return n===null&&ow(e),null;case 13:return pC(n,e,t);case 4:return iN(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=ud(e,null,r,t):gn(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nr(r,s),$j(n,e,r,s,t);case 7:return gn(n,e,e.pendingProps,t),e.child;case 8:return gn(n,e,e.pendingProps.children,t),e.child;case 12:return gn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,We(I0,r._currentValue),r._currentValue=a,i!==null)if(qr(i.value,a)){if(i.children===s.children&&!On.current){e=bi(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=hi(-1,t&-t),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),lw(i.return,t,e),l.lanes|=t;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(se(341));a.lanes|=t,l=a.alternate,l!==null&&(l.lanes|=t),lw(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}gn(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ec(e,t),s=mr(s),r=r(s),e.flags|=1,gn(n,e,r,t),e.child;case 14:return r=e.type,s=Nr(r,e.pendingProps),s=Nr(r.type,s),zj(n,e,r,s,t);case 15:return uC(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nr(r,s),Cg(n,e),e.tag=1,Ln(r)?(n=!0,R0(e)):n=!1,Ec(e,t),oC(e,r,s),uw(e,r,s,t),fw(null,e,r,!0,n,t);case 19:return mC(n,e,t);case 22:return dC(n,e,t)}throw Error(se(156,e.tag))};function PC(n,e){return sT(n,e)}function MM(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(n,e,t,r){return new MM(n,e,t,r)}function bN(n){return n=n.prototype,!(!n||!n.isReactComponent)}function DM(n){if(typeof n=="function")return bN(n)?1:0;if(n!=null){if(n=n.$$typeof,n===BS)return 11;if(n===$S)return 14}return 2}function ka(n,e){var t=n.alternate;return t===null?(t=fr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Lg(n,e,t,r,s,i){var a=2;if(r=n,typeof n=="function")bN(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case sc:return Sl(t.children,s,i,e);case FS:a=8,s|=8;break;case Rb:return n=fr(12,t,e,s|2),n.elementType=Rb,n.lanes=i,n;case Mb:return n=fr(13,t,e,s),n.elementType=Mb,n.lanes=i,n;case Db:return n=fr(19,t,e,s),n.elementType=Db,n.lanes=i,n;case zk:return Sx(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Bk:a=10;break e;case $k:a=9;break e;case BS:a=11;break e;case $S:a=14;break e;case Oi:a=16,r=null;break e}throw Error(se(130,n==null?n:typeof n,""))}return e=fr(a,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function Sl(n,e,t,r){return n=fr(7,n,r,e),n.lanes=t,n}function Sx(n,e,t,r){return n=fr(22,n,r,e),n.elementType=zk,n.lanes=t,n.stateNode={isHidden:!1},n}function U1(n,e,t){return n=fr(6,n,null,e),n.lanes=t,n}function V1(n,e,t){return e=fr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function IM(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N1(0),this.expirationTimes=N1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wN(n,e,t,r,s,i,a,l,c){return n=new IM(n,e,t,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=fr(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},sN(i),n}function FM(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function OC(n){if(!n)return La;n=n._reactInternals;e:{if(Bl(n)!==n||n.tag!==1)throw Error(se(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(n.tag===1){var t=n.type;if(Ln(t))return OT(n,t,e)}return e}function LC(n,e,t,r,s,i,a,l,c){return n=wN(t,r,!0,n,s,i,a,l,c),n.context=OC(null),t=n.current,r=vn(),s=_a(t),i=hi(r,s),i.callback=e??null,ja(t,i,s),n.current.lanes=s,jm(n,s,r),Rn(n,r),n}function Nx(n,e,t,r){var s=e.current,i=vn(),a=_a(s);return t=OC(t),e.context===null?e.context=t:e.pendingContext=t,e=hi(i,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ja(s,e,a),n!==null&&(Ur(n,s,a,i),_g(n,s,a)),a}function G0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Zj(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function SN(n,e){Zj(n,e),(n=n.alternate)&&Zj(n,e)}function BM(){return null}var RC=typeof reportError=="function"?reportError:function(n){console.error(n)};function NN(n){this._internalRoot=n}Ax.prototype.render=NN.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(se(409));Nx(n,e,null,null)};Ax.prototype.unmount=NN.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Tl(function(){Nx(null,n,null,null)}),e[vi]=null}};function Ax(n){this._internalRoot=n}Ax.prototype.unstable_scheduleHydration=function(n){if(n){var e=dT();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ri.length&&e!==0&&e<Ri[t].priority;t++);Ri.splice(t,0,n),t===0&&fT(n)}};function AN(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function jx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function eE(){}function $M(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=G0(a);i.call(u)}}var a=LC(e,r,n,0,null,!1,!1,"",eE);return n._reactRootContainer=a,n[vi]=a.current,Zh(n.nodeType===8?n.parentNode:n),Tl(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=G0(c);l.call(u)}}var c=wN(n,0,!1,null,null,!1,!1,"",eE);return n._reactRootContainer=c,n[vi]=c.current,Zh(n.nodeType===8?n.parentNode:n),Tl(function(){Nx(e,c,t,r)}),c}function Ex(n,e,t,r,s){var i=t._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=G0(a);l.call(c)}}Nx(e,a,n,s)}else a=$M(t,e,n,s,r);return G0(a)}cT=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=nh(e.pendingLanes);t!==0&&(VS(e,t|1),Rn(e,yt()),!(Re&6)&&(fd=yt()+500,$a()))}break;case 13:Tl(function(){var r=xi(n,1);if(r!==null){var s=vn();Ur(r,n,1,s)}}),SN(n,1)}};HS=function(n){if(n.tag===13){var e=xi(n,134217728);if(e!==null){var t=vn();Ur(e,n,134217728,t)}SN(n,134217728)}};uT=function(n){if(n.tag===13){var e=_a(n),t=xi(n,e);if(t!==null){var r=vn();Ur(t,n,e,r)}SN(n,e)}};dT=function(){return $e};hT=function(n,e){var t=$e;try{return $e=n,e()}finally{$e=t}};Wb=function(n,e,t){switch(e){case"input":if(Bb(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=gx(r);if(!s)throw Error(se(90));Vk(r),Bb(r,s)}}}break;case"textarea":qk(n,t);break;case"select":e=t.value,e!=null&&Sc(n,!!t.multiple,e,!1)}};Jk=yN;Zk=Tl;var zM={usingClientEntryPoint:!1,Events:[_m,lc,gx,Yk,Qk,yN]},Ud={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UM={bundleType:Ud.bundleType,version:Ud.version,rendererPackageName:Ud.rendererPackageName,rendererConfig:Ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=nT(n),n===null?null:n.stateNode},findFiberByHostInstance:Ud.findFiberByHostInstance||BM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!og.isDisabled&&og.supportsFiber)try{hx=og.inject(UM),ws=og}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zM;er.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AN(e))throw Error(se(200));return FM(n,e,null,t)};er.createRoot=function(n,e){if(!AN(n))throw Error(se(299));var t=!1,r="",s=RC;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wN(n,1,!1,null,null,t,!1,r,s),n[vi]=e.current,Zh(n.nodeType===8?n.parentNode:n),new NN(e)};er.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(se(188)):(n=Object.keys(n).join(","),Error(se(268,n)));return n=nT(e),n=n===null?null:n.stateNode,n};er.flushSync=function(n){return Tl(n)};er.hydrate=function(n,e,t){if(!jx(e))throw Error(se(200));return Ex(null,n,e,!0,t)};er.hydrateRoot=function(n,e,t){if(!AN(n))throw Error(se(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",a=RC;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=LC(e,null,n,1,t??null,s,!1,i,a),n[vi]=e.current,Zh(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new Ax(e)};er.render=function(n,e,t){if(!jx(e))throw Error(se(200));return Ex(null,n,e,!1,t)};er.unmountComponentAtNode=function(n){if(!jx(n))throw Error(se(40));return n._reactRootContainer?(Tl(function(){Ex(null,null,n,!1,function(){n._reactRootContainer=null,n[vi]=null})}),!0):!1};er.unstable_batchedUpdates=yN;er.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!jx(t))throw Error(se(200));if(n==null||n._reactInternals===void 0)throw Error(se(38));return Ex(n,e,t,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function MC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MC)}catch(n){console.error(n)}}MC(),Mk.exports=er;var DC=Mk.exports,tE=DC;Ob.createRoot=tE.createRoot,Ob.hydrateRoot=tE.hydrateRoot;var VM=typeof Element<"u",HM=typeof Map=="function",qM=typeof Set=="function",WM=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Rg(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,s;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!Rg(n[r],e[r]))return!1;return!0}var i;if(HM&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(i=n.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=n.entries();!(r=i.next()).done;)if(!Rg(r.value[1],e.get(r.value[0])))return!1;return!0}if(qM&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(i=n.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(WM&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof e.valueOf=="function")return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof e.toString=="function")return n.toString()===e.toString();if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(VM&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&n.$$typeof)&&!Rg(n[s[r]],e[s[r]]))return!1;return!0}return n!==n&&e!==e}var GM=function(e,t){try{return Rg(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const KM=vd(GM);var XM=function(n,e,t,r,s,i,a,l){if(!n){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[t,r,s,i,a,l],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},YM=XM;const nE=vd(YM);var QM=function(e,t,r,s){var i=r?r.call(s,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var d=a[u];if(!c(d))return!1;var h=e[d],f=t[d];if(i=r?r.call(s,h,f,d):void 0,i===!1||i===void 0&&h!==f)return!1}return!0};const JM=vd(QM);var IC=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(IC||{}),H1={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},rE=Object.values(IC),jN={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ZM=Object.entries(jN).reduce((n,[e,t])=>(n[t]=e,n),{}),$r="data-rh",kc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Tc=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},e8=n=>{let e=Tc(n,"title");const t=Tc(n,kc.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=Tc(n,kc.DEFAULT_TITLE);return e||r||void 0},t8=n=>Tc(n,kc.ON_CHANGE_CLIENT_STATE)||(()=>{}),q1=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),n8=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const s=Object.keys(r);for(let i=0;i<s.length;i+=1){const l=s[i].toLowerCase();if(n.indexOf(l)!==-1&&r[l])return t.concat(r)}}return t},[]),r8=n=>console&&typeof console.warn=="function"&&console.warn(n),Vd=(n,e,t)=>{const r={};return t.filter(s=>Array.isArray(s[n])?!0:(typeof s[n]<"u"&&r8(`Helmet: ${n} should be of type "Array". Instead found type "${typeof s[n]}"`),!1)).map(s=>s[n]).reverse().reduce((s,i)=>{const a={};i.filter(c=>{let u;const d=Object.keys(c);for(let f=0;f<d.length;f+=1){const p=d[f],y=p.toLowerCase();e.indexOf(y)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(y==="rel"&&c[y].toLowerCase()==="stylesheet")&&(u=y),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const h=c[u].toLowerCase();return r[u]||(r[u]={}),a[u]||(a[u]={}),r[u][h]?!1:(a[u][h]=!0,!0)}).reverse().forEach(c=>s.push(c));const l=Object.keys(a);for(let c=0;c<l.length;c+=1){const u=l[c],d={...r[u],...a[u]};r[u]=d}return s},[]).reverse()},s8=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},i8=n=>({baseTag:n8(["href"],n),bodyAttributes:q1("bodyAttributes",n),defer:Tc(n,kc.DEFER),encode:Tc(n,kc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:q1("htmlAttributes",n),linkTags:Vd("link",["rel","href"],n),metaTags:Vd("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Vd("noscript",["innerHTML"],n),onChangeClientState:t8(n),scriptTags:Vd("script",["src","innerHTML"],n),styleTags:Vd("style",["cssText"],n),title:e8(n),titleAttributes:q1("titleAttributes",n),prioritizeSeoTags:s8(n,kc.PRIORITIZE_SEO_TAGS)}),FC=n=>Array.isArray(n)?n.join(""):n,a8=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},W1=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(a8(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},sE=(n,e)=>({...n,[e]:void 0}),o8=["noscript","script","style"],jw=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),BC=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),l8=(n,e,t,r)=>{const s=BC(t),i=FC(e);return s?`<${n} ${$r}="true" ${s}>${jw(i,r)}</${n}>`:`<${n} ${$r}="true">${jw(i,r)}</${n}>`},c8=(n,e,t=!0)=>e.reduce((r,s)=>{const i=s,a=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof i[d]>"u"?d:`${d}="${jw(i[d],t)}"`;return u?`${u} ${h}`:h},""),l=i.innerHTML||i.cssText||"",c=o8.indexOf(n)===-1;return`${r}<${n} ${$r}="true" ${a}${c?"/>":`>${l}</${n}>`}`},""),$C=(n,e={})=>Object.keys(n).reduce((t,r)=>{const s=jN[r];return t[s||r]=n[r],t},e),u8=(n,e,t)=>{const r={key:e,[$r]:!0},s=$C(t,r);return[Qe.createElement("title",s,e)]},Mg=(n,e)=>e.map((t,r)=>{const s={key:r,[$r]:!0};return Object.keys(t).forEach(i=>{const l=jN[i]||i;if(l==="innerHTML"||l==="cssText"){const c=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[l]=t[i]}),Qe.createElement(n,s)}),ir=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>u8(n,e.title,e.titleAttributes),toString:()=>l8(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>$C(e),toString:()=>BC(e)};default:return{toComponent:()=>Mg(n,e),toString:()=>c8(n,e,t)}}},d8=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const s=W1(n,H1.meta),i=W1(e,H1.link),a=W1(t,H1.script);return{priorityMethods:{toComponent:()=>[...Mg("meta",s.priority),...Mg("link",i.priority),...Mg("script",a.priority)],toString:()=>`${ir("meta",s.priority,r)} ${ir("link",i.priority,r)} ${ir("script",a.priority,r)}`},metaTags:s.default,linkTags:i.default,scriptTags:a.default}},h8=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:s,noscriptTags:i,styleTags:a,title:l="",titleAttributes:c,prioritizeSeoTags:u}=n;let{linkTags:d,metaTags:h,scriptTags:f}=n,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:h,scriptTags:f}=d8(n)),{priority:p,base:ir("base",e,r),bodyAttributes:ir("bodyAttributes",t,r),htmlAttributes:ir("htmlAttributes",s,r),link:ir("link",d,r),meta:ir("meta",h,r),noscript:ir("noscript",i,r),script:ir("script",f,r),style:ir("style",a,r),title:ir("title",{title:l,titleAttributes:c},r)}},Ew=h8,lg=[],zC=!!(typeof window<"u"&&window.document&&window.document.createElement),_w=class{constructor(n,e){me(this,"instances",[]);me(this,"canUseDOM",zC);me(this,"context");me(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?lg:this.instances,add:n=>{(this.canUseDOM?lg:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?lg:this.instances).indexOf(n);(this.canUseDOM?lg:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=Ew({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},f8={},UC=Qe.createContext(f8),Dc,VC=(Dc=class extends L.Component{constructor(t){super(t);me(this,"helmetData");this.helmetData=new _w(this.props.context||{},Dc.canUseDOM)}render(){return Qe.createElement(UC.Provider,{value:this.helmetData.value},this.props.children)}},me(Dc,"canUseDOM",zC),Dc),Gl=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${$r}]`),s=[].slice.call(r),i=[];let a;return e&&e.length&&e.forEach(l=>{const c=document.createElement(n);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,h=typeof l[d]>"u"?"":l[d];c.setAttribute(u,h)}c.setAttribute($r,"true"),s.some((u,d)=>(a=d,c.isEqualNode(u)))?s.splice(a,1):i.push(c)}),s.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),i.forEach(l=>t.appendChild(l)),{oldTags:s,newTags:i}},kw=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute($r),s=r?r.split(","):[],i=[...s],a=Object.keys(e);for(const l of a){const c=e[l]||"";t.getAttribute(l)!==c&&t.setAttribute(l,c),s.indexOf(l)===-1&&s.push(l);const u=i.indexOf(l);u!==-1&&i.splice(u,1)}for(let l=i.length-1;l>=0;l-=1)t.removeAttribute(i[l]);s.length===i.length?t.removeAttribute($r):t.getAttribute($r)!==a.join(",")&&t.setAttribute($r,a.join(","))},p8=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=FC(n)),kw("title",e)},iE=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:s,linkTags:i,metaTags:a,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:h,titleAttributes:f}=n;kw("body",r),kw("html",s),p8(h,f);const p={baseTag:Gl("base",t),linkTags:Gl("link",i),metaTags:Gl("meta",a),noscriptTags:Gl("noscript",l),scriptTags:Gl("script",u),styleTags:Gl("style",d)},y={},x={};Object.keys(p).forEach(b=>{const{newTags:m,oldTags:v}=p[b];m.length&&(y[b]=m),v.length&&(x[b]=p[b].oldTags)}),e&&e(),c(n,y,x)},Hd=null,m8=n=>{Hd&&cancelAnimationFrame(Hd),n.defer?Hd=requestAnimationFrame(()=>{iE(n,()=>{Hd=null})}):(iE(n),Hd=null)},g8=m8,aE=class extends L.Component{constructor(){super(...arguments);me(this,"rendered",!1)}shouldComponentUpdate(e){return!JM(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const s=i8(e.get().map(i=>{const a={...i.props};return delete a.context,a}));VC.canUseDOM?g8(s):Ew&&(r=Ew(s)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Pb,y8=(Pb=class extends L.Component{shouldComponentUpdate(n){return!KM(sE(this.props,"helmetData"),sE(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return nE(rE.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${rE.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),nE(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return Qe.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:s,...i}=r.props,a=Object.keys(i).reduce((c,u)=>(c[ZM[u]||u]=i[u],c),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,s),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,a,s);break;default:e=this.mapObjectTypeChildren(r,e,a,s);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof _w)){const s=r;r=new _w(s.context,!0),delete t.helmetData}return r?Qe.createElement(aE,{...t,context:r.value}):Qe.createElement(UC.Consumer,null,s=>Qe.createElement(aE,{...t,context:s}))}},me(Pb,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Pb);/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cf(){return cf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cf.apply(this,arguments)}var ba;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ba||(ba={}));const oE="popstate";function v8(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return Tw("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:K0(s)}return b8(e,t,null,n)}function vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function HC(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x8(){return Math.random().toString(36).substr(2,8)}function lE(n,e){return{usr:n.state,key:n.key,idx:e}}function Tw(n,e,t,r){return t===void 0&&(t=null),cf({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Sd(e):e,{state:t,key:e&&e.key||r||x8()})}function K0(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function b8(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=ba.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(cf({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=ba.Pop;let b=d(),m=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:m})}function f(b,m){l=ba.Push;let v=Tw(x.location,b,m);t&&t(v,b),u=d()+1;let S=lE(v,u),w=x.createHref(v);try{a.pushState(S,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(w)}i&&c&&c({action:l,location:x.location,delta:1})}function p(b,m){l=ba.Replace;let v=Tw(x.location,b,m);t&&t(v,b),u=d();let S=lE(v,u),w=x.createHref(v);a.replaceState(S,"",w),i&&c&&c({action:l,location:x.location,delta:0})}function y(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:K0(b);return v=v.replace(/ $/,"%20"),vt(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let x={get action(){return l},get location(){return n(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(oE,h),c=b,()=>{s.removeEventListener(oE,h),c=null}},createHref(b){return e(s,b)},createURL:y,encodeLocation(b){let m=y(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(b){return a.go(b)}};return x}var cE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(cE||(cE={}));function w8(n,e,t){return t===void 0&&(t="/"),S8(n,e,t,!1)}function S8(n,e,t,r){let s=typeof e=="string"?Sd(e):e,i=EN(s.pathname||"/",t);if(i==null)return null;let a=qC(n);N8(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=R8(i);l=O8(a[c],u,r)}return l}function qC(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ta([r,c.relativePath]),d=t.concat(c);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qC(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:C8(u,i.index),routesMeta:d})};return n.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of WC(i.path))s(i,a,c)}),e}function WC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=WC(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function N8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:P8(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const A8=/^:[\w-]+$/,j8=3,E8=2,_8=1,k8=10,T8=-2,uE=n=>n==="*";function C8(n,e){let t=n.split("/"),r=t.length;return t.some(uE)&&(r+=T8),e&&(r+=E8),t.filter(s=>!uE(s)).reduce((s,i)=>s+(A8.test(i)?j8:i===""?_8:k8),r)}function P8(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function O8(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=dE({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&t&&!r[r.length-1].route.index&&(h=dE({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Ta([i,h.pathname]),pathnameBase:F8(Ta([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ta([i,h.pathnameBase]))}return a}function dE(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=L8(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let x=l[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[h];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:n}}function L8(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),HC(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function R8(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HC(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function EN(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function M8(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Sd(n):n;return{pathname:t?t.startsWith("/")?t:D8(t,e):e,search:B8(r),hash:$8(s)}}function D8(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function G1(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I8(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _N(n,e){let t=I8(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function kN(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Sd(n):(s=cf({},n),vt(!s.pathname||!s.pathname.includes("?"),G1("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),G1("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),G1("#","search","hash",s)));let i=n===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=M8(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ta=n=>n.join("/").replace(/\/\/+/g,"/"),F8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),B8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function z8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const GC=["post","put","patch","delete"];new Set(GC);const U8=["get",...GC];new Set(U8);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uf(){return uf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uf.apply(this,arguments)}const TN=L.createContext(null),V8=L.createContext(null),za=L.createContext(null),_x=L.createContext(null),Ni=L.createContext({outlet:null,matches:[],isDataRoute:!1}),KC=L.createContext(null);function H8(n,e){let{relative:t}=e===void 0?{}:e;Nd()||vt(!1);let{basename:r,navigator:s}=L.useContext(za),{hash:i,pathname:a,search:l}=YC(n,{relative:t}),c=a;return r!=="/"&&(c=a==="/"?r:Ta([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Nd(){return L.useContext(_x)!=null}function $l(){return Nd()||vt(!1),L.useContext(_x).location}function XC(n){L.useContext(za).static||L.useLayoutEffect(n)}function Ue(){let{isDataRoute:n}=L.useContext(Ni);return n?rD():q8()}function q8(){Nd()||vt(!1);let n=L.useContext(TN),{basename:e,future:t,navigator:r}=L.useContext(za),{matches:s}=L.useContext(Ni),{pathname:i}=$l(),a=JSON.stringify(_N(s,t.v7_relativeSplatPath)),l=L.useRef(!1);return XC(()=>{l.current=!0}),L.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=kN(u,JSON.parse(a),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ta([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,n])}function Ai(){let{matches:n}=L.useContext(Ni),e=n[n.length-1];return e?e.params:{}}function YC(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=L.useContext(za),{matches:s}=L.useContext(Ni),{pathname:i}=$l(),a=JSON.stringify(_N(s,r.v7_relativeSplatPath));return L.useMemo(()=>kN(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function W8(n,e){return G8(n,e)}function G8(n,e,t,r){Nd()||vt(!1);let{navigator:s}=L.useContext(za),{matches:i}=L.useContext(Ni),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=$l(),d;if(e){var h;let b=typeof e=="string"?Sd(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||vt(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=w8(n,{pathname:p}),x=J8(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Ta([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Ta([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,t,r);return e&&x?L.createElement(_x.Provider,{value:{location:uf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ba.Pop}},x):x}function K8(){let n=nD(),e=z8(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:s},t):null,i)}const X8=L.createElement(K8,null);class Y8 extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(Ni.Provider,{value:this.props.routeContext},L.createElement(KC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q8(n){let{routeContext:e,match:t,children:r}=n,s=L.useContext(TN);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Ni.Provider,{value:e},r)}function J8(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=(s=t)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||vt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,y=!1,x=null,b=null;t&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||X8,c&&(u<0&&f===0?(sD("route-fallback",!1),y=!0,b=null):u===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),v=()=>{let S;return p?S=x:y?S=b:h.route.Component?S=L.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,L.createElement(Q8,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:t!=null},children:S})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?L.createElement(Y8,{location:t.location,revalidation:t.revalidation,component:x,error:p,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var QC=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(QC||{}),X0=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(X0||{});function Z8(n){let e=L.useContext(TN);return e||vt(!1),e}function eD(n){let e=L.useContext(V8);return e||vt(!1),e}function tD(n){let e=L.useContext(Ni);return e||vt(!1),e}function JC(n){let e=tD(),t=e.matches[e.matches.length-1];return t.route.id||vt(!1),t.route.id}function nD(){var n;let e=L.useContext(KC),t=eD(X0.UseRouteError),r=JC(X0.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function rD(){let{router:n}=Z8(QC.UseNavigateStable),e=JC(X0.UseNavigateStable),t=L.useRef(!1);return XC(()=>{t.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,uf({fromRouteId:e},i)))},[n,e])}const hE={};function sD(n,e,t){!e&&!hE[n]&&(hE[n]=!0)}const fE={};function iD(n,e){fE[e]||(fE[e]=!0,console.warn(e))}const Kl=(n,e,t)=>iD(n," React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function aD(n,e){(n==null?void 0:n.v7_startTransition)===void 0&&Kl("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||!e.v7_relativeSplatPath)&&Kl("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist===void 0&&Kl("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod===void 0&&Kl("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration===void 0&&Kl("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation===void 0&&Kl("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function CN(n){let{to:e,replace:t,state:r,relative:s}=n;Nd()||vt(!1);let{future:i,static:a}=L.useContext(za),{matches:l}=L.useContext(Ni),{pathname:c}=$l(),u=Ue(),d=kN(e,_N(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return L.useEffect(()=>u(JSON.parse(h),{replace:t,state:r,relative:s}),[u,h,s,t,r]),null}function Pe(n){vt(!1)}function oD(n){let{basename:e="/",children:t=null,location:r,navigationType:s=ba.Pop,navigator:i,static:a=!1,future:l}=n;Nd()&&vt(!1);let c=e.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:c,navigator:i,static:a,future:uf({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Sd(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=r,x=L.useMemo(()=>{let b=EN(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:y},navigationType:s}},[c,d,h,f,p,y,s]);return x==null?null:L.createElement(za.Provider,{value:u},L.createElement(_x.Provider,{children:t,value:x}))}function PN(n){let{children:e,location:t}=n;return W8(Cw(e),t)}new Promise(()=>{});function Cw(n,e){e===void 0&&(e=[]);let t=[];return L.Children.forEach(n,(r,s)=>{if(!L.isValidElement(r))return;let i=[...e,s];if(r.type===L.Fragment){t.push.apply(t,Cw(r.props.children,i));return}r.type!==Pe&&vt(!1),!r.props.index||!r.props.children||vt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Cw(r.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pw(){return Pw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pw.apply(this,arguments)}function lD(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function cD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uD(n,e){return n.button===0&&(!e||e==="_self")&&!cD(n)}const dD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hD="6";try{window.__reactRouterVersion=hD}catch{}const fD="startTransition",pE=OL[fD];function pD(n){let{basename:e,children:t,future:r,window:s}=n,i=L.useRef();i.current==null&&(i.current=v8({window:s,v5Compat:!0}));let a=i.current,[l,c]=L.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=L.useCallback(h=>{u&&pE?pE(()=>c(h)):c(h)},[c,u]);return L.useLayoutEffect(()=>a.listen(d),[a,d]),L.useEffect(()=>aD(r),[r]),L.createElement(oD,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a,future:r})}const mD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=L.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=lD(e,dD),{basename:p}=L.useContext(za),y,x=!1;if(typeof u=="string"&&gD.test(u)&&(y=u,mD))try{let S=new URL(window.location.href),w=u.startsWith("//")?new URL(S.protocol+u):new URL(u),N=EN(w.pathname,p);w.origin===S.origin&&N!=null?u=N+w.search+w.hash:x=!0}catch{}let b=H8(u,{relative:s}),m=yD(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function v(S){r&&r(S),S.defaultPrevented||m(S)}return L.createElement("a",Pw({},f,{href:y||b,onClick:x||i?r:v,ref:t,target:c}))});var mE;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(mE||(mE={}));var gE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(gE||(gE={}));function yD(n,e){let{target:t,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Ue(),u=$l(),d=YC(n,{relative:a});return L.useCallback(h=>{if(uD(h,t)){h.preventDefault();let f=r!==void 0?r:K0(u)===K0(d);c(n,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,t,n,i,a,l])}const de="http://localhost:3001",ZC=L.createContext(),vD=({children:n})=>{const[e,t]=L.useState({isAuthenticated:!1,isAdmin:!1,user:null,token:null});return L.useEffect(()=>{const r=localStorage.getItem("token");r&&fetch(`${de}/api/verify-token`,{headers:{Authorization:`Bearer ${r}`}}).then(s=>s.json()).then(s=>{s.success&&t({isAuthenticated:!0,isAdmin:s.user.isAdmin,user:s.user,token:r})}).catch(s=>{console.error("Token verification failed:",s),localStorage.removeItem("token")})},[]),o.jsx(ZC.Provider,{value:{authState:e,setAuthState:t},children:n})},kx=()=>L.useContext(ZC);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e4=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>L.createElement("svg",{ref:c,...bD,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:e4("lucide",s),...l},[...a.map(([u,d])=>L.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(n,e)=>{const t=L.forwardRef(({className:r,...s},i)=>L.createElement(wD,{ref:i,iconNode:e,className:e4(`lucide-${xD(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=ae("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ae("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=ae("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=ae("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ae("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ae("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ae("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=ae("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=ae("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=ae("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ae("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=ae("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=ae("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=ae("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ae("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ae("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ae("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=ae("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ae("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=ae("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=ae("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Yt({size:n="default"}){const e={small:"w-6 h-6",default:"w-12 h-12",large:"w-16 h-16"};return o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsxs("div",{className:`${e[n]} relative`,children:[o.jsx("div",{className:"absolute w-full h-full border-4 border-gray-200 rounded-full"}),o.jsx("div",{className:"absolute w-full h-full border-4 border-blue-600 rounded-full animate-spin border-t-transparent"})]})})}function bE(){const n=Ue(),{setAuthState:e}=kx(),[t,r]=L.useState(!0),s=()=>{localStorage.removeItem("adminToken"),e({isAuthenticated:!1,isAdmin:!1,user:null,token:null}),n("/admin/login")},i=[{title:"Manage Users",icon:o.jsx(Vr,{className:"w-8 h-8"}),description:"View and manage user accounts",onClick:()=>n("/admin/users"),bgColor:"bg-blue-500"},{title:"Create Course",icon:o.jsx(OD,{className:"w-8 h-8"}),description:"Create new courses and lessons",onClick:()=>n("/admin/course/create"),bgColor:"bg-green-500"},{title:"Manage Courses",icon:o.jsx(Jn,{className:"w-8 h-8"}),description:"View and edit existing courses",onClick:()=>n("/admin/course"),bgColor:"bg-yellow-500"},{title:"Create Blog Post",icon:o.jsx(Ra,{className:"w-8 h-8"}),description:"Write and publish new blog posts",onClick:()=>n("/admin/create-post"),bgColor:"bg-purple-500"},{title:"View Posts",icon:o.jsx(a4,{className:"w-8 h-8"}),description:"Manage existing blog posts",onClick:()=>n("/admin/posts"),bgColor:"bg-indigo-500"},{title:"Settings",icon:o.jsx(VD,{className:"w-8 h-8"}),description:"Configure admin settings",onClick:()=>n("/admin/settings"),bgColor:"bg-gray-700"}];return L.useEffect(()=>{(async()=>{try{}catch(l){console.error("Error fetching dashboard data:",l)}finally{r(!1)}})()},[]),t?o.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-white flex flex-col items-center justify-center",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{className:"mt-4 text-gray-300 font-medium",children:"Loading dashboard..."})]}):o.jsx("div",{className:"min-h-screen bg-gray-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Dashboard"}),o.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[o.jsx(o4,{className:"w-5 h-5 mr-2"}),"Logout"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((a,l)=>o.jsxs("div",{onClick:a.onClick,className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden hover:bg-gray-700 transition-all cursor-pointer",children:[o.jsx("div",{className:"p-4 text-white",children:a.icon}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:a.title}),o.jsx("p",{className:"text-gray-400 mt-1",children:a.description})]})]},l))})]})})}function fi({children:n}){const e=Ue();$l();const t=()=>{localStorage.removeItem("adminToken"),e("/admin/login")};return o.jsxs("div",{className:"min-h-screen bg-gray-900",children:[o.jsx("header",{className:"bg-gray-800 text-white shadow-lg",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:()=>e("/admin/dashboard"),className:"flex items-center space-x-2 text-gray-300 hover:text-white",children:[o.jsx(MD,{className:"w-5 h-5"}),o.jsx("span",{children:"Admin Dashboard"})]}),o.jsxs("button",{onClick:()=>e("/admin/users"),className:"flex items-center space-x-2 text-gray-300 hover:text-white",children:[o.jsx(Vr,{className:"w-5 h-5"}),o.jsx("span",{children:"Users"})]})]}),o.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-red-400 hover:text-red-300",children:[o.jsx(o4,{className:"w-5 h-5"}),o.jsx("span",{children:"Logout"})]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n})]})}function nI(){const[n,e]=L.useState([]),[t,r]=L.useState(!0),[s,i]=L.useState(null),a=Ue(),l=localStorage.getItem("adminToken"),[c,u]=L.useState(!1),[d,h]=L.useState(null),f=async()=>{try{const b=await fetch(`${de}/api/admin/users`,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!b.ok)throw new Error("Failed to fetch users");const m=await b.json();e(m.users),i(null)}catch(b){console.error("Error:",b),i("Failed to fetch users")}finally{r(!1)}};L.useEffect(()=>{f()},[]);const p=async b=>{if(window.confirm("Are you sure you want to delete this user?"))try{if(!(await fetch(`${de}/api/admin/users/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete user");f()}catch(m){console.error("Error:",m),i("Failed to delete user")}},y=async b=>{try{if(!(await fetch(`${de}/api/admin/users/${b}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to reset password");alert("Password reset email sent successfully")}catch(m){console.error("Error:",m),i("Failed to reset password")}},x=async b=>{b.preventDefault();try{if(!(await fetch(`${de}/api/admin/users/${d._id}`,{method:"PUT",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify(d)})).ok)throw new Error("Failed to update user");f(),u(!1)}catch(m){console.error("Error:",m),i("Failed to update user")}};return t?o.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):s?o.jsx("div",{className:"text-red-500 text-center",children:s}):o.jsx(fi,{children:o.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"User Management"}),o.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[o.jsx(vE,{className:"w-4 h-4"}),"Refresh"]})]}),o.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(b=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center",children:o.jsx("div",{children:o.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[b.firstName," ",b.lastName]})})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:b.email})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:b.phoneNumber})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.isActive?"Active":"Inactive"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>a(`/admin/users/${b._id}`),className:"text-indigo-600 hover:text-indigo-900",children:o.jsx(Ox,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>y(b._id),className:"text-yellow-600 hover:text-yellow-900",children:o.jsx(vE,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>p(b._id),className:"text-red-600 hover:text-red-900",children:o.jsx(Lx,{className:"w-5 h-5"})})]})})]},b._id))})]})}),c&&d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-96 max-h-[90vh] overflow-y-auto",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Edit User"}),o.jsxs("form",{onSubmit:x,children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"First Name"}),o.jsx("input",{type:"text",value:d.firstName,onChange:b=>h({...d,firstName:b.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-300 hover:text-white",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Save Changes"})]})]})]})})]})})}function u4(n,e){return function(){return n.apply(e,arguments)}}const{toString:rI}=Object.prototype,{getPrototypeOf:MN}=Object,Mx=(n=>e=>{const t=rI.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Gr=n=>(n=n.toLowerCase(),e=>Mx(e)===n),Dx=n=>e=>typeof e===n,{isArray:Ad}=Array,df=Dx("undefined");function sI(n){return n!==null&&!df(n)&&n.constructor!==null&&!df(n.constructor)&&Yn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const d4=Gr("ArrayBuffer");function iI(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&d4(n.buffer),e}const aI=Dx("string"),Yn=Dx("function"),h4=Dx("number"),Ix=n=>n!==null&&typeof n=="object",oI=n=>n===!0||n===!1,Bg=n=>{if(Mx(n)!=="object")return!1;const e=MN(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},lI=Gr("Date"),cI=Gr("File"),uI=Gr("Blob"),dI=Gr("FileList"),hI=n=>Ix(n)&&Yn(n.pipe),fI=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Yn(n.append)&&((e=Mx(n))==="formdata"||e==="object"&&Yn(n.toString)&&n.toString()==="[object FormData]"))},pI=Gr("URLSearchParams"),[mI,gI,yI,vI]=["ReadableStream","Request","Response","Headers"].map(Gr),xI=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pm(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),Ad(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,n[l],l,n)}}function f4(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const oo=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),p4=n=>!df(n)&&n!==oo;function Rw(){const{caseless:n}=p4(this)&&this||{},e={},t=(r,s)=>{const i=n&&f4(e,s)||s;Bg(e[i])&&Bg(r)?e[i]=Rw(e[i],r):Bg(r)?e[i]=Rw({},r):Ad(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Pm(arguments[r],t);return e}const bI=(n,e,t,{allOwnKeys:r}={})=>(Pm(e,(s,i)=>{t&&Yn(s)?n[i]=u4(s,t):n[i]=s},{allOwnKeys:r}),n),wI=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),SI=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},NI=(n,e,t,r)=>{let s,i,a;const l={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),i=s.length;i-- >0;)a=s[i],(!r||r(a,n,e))&&!l[a]&&(e[a]=n[a],l[a]=!0);n=t!==!1&&MN(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},AI=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},jI=n=>{if(!n)return null;if(Ad(n))return n;let e=n.length;if(!h4(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},EI=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&MN(Uint8Array)),_I=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(n,i[0],i[1])}},kI=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},TI=Gr("HTMLFormElement"),CI=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),wE=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),PI=Gr("RegExp"),m4=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Pm(t,(s,i)=>{let a;(a=e(s,i,n))!==!1&&(r[i]=a||s)}),Object.defineProperties(n,r)},OI=n=>{m4(n,(e,t)=>{if(Yn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Yn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},LI=(n,e)=>{const t={},r=s=>{s.forEach(i=>{t[i]=!0})};return Ad(n)?r(n):r(String(n).split(e)),t},RI=()=>{},MI=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,K1="abcdefghijklmnopqrstuvwxyz",SE="0123456789",g4={DIGIT:SE,ALPHA:K1,ALPHA_DIGIT:K1+K1.toUpperCase()+SE},DI=(n=16,e=g4.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function II(n){return!!(n&&Yn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const FI=n=>{const e=new Array(10),t=(r,s)=>{if(Ix(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Ad(r)?[]:{};return Pm(r,(a,l)=>{const c=t(a,s+1);!df(c)&&(i[l]=c)}),e[s]=void 0,i}}return r};return t(n,0)},BI=Gr("AsyncFunction"),$I=n=>n&&(Ix(n)||Yn(n))&&Yn(n.then)&&Yn(n.catch),y4=((n,e)=>n?setImmediate:e?((t,r)=>(oo.addEventListener("message",({source:s,data:i})=>{s===oo&&i===t&&r.length&&r.shift()()},!1),s=>{r.push(s),oo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Yn(oo.postMessage)),zI=typeof queueMicrotask<"u"?queueMicrotask.bind(oo):typeof process<"u"&&process.nextTick||y4,Z={isArray:Ad,isArrayBuffer:d4,isBuffer:sI,isFormData:fI,isArrayBufferView:iI,isString:aI,isNumber:h4,isBoolean:oI,isObject:Ix,isPlainObject:Bg,isReadableStream:mI,isRequest:gI,isResponse:yI,isHeaders:vI,isUndefined:df,isDate:lI,isFile:cI,isBlob:uI,isRegExp:PI,isFunction:Yn,isStream:hI,isURLSearchParams:pI,isTypedArray:EI,isFileList:dI,forEach:Pm,merge:Rw,extend:bI,trim:xI,stripBOM:wI,inherits:SI,toFlatObject:NI,kindOf:Mx,kindOfTest:Gr,endsWith:AI,toArray:jI,forEachEntry:_I,matchAll:kI,isHTMLForm:TI,hasOwnProperty:wE,hasOwnProp:wE,reduceDescriptors:m4,freezeMethods:OI,toObjectSet:LI,toCamelCase:CI,noop:RI,toFiniteNumber:MI,findKey:f4,global:oo,isContextDefined:p4,ALPHABET:g4,generateString:DI,isSpecCompliantForm:II,toJSONObject:FI,isAsyncFn:BI,isThenable:$I,setImmediate:y4,asap:zI};function we(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Z.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const v4=we.prototype,x4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{x4[n]={value:n}});Object.defineProperties(we,x4);Object.defineProperty(v4,"isAxiosError",{value:!0});we.from=(n,e,t,r,s,i)=>{const a=Object.create(v4);return Z.toFlatObject(n,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),we.call(a,n.message,e,t,r,s),a.cause=n,a.name=n.name,i&&Object.assign(a,i),a};const UI=null;function Mw(n){return Z.isPlainObject(n)||Z.isArray(n)}function b4(n){return Z.endsWith(n,"[]")?n.slice(0,-2):n}function NE(n,e,t){return n?n.concat(e).map(function(s,i){return s=b4(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function VI(n){return Z.isArray(n)&&!n.some(Mw)}const HI=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function Fx(n,e,t){if(!Z.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!Z.isUndefined(b[x])});const r=t.metaTokens,s=t.visitor||d,i=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Z.isDate(y))return y.toISOString();if(!c&&Z.isBlob(y))throw new we("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(y)||Z.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,x,b){let m=y;if(y&&!b&&typeof y=="object"){if(Z.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(Z.isArray(y)&&VI(y)||(Z.isFileList(y)||Z.endsWith(x,"[]"))&&(m=Z.toArray(y)))return x=b4(x),m.forEach(function(S,w){!(Z.isUndefined(S)||S===null)&&e.append(a===!0?NE([x],w,i):a===null?x:x+"[]",u(S))}),!1}return Mw(y)?!0:(e.append(NE(b,x,i),u(y)),!1)}const h=[],f=Object.assign(HI,{defaultVisitor:d,convertValue:u,isVisitable:Mw});function p(y,x){if(!Z.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(y),Z.forEach(y,function(m,v){(!(Z.isUndefined(m)||m===null)&&s.call(e,m,Z.isString(v)?v.trim():v,x,f))===!0&&p(m,x?x.concat(v):[v])}),h.pop()}}if(!Z.isObject(n))throw new TypeError("data must be an object");return p(n),e}function AE(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function DN(n,e){this._pairs=[],n&&Fx(n,this,e)}const w4=DN.prototype;w4.append=function(e,t){this._pairs.push([e,t])};w4.toString=function(e){const t=e?function(r){return e.call(this,r,AE)}:AE;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function qI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function S4(n,e,t){if(!e)return n;const r=t&&t.encode||qI;Z.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=Z.isURLSearchParams(e)?e.toString():new DN(e,t).toString(r),i){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class WI{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const jE=WI,N4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GI=typeof URLSearchParams<"u"?URLSearchParams:DN,KI=typeof FormData<"u"?FormData:null,XI=typeof Blob<"u"?Blob:null,YI={isBrowser:!0,classes:{URLSearchParams:GI,FormData:KI,Blob:XI},protocols:["http","https","file","blob","url","data"]},IN=typeof window<"u"&&typeof document<"u",Dw=typeof navigator=="object"&&navigator||void 0,QI=IN&&(!Dw||["ReactNative","NativeScript","NS"].indexOf(Dw.product)<0),JI=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ZI=IN&&window.location.href||"http://localhost",eF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:IN,hasStandardBrowserEnv:QI,hasStandardBrowserWebWorkerEnv:JI,navigator:Dw,origin:ZI},Symbol.toStringTag,{value:"Module"})),cn={...eF,...YI};function tF(n,e){return Fx(n,new cn.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,i){return cn.isNode&&Z.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function nF(n){return Z.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rF(n){const e={},t=Object.keys(n);let r;const s=t.length;let i;for(r=0;r<s;r++)i=t[r],e[i]=n[i];return e}function A4(n){function e(t,r,s,i){let a=t[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=t.length;return a=!a&&Z.isArray(s)?s.length:a,c?(Z.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!Z.isObject(s[a]))&&(s[a]=[]),e(t,r,s[a],i)&&Z.isArray(s[a])&&(s[a]=rF(s[a])),!l)}if(Z.isFormData(n)&&Z.isFunction(n.entries)){const t={};return Z.forEachEntry(n,(r,s)=>{e(nF(r),s,t,0)}),t}return null}function sF(n,e,t){if(Z.isString(n))try{return(e||JSON.parse)(n),Z.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const FN={transitional:N4,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,i=Z.isObject(e);if(i&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return s?JSON.stringify(A4(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tF(e,this.formSerializer).toString();if((l=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Fx(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),sF(e)):e}],transformResponse:[function(e){const t=this.transitional||FN.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?we.from(l,we.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],n=>{FN.headers[n]={}});const BN=FN,iF=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aF=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(a){s=a.indexOf(":"),t=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!t||e[t]&&iF[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},EE=Symbol("internals");function qd(n){return n&&String(n).trim().toLowerCase()}function $g(n){return n===!1||n==null?n:Z.isArray(n)?n.map($g):String(n)}function oF(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const lF=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function X1(n,e,t,r,s){if(Z.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function cF(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function uF(n,e){const t=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}class Bx{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function i(l,c,u){const d=qd(c);if(!d)throw new Error("header name must be a non-empty string");const h=Z.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=$g(l))}const a=(l,c)=>Z.forEach(l,(u,d)=>i(u,d,c));if(Z.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Z.isString(e)&&(e=e.trim())&&!lF(e))a(aF(e),t);else if(Z.isHeaders(e))for(const[l,c]of e.entries())i(c,l,r);else e!=null&&i(t,e,r);return this}get(e,t){if(e=qd(e),e){const r=Z.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return oF(s);if(Z.isFunction(t))return t.call(this,s,r);if(Z.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=qd(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||X1(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function i(a){if(a=qd(a),a){const l=Z.findKey(r,a);l&&(!t||X1(r,r[l],l,t))&&(delete r[l],s=!0)}}return Z.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const i=t[r];(!e||X1(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,r={};return Z.forEach(this,(s,i)=>{const a=Z.findKey(r,i);if(a){t[a]=$g(s),delete t[i];return}const l=e?cF(i):String(i).trim();l!==i&&delete t[i],t[l]=$g(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Z.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&Z.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[EE]=this[EE]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=qd(a);r[l]||(uF(s,a),r[l]=!0)}return Z.isArray(e)?e.forEach(i):i(e),this}}Bx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(Bx.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Z.freezeMethods(Bx);const Hr=Bx;function Y1(n,e){const t=this||BN,r=e||t,s=Hr.from(r.headers);let i=r.data;return Z.forEach(n,function(l){i=l.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function j4(n){return!!(n&&n.__CANCEL__)}function jd(n,e,t){we.call(this,n??"canceled",we.ERR_CANCELED,e,t),this.name="CanceledError"}Z.inherits(jd,we,{__CANCEL__:!0});function E4(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new we("Request failed with status code "+t.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function dF(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function hF(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[i];a||(a=u),t[s]=c,r[s]=u;let h=i,f=0;for(;h!==s;)f+=t[h++],h=h%n;if(s=(s+1)%n,s===i&&(i=(i+1)%n),u-a<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function fF(n,e){let t=0,r=1e3/e,s,i;const a=(u,d=Date.now())=>{t=d,s=null,i&&(clearTimeout(i),i=null),n.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-t;h>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-h)))},()=>s&&a(s)]}const Z0=(n,e,t=3)=>{let r=0;const s=hF(50,250);return fF(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),d=a<=l;r=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};n(h)},t)},_E=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},kE=n=>(...e)=>Z.asap(()=>n(...e)),pF=cn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,cn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,mF=cn.hasStandardBrowserEnv?{write(n,e,t,r,s,i){const a=[n+"="+encodeURIComponent(e)];Z.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),Z.isString(r)&&a.push("path="+r),Z.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gF(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function yF(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function _4(n,e){return n&&!gF(e)?yF(n,e):e}const TE=n=>n instanceof Hr?{...n}:n;function Ol(n,e){e=e||{};const t={};function r(u,d,h,f){return Z.isPlainObject(u)&&Z.isPlainObject(d)?Z.merge.call({caseless:f},u,d):Z.isPlainObject(d)?Z.merge({},d):Z.isArray(d)?d.slice():d}function s(u,d,h,f){if(Z.isUndefined(d)){if(!Z.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function i(u,d){if(!Z.isUndefined(d))return r(void 0,d)}function a(u,d){if(Z.isUndefined(d)){if(!Z.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in e)return r(u,d);if(h in n)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,h)=>s(TE(u),TE(d),h,!0)};return Z.forEach(Object.keys(Object.assign({},n,e)),function(d){const h=c[d]||s,f=h(n[d],e[d],d);Z.isUndefined(f)&&h!==l||(t[d]=f)}),t}const k4=n=>{const e=Ol({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;e.headers=a=Hr.from(a),e.url=S4(_4(e.baseURL,e.url),n.params,n.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Z.isFormData(t)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...d].join("; "))}}if(cn.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&pF(e.url))){const u=s&&i&&mF.read(i);u&&a.set(s,u)}return e},vF=typeof XMLHttpRequest<"u",xF=vF&&function(n){return new Promise(function(t,r){const s=k4(n);let i=s.data;const a=Hr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,h,f,p,y;function x(){p&&p(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function m(){if(!b)return;const S=Hr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:n,request:b};E4(function(_){t(_),x()},function(_){r(_),x()},N),b=null}"onloadend"in b?b.onloadend=m:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(m)},b.onabort=function(){b&&(r(new we("Request aborted",we.ECONNABORTED,n,b)),b=null)},b.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||N4;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),r(new we(w,N.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,n,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&Z.forEach(a.toJSON(),function(w,N){b.setRequestHeader(N,w)}),Z.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),u&&([f,y]=Z0(u,!0),b.addEventListener("progress",f)),c&&b.upload&&([h,p]=Z0(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=S=>{b&&(r(!S||S.type?new jd(null,n,b):S),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const v=dF(s.url);if(v&&cn.protocols.indexOf(v)===-1){r(new we("Unsupported protocol "+v+":",we.ERR_BAD_REQUEST,n));return}b.send(i||null)})},bF=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof we?d:new jd(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const l=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),n=null)};n.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>Z.asap(l),c}},wF=bF,SF=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},NF=async function*(n,e){for await(const t of AF(n))yield*SF(t,e)},AF=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},CE=(n,e,t,r)=>{const s=NF(n,e);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let h=d.byteLength;if(t){let f=i+=h;t(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},$x=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",T4=$x&&typeof ReadableStream=="function",jF=$x&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),C4=(n,...e)=>{try{return!!n(...e)}catch{return!1}},EF=T4&&C4(()=>{let n=!1;const e=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),PE=64*1024,Iw=T4&&C4(()=>Z.isReadableStream(new Response("").body)),ey={stream:Iw&&(n=>n.body)};$x&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ey[e]&&(ey[e]=Z.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new we(`Response type '${e}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);const _F=async n=>{if(n==null)return 0;if(Z.isBlob(n))return n.size;if(Z.isSpecCompliantForm(n))return(await new Request(cn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(n)||Z.isArrayBuffer(n))return n.byteLength;if(Z.isURLSearchParams(n)&&(n=n+""),Z.isString(n))return(await jF(n)).byteLength},kF=async(n,e)=>{const t=Z.toFiniteNumber(n.getContentLength());return t??_F(e)},TF=$x&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=k4(n);u=u?(u+"").toLowerCase():"text";let p=wF([s,i&&i.toAbortSignal()],a),y;const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(c&&EF&&t!=="get"&&t!=="head"&&(b=await kF(d,r))!==0){let N=new Request(e,{method:"POST",body:r,duplex:"half"}),E;if(Z.isFormData(r)&&(E=N.headers.get("content-type"))&&d.setContentType(E),N.body){const[_,A]=_E(b,Z0(kE(c)));r=CE(N.body,PE,_,A)}}Z.isString(h)||(h=h?"include":"omit");const m="credentials"in Request.prototype;y=new Request(e,{...f,signal:p,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:m?h:void 0});let v=await fetch(y);const S=Iw&&(u==="stream"||u==="response");if(Iw&&(l||S&&x)){const N={};["status","statusText","headers"].forEach(C=>{N[C]=v[C]});const E=Z.toFiniteNumber(v.headers.get("content-length")),[_,A]=l&&_E(E,Z0(kE(l),!0))||[];v=new Response(CE(v.body,PE,_,()=>{A&&A(),x&&x()}),N)}u=u||"text";let w=await ey[Z.findKey(ey,u)||"text"](v,n);return!S&&x&&x(),await new Promise((N,E)=>{E4(N,E,{data:w,headers:Hr.from(v.headers),status:v.status,statusText:v.statusText,config:n,request:y})})}catch(m){throw x&&x(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,n,y),{cause:m.cause||m}):we.from(m,m&&m.code,n,y)}}),Fw={http:UI,xhr:xF,fetch:TF};Z.forEach(Fw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const OE=n=>`- ${n}`,CF=n=>Z.isFunction(n)||n===null||n===!1,P4={getAdapter:n=>{n=Z.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let i=0;i<e;i++){t=n[i];let a;if(r=t,!CF(t)&&(r=Fw[(a=String(t)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(OE).join(`
`):" "+OE(i[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Fw};function Q1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new jd(null,n)}function LE(n){return Q1(n),n.headers=Hr.from(n.headers),n.data=Y1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),P4.getAdapter(n.adapter||BN.adapter)(n).then(function(r){return Q1(n),r.data=Y1.call(n,n.transformResponse,r),r.headers=Hr.from(r.headers),r},function(r){return j4(r)||(Q1(n),r&&r.response&&(r.response.data=Y1.call(n,n.transformResponse,r.response),r.response.headers=Hr.from(r.response.headers))),Promise.reject(r)})}const O4="1.7.9",zx={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{zx[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const RE={};zx.transitional=function(e,t,r){function s(i,a){return"[Axios v"+O4+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(e===!1)throw new we(s(a," has been removed"+(t?" in "+t:"")),we.ERR_DEPRECATED);return t&&!RE[a]&&(RE[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,a,l):!0}};zx.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function PF(n,e,t){if(typeof n!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=n[i],c=l===void 0||a(l,i,n);if(c!==!0)throw new we("option "+i+" must be "+c,we.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new we("Unknown option "+i,we.ERR_BAD_OPTION)}}const zg={assertOptions:PF,validators:zx},Xr=zg.validators;class ty{constructor(e){this.defaults=e,this.interceptors={request:new jE,response:new jE}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ol(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:i}=t;r!==void 0&&zg.assertOptions(r,{silentJSONParsing:Xr.transitional(Xr.boolean),forcedJSONParsing:Xr.transitional(Xr.boolean),clarifyTimeoutError:Xr.transitional(Xr.boolean)},!1),s!=null&&(Z.isFunction(s)?t.paramsSerializer={serialize:s}:zg.assertOptions(s,{encode:Xr.function,serialize:Xr.function},!0)),zg.assertOptions(t,{baseUrl:Xr.spelling("baseURL"),withXsrfToken:Xr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&Z.merge(i.common,i[t.method]);i&&Z.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),t.headers=Hr.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,h=0,f;if(!c){const y=[LE.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,u),f=y.length,d=Promise.resolve(t);h<f;)d=d.then(y[h++],y[h++]);return d}f=l.length;let p=t;for(h=0;h<f;){const y=l[h++],x=l[h++];try{p=y(p)}catch(b){x.call(this,b);break}}try{d=LE.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Ol(this.defaults,e);const t=_4(e.baseURL,e.url);return S4(t,e.params,e.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(e){ty.prototype[e]=function(t,r){return this.request(Ol(r||{},{method:e,url:t,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function t(r){return function(i,a,l){return this.request(Ol(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}ty.prototype[e]=t(),ty.prototype[e+"Form"]=t(!0)});const Ug=ty;class $N{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,l){r.reason||(r.reason=new jd(i,a,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new $N(function(s){e=s}),cancel:e}}}const OF=$N;function LF(n){return function(t){return n.apply(null,t)}}function RF(n){return Z.isObject(n)&&n.isAxiosError===!0}const Bw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bw).forEach(([n,e])=>{Bw[e]=n});const MF=Bw;function L4(n){const e=new Ug(n),t=u4(Ug.prototype.request,e);return Z.extend(t,Ug.prototype,e,{allOwnKeys:!0}),Z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return L4(Ol(n,s))},t}const Nt=L4(BN);Nt.Axios=Ug;Nt.CanceledError=jd;Nt.CancelToken=OF;Nt.isCancel=j4;Nt.VERSION=O4;Nt.toFormData=Fx;Nt.AxiosError=we;Nt.Cancel=Nt.CanceledError;Nt.all=function(e){return Promise.all(e)};Nt.spread=LF;Nt.isAxiosError=RF;Nt.mergeConfig=Ol;Nt.AxiosHeaders=Hr;Nt.formToJSON=n=>A4(Z.isHTMLForm(n)?new FormData(n):n);Nt.getAdapter=P4.getAdapter;Nt.HttpStatusCode=MF;Nt.default=Nt;const lo=Nt;function DF(){const{userId:n}=Ai(),e=Ue(),[t,r]=L.useState(null),[s,i]=L.useState(null),[a,l]=L.useState(!0),[c,u]=L.useState({}),[d,h]=L.useState({});L.useEffect(()=>{f()},[n]);const f=async()=>{try{const m=localStorage.getItem("adminToken"),v=await lo.get(`${de}/api/admin/users/${n}`,{headers:{Authorization:`Bearer ${m}`}});v.data.success&&(r(v.data.user),h(v.data.user))}catch(m){console.error("Error details:",m),i("Failed to fetch user details")}finally{l(!1)}},p=m=>{u(v=>({...v,[m]:!0}))},y=m=>{u(v=>({...v,[m]:!1})),h(v=>({...v,[m]:t[m]}))},x=async m=>{try{const v=localStorage.getItem("adminToken");(await lo.put(`${de}/api/admin/users/${n}`,{[m]:d[m]},{headers:{Authorization:`Bearer ${v}`}})).data.success&&(r(w=>({...w,[m]:d[m]})),u(w=>({...w,[m]:!1})),alert("Updated successfully"))}catch(v){console.error("Error updating:",v),alert("Failed to update")}},b=(m,v,S="text")=>o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:m}),o.jsx("div",{className:"flex items-center space-x-2",children:c[v]?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:S,value:d[v]||"",onChange:w=>h(N=>({...N,[v]:w.target.value})),className:"flex-1 bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600 focus:border-indigo-500"}),o.jsx("button",{onClick:()=>x(v),className:"p-2 text-green-400 hover:text-green-300",children:o.jsx(Px,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>y(v),className:"p-2 text-red-400 hover:text-red-300",children:o.jsx(js,{className:"w-5 h-5"})})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"flex-1 text-white",children:t[v]}),o.jsx("button",{onClick:()=>p(v),className:"p-2 text-blue-400 hover:text-blue-300",children:o.jsx(l4,{className:"w-5 h-5"})})]})})]});return a?o.jsx("div",{className:"min-h-screen bg-gray-900 flex justify-center items-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):s||!t?o.jsx("div",{className:"min-h-screen bg-gray-900 flex justify-center items-center",children:o.jsx("div",{className:"text-white text-lg",children:"No user found"})}):o.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"flex items-center mb-8",children:o.jsxs("button",{onClick:()=>e("/admin/users"),className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[o.jsx(yr,{className:"w-5 h-5 mr-2"}),"Back to Users"]})}),o.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:"User Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[b("First Name","firstName"),b("Last Name","lastName"),b("Email","email","email"),b("Phone Number","phoneNumber","tel")]}),o.jsxs("div",{className:"space-y-4",children:[b("Status","status"),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:"Created At"}),o.jsx("span",{className:"text-white",children:new Date(t.createdAt).toLocaleString()})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:"Last Updated"}),o.jsx("span",{className:"text-white",children:new Date(t.updatedAt).toLocaleString()})]})]})]})]})]})})}const zN=L.createContext({});function Ed(n){const e=L.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ux=L.createContext(null),Om=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class IF extends L.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function FF({children:n,isPresent:e}){const t=L.useId(),r=L.useRef(null),s=L.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=L.useContext(Om);return L.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u}=s.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=t;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),o.jsx(IF,{isPresent:e,childRef:r,sizeRef:s,children:L.cloneElement(n,{ref:r})})}const BF=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=Ed($F),c=L.useId(),u=L.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),d=L.useMemo(()=>({id:c,initial:e,isPresent:t,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[t,u]);return L.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[t]),L.useEffect(()=>{!t&&!l.size&&r&&r()},[t]),a==="popLayout"&&(n=o.jsx(FF,{isPresent:t,children:n})),o.jsx(Ux.Provider,{value:d,children:n})};function $F(){return new Map}function R4(n=!0){const e=L.useContext(Ux);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,i=L.useId();L.useEffect(()=>{n&&s(i)},[n]);const a=L.useCallback(()=>n&&r&&r(i),[i,r,n]);return!t&&r?[!1,a]:[!0]}const ug=n=>n.key||"";function ME(n){const e=[];return L.Children.forEach(n,t=>{L.isValidElement(t)&&e.push(t)}),e}const UN=typeof window<"u",Lm=UN?L.useLayoutEffect:L.useEffect,co=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[l,c]=R4(a),u=L.useMemo(()=>ME(n),[n]),d=a&&!l?[]:u.map(ug),h=L.useRef(!0),f=L.useRef(u),p=Ed(()=>new Map),[y,x]=L.useState(u),[b,m]=L.useState(u);Lm(()=>{h.current=!1,f.current=u;for(let w=0;w<b.length;w++){const N=ug(b[w]);d.includes(N)?p.delete(N):p.get(N)!==!0&&p.set(N,!1)}},[b,d.length,d.join("-")]);const v=[];if(u!==y){let w=[...u];for(let N=0;N<b.length;N++){const E=b[N],_=ug(E);d.includes(_)||(w.splice(N,0,E),v.push(E))}i==="wait"&&v.length&&(w=v),m(ME(w)),x(u);return}const{forceRender:S}=L.useContext(zN);return o.jsx(o.Fragment,{children:b.map(w=>{const N=ug(w),E=a&&!l?!1:u===b||d.includes(N),_=()=>{if(p.has(N))p.set(N,!0);else return;let A=!0;p.forEach(C=>{C||(A=!1)}),A&&(S==null||S(),m(f.current),a&&(c==null||c()),r&&r())};return o.jsx(BF,{isPresent:E,initial:!h.current||t?void 0:!1,custom:E?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:_,children:w},N)})})},xn=n=>n;let zF=xn,M4=xn;function VN(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ll=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},pi=n=>n*1e3,mi=n=>n/1e3,UF={skipAnimations:!1,useManualTiming:!1};function VF(n){let e=new Set,t=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),n()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&r?e:t;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{t.delete(u),i.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[e,t]=[t,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const dg=["read","resolveKeyframes","update","preRender","render","postRender"],HF=40;function D4(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,a=dg.reduce((m,v)=>(m[v]=VF(i),m),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,p=()=>{const m=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,HF),1),s.timestamp=m,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(p))},y=()=>{t=!0,r=!0,s.isProcessing||n(p)};return{schedule:dg.reduce((m,v)=>{const S=a[v];return m[v]=(w,N=!1,E=!1)=>(t||y(),S.schedule(w,N,E)),m},{}),cancel:m=>{for(let v=0;v<dg.length;v++)a[dg[v]].cancel(m)},state:s,steps:a}}const{schedule:Me,cancel:Wr,state:kt,steps:J1}=D4(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0),I4=L.createContext({strict:!1}),DE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pd={};for(const n in DE)pd[n]={isEnabled:e=>DE[n].some(t=>!!e[t])};function qF(n){for(const e in n)pd[e]={...pd[e],...n[e]}}const WF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ny(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||WF.has(n)}let F4=n=>!ny(n);function GF(n){n&&(F4=e=>e.startsWith("on")?!ny(e):n(e))}try{GF(require("@emotion/is-prop-valid").default)}catch{}function KF(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(F4(s)||t===!0&&ny(s)||!e&&!ny(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function XF(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Vx=L.createContext({});function hf(n){return typeof n=="string"||Array.isArray(n)}function Hx(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const HN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qN=["initial",...HN];function qx(n){return Hx(n.animate)||qN.some(e=>hf(n[e]))}function B4(n){return!!(qx(n)||n.variants)}function YF(n,e){if(qx(n)){const{initial:t,animate:r}=n;return{initial:t===!1||hf(t)?t:void 0,animate:hf(r)?r:void 0}}return n.inherit!==!1?e:{}}function QF(n){const{initial:e,animate:t}=YF(n,L.useContext(Vx));return L.useMemo(()=>({initial:e,animate:t}),[IE(e),IE(t)])}function IE(n){return Array.isArray(n)?n.join(" "):n}const JF=Symbol.for("motionComponentSymbol");function mc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ZF(n,e,t){return L.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):mc(t)&&(t.current=r))},[e])}const WN=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),e7="framerAppearId",$4="data-"+WN(e7),{schedule:GN,cancel:bte}=D4(queueMicrotask,!1),z4=L.createContext({});function t7(n,e,t,r,s){var i,a;const{visualElement:l}=L.useContext(Vx),c=L.useContext(I4),u=L.useContext(Ux),d=L.useContext(Om).reducedMotion,h=L.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(n,{visualState:e,parent:l,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=L.useContext(z4);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&n7(h.current,t,s,p);const y=L.useRef(!1);L.useInsertionEffect(()=>{f&&y.current&&f.update(t,u)});const x=t[$4],b=L.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,x)));return Lm(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),GN.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),L.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,x)}),b.current=!1))}),f}function n7(n,e,t,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:U4(n.parent)),n.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&mc(l),visualElement:n,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function U4(n){if(n)return n.options.allowProjection!==!1?n.projection:U4(n.parent)}function r7({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){var i,a;n&&qF(n);function l(u,d){let h;const f={...L.useContext(Om),...u,layoutId:s7(u)},{isStatic:p}=f,y=QF(u),x=r(u,p);if(!p&&UN){i7();const b=a7(f);h=b.MeasureLayout,y.visualElement=t7(s,x,f,e,b.ProjectionNode)}return o.jsxs(Vx.Provider,{value:y,children:[h&&y.visualElement?o.jsx(h,{visualElement:y.visualElement,...f}):null,t(s,u,ZF(x,y.visualElement,d),x,p,y.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=L.forwardRef(l);return c[JF]=s,c}function s7({layoutId:n}){const e=L.useContext(zN).id;return e&&n!==void 0?e+"-"+n:n}function i7(n,e){L.useContext(I4).strict}function a7(n){const{drag:e,layout:t}=pd;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const o7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KN(n){return typeof n!="string"||n.includes("-")?!1:!!(o7.indexOf(n)>-1||/[A-Z]/u.test(n))}function FE(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function XN(n,e,t,r){if(typeof e=="function"){const[s,i]=FE(r);e=e(t!==void 0?t:n.custom,s,i)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,i]=FE(r);e=e(t!==void 0?t:n.custom,s,i)}return e}const $w=n=>Array.isArray(n),l7=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),c7=n=>$w(n)?n[n.length-1]||0:n,$t=n=>!!(n&&n.getVelocity);function Vg(n){const e=$t(n)?n.get():n;return l7(e)?e.toValue():e}function u7({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,i){const a={latestValues:d7(r,s,i,n),renderState:e()};return t&&(a.onMount=l=>t({props:r,current:l,...a}),a.onUpdate=l=>t(l)),a}const V4=n=>(e,t)=>{const r=L.useContext(Vx),s=L.useContext(Ux),i=()=>u7(n,e,r,s);return t?i():Ed(i)};function d7(n,e,t,r){const s={},i=r(n,{});for(const f in i)s[f]=Vg(i[f]);let{initial:a,animate:l}=n;const c=qx(n),u=B4(n);e&&u&&!c&&n.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=t?t.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!Hx(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const y=XN(n,f[p]);if(y){const{transitionEnd:x,transition:b,...m}=y;for(const v in m){let S=m[v];if(Array.isArray(S)){const w=d?S.length-1:0;S=S[w]}S!==null&&(s[v]=S)}for(const v in x)s[v]=x[v]}}}return s}const _d=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zl=new Set(_d),H4=n=>e=>typeof e=="string"&&e.startsWith(n),q4=H4("--"),h7=H4("var(--"),YN=n=>h7(n)?f7.test(n.split("/*")[0].trim()):!1,f7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,W4=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Es=(n,e,t)=>t>e?e:t<n?n:t,kd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ff={...kd,transform:n=>Es(0,1,n)},hg={...kd,default:1},Rm=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ki=Rm("deg"),Ns=Rm("%"),ye=Rm("px"),p7=Rm("vh"),m7=Rm("vw"),BE={...Ns,parse:n=>Ns.parse(n)/100,transform:n=>Ns.transform(n*100)},g7={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye},y7={rotate:ki,rotateX:ki,rotateY:ki,rotateZ:ki,scale:hg,scaleX:hg,scaleY:hg,scaleZ:hg,skew:ki,skewX:ki,skewY:ki,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:ff,originX:BE,originY:BE,originZ:ye},$E={...kd,transform:Math.round},QN={...g7,...y7,zIndex:$E,size:ye,fillOpacity:ff,strokeOpacity:ff,numOctaves:$E},v7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x7=_d.length;function b7(n,e,t){let r="",s=!0;for(let i=0;i<x7;i++){const a=_d[i],l=n[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const u=W4(l,QN[a]);if(!c){s=!1;const d=v7[a]||a;r+=`${d}(${u}) `}t&&(e[a]=u)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function JN(n,e,t){const{style:r,vars:s,transformOrigin:i}=n;let a=!1,l=!1;for(const c in e){const u=e[c];if(zl.has(c)){a=!0;continue}else if(q4(c)){s[c]=u;continue}else{const d=W4(u,QN[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(a||t?r.transform=b7(e,n.transform,t):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const w7={offset:"stroke-dashoffset",array:"stroke-dasharray"},S7={offset:"strokeDashoffset",array:"strokeDasharray"};function N7(n,e,t=1,r=0,s=!0){n.pathLength=1;const i=s?w7:S7;n[i.offset]=ye.transform(-r);const a=ye.transform(e),l=ye.transform(t);n[i.array]=`${a} ${l}`}function zE(n,e,t){return typeof n=="string"?n:ye.transform(e+t*n)}function A7(n,e,t){const r=zE(e,n.x,n.width),s=zE(t,n.y,n.height);return`${r} ${s}`}function ZN(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(JN(n,u,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:p,dimensions:y}=n;f.transform&&(y&&(p.transform=f.transform),delete f.transform),y&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=A7(y,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),r!==void 0&&(f.scale=r),a!==void 0&&N7(f,a,l,c,!1)}const eA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),G4=()=>({...eA(),attrs:{}}),tA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function K4(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const i in t)n.style.setProperty(i,t[i])}const X4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y4(n,e,t,r){K4(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(X4.has(s)?s:WN(s),e.attrs[s])}const ry={};function j7(n){Object.assign(ry,n)}function Q4(n,{layout:e,layoutId:t}){return zl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!ry[n]||n==="opacity")}function nA(n,e,t){var r;const{style:s}=n,i={};for(const a in s)($t(s[a])||e.style&&$t(e.style[a])||Q4(a,n)||((r=t==null?void 0:t.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function J4(n,e,t){const r=nA(n,e,t);for(const s in n)if($t(n[s])||$t(e[s])){const i=_d.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=n[s]}return r}function E7(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const UE=["x","y","width","height","cx","cy","r"],_7={useVisualState:V4({scrapeMotionValuesFromProps:J4,createRenderState:G4,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let i=!!n.drag;if(!i){for(const l in s)if(zl.has(l)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let l=0;l<UE.length;l++){const c=UE[l];n[c]!==e[c]&&(a=!0)}a&&Me.read(()=>{E7(t,r),Me.render(()=>{ZN(r,s,tA(t.tagName),n.transformTemplate),Y4(t,r)})})}})},k7={useVisualState:V4({scrapeMotionValuesFromProps:nA,createRenderState:eA})};function Z4(n,e,t){for(const r in e)!$t(e[r])&&!Q4(r,t)&&(n[r]=e[r])}function T7({transformTemplate:n},e){return L.useMemo(()=>{const t=eA();return JN(t,e,n),Object.assign({},t.vars,t.style)},[e])}function C7(n,e){const t=n.style||{},r={};return Z4(r,t,n),Object.assign(r,T7(n,e)),r}function P7(n,e){const t={},r=C7(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function O7(n,e,t,r){const s=L.useMemo(()=>{const i=G4();return ZN(i,e,tA(r),n.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(n.style){const i={};Z4(i,n.style,n),s.style={...i,...s.style}}return s}function L7(n=!1){return(t,r,s,{latestValues:i},a)=>{const c=(KN(t)?O7:P7)(r,i,a,t),u=KF(r,typeof t=="string",n),d=t!==L.Fragment?{...u,...c,ref:s}:{},{children:h}=r,f=L.useMemo(()=>$t(h)?h.get():h,[h]);return L.createElement(t,{...d,children:f})}}function R7(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...KN(r)?_7:k7,preloadedFeatures:n,useRender:L7(s),createVisualElement:e,Component:r};return r7(a)}}function eP(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Wx(n,e,t){const r=n.getProps();return XN(r,e,t!==void 0?t:r.custom,n)}const tP=VN(()=>window.ScrollTimeline!==void 0);class M7{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(tP()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class D7 extends M7{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function rA(n,e){return n?n[e]||n.default||n:void 0}const zw=2e4;function nP(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<zw;)e+=t,r=n.next(e);return e>=zw?1/0:e}function sA(n){return typeof n=="function"}function VE(n,e){n.timeline=e,n.onfinish=null}const iA=n=>Array.isArray(n)&&typeof n[0]=="number",I7={linearEasing:void 0};function F7(n,e){const t=VN(n);return()=>{var r;return(r=I7[e])!==null&&r!==void 0?r:t()}}const sy=F7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rP=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let i=0;i<s;i++)r+=n(Ll(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function sP(n){return!!(typeof n=="function"&&sy()||!n||typeof n=="string"&&(n in Uw||sy())||iA(n)||Array.isArray(n)&&n.every(sP))}const sh=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Uw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sh([0,.65,.55,1]),circOut:sh([.55,0,1,.45]),backIn:sh([.31,.01,.66,-.59]),backOut:sh([.33,1.53,.69,.99])};function iP(n,e){if(n)return typeof n=="function"&&sy()?rP(n,e):iA(n)?sh(n):Array.isArray(n)?n.map(t=>iP(t,e)||Uw.easeOut):Uw[n]}const wr={x:!1,y:!1};function aP(){return wr.x||wr.y}function aA(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;e&&(s=e.current);const i=(r=t==null?void 0:t[n])!==null&&r!==void 0?r:s.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}function oP(n,e){const t=aA(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function HE(n){return e=>{e.pointerType==="touch"||aP()||n(e)}}function B7(n,e,t={}){const[r,s,i]=oP(n,t),a=HE(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=HE(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const lP=(n,e)=>e?n===e?!0:lP(n,e.parentElement):!1,oA=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,$7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z7(n){return $7.has(n.tagName)||n.tabIndex!==-1}const ih=new WeakSet;function qE(n){return e=>{e.key==="Enter"&&n(e)}}function Z1(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const U7=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=qE(()=>{if(ih.has(t))return;Z1(t,"down");const s=qE(()=>{Z1(t,"up")}),i=()=>Z1(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function WE(n){return oA(n)&&!aP()}function V7(n,e,t={}){const[r,s,i]=oP(n,t),a=l=>{const c=l.currentTarget;if(!WE(l)||ih.has(c))return;ih.add(c);const u=e(l),d=(p,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!WE(p)||!ih.has(c))&&(ih.delete(c),typeof u=="function"&&u(p,{success:y}))},h=p=>{d(p,t.useGlobalTarget||lP(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{!z7(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),l.addEventListener("focus",u=>U7(u,s),s)}),i}function H7(n){return n==="x"||n==="y"?wr[n]?null:(wr[n]=!0,()=>{wr[n]=!1}):wr.x||wr.y?null:(wr.x=wr.y=!0,()=>{wr.x=wr.y=!1})}const cP=new Set(["width","height","top","left","right","bottom",..._d]);let Hg;function q7(){Hg=void 0}const As={now:()=>(Hg===void 0&&As.set(kt.isProcessing||UF.useManualTiming?kt.timestamp:performance.now()),Hg),set:n=>{Hg=n,queueMicrotask(q7)}};function lA(n,e){n.indexOf(e)===-1&&n.push(e)}function cA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class uA{constructor(){this.subscriptions=[]}add(e){return lA(this.subscriptions,e),()=>cA(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function dA(n,e){return e?n*(1e3/e):0}const GE=30,W7=n=>!isNaN(parseFloat(n)),Mh={current:void 0};class G7{constructor(e,t={}){this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=As.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=As.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=W7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new uA);const r=this.events[e].add(t);return e==="change"?()=>{r(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Mh.current&&Mh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=As.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,GE);return dA(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bs(n,e){return new G7(n,e)}function K7(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,bs(t))}function X7(n,e){const t=Wx(n,e);let{transitionEnd:r={},transition:s={},...i}=t||{};i={...i,...r};for(const a in i){const l=c7(i[a]);K7(n,a,l)}}function Y7(n){return!!($t(n)&&n.add)}function Vw(n,e){const t=n.getValue("willChange");if(Y7(t))return t.add(e)}function uP(n){return n.props[$4]}const dP=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Q7=1e-7,J7=12;function Z7(n,e,t,r,s){let i,a,l=0;do a=e+(t-e)/2,i=dP(a,r,s)-n,i>0?t=a:e=a;while(Math.abs(i)>Q7&&++l<J7);return a}function Mm(n,e,t,r){if(n===e&&t===r)return xn;const s=i=>Z7(i,0,1,n,t);return i=>i===0||i===1?i:dP(s(i),e,r)}const hP=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,fP=n=>e=>1-n(1-e),pP=Mm(.33,1.53,.69,.99),hA=fP(pP),mP=hP(hA),gP=n=>(n*=2)<1?.5*hA(n):.5*(2-Math.pow(2,-10*(n-1))),fA=n=>1-Math.sin(Math.acos(n)),yP=fP(fA),vP=hP(fA),xP=n=>/^0[^.\s]+$/u.test(n);function e9(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||xP(n):!0}const Dh=n=>Math.round(n*1e5)/1e5,pA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function t9(n){return n==null}const n9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mA=(n,e)=>t=>!!(typeof t=="string"&&n9.test(t)&&t.startsWith(n)||e&&!t9(t)&&Object.prototype.hasOwnProperty.call(t,e)),bP=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(pA);return{[n]:parseFloat(s),[e]:parseFloat(i),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},r9=n=>Es(0,255,n),eb={...kd,transform:n=>Math.round(r9(n))},uo={test:mA("rgb","red"),parse:bP("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+eb.transform(n)+", "+eb.transform(e)+", "+eb.transform(t)+", "+Dh(ff.transform(r))+")"};function s9(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Hw={test:mA("#"),parse:s9,transform:uo.transform},gc={test:mA("hsl","hue"),parse:bP("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ns.transform(Dh(e))+", "+Ns.transform(Dh(t))+", "+Dh(ff.transform(r))+")"},on={test:n=>uo.test(n)||Hw.test(n)||gc.test(n),parse:n=>uo.test(n)?uo.parse(n):gc.test(n)?gc.parse(n):Hw.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?uo.transform(n):gc.transform(n)},i9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a9(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(pA))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(i9))===null||t===void 0?void 0:t.length)||0)>0}const wP="number",SP="color",o9="var",l9="var(",KE="${}",c9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pf(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(c9,c=>(on.test(c)?(r.color.push(i),s.push(SP),t.push(on.parse(c))):c.startsWith(l9)?(r.var.push(i),s.push(o9),t.push(c)):(r.number.push(i),s.push(wP),t.push(parseFloat(c))),++i,KE)).split(KE);return{values:t,split:l,indexes:r,types:s}}function NP(n){return pf(n).values}function AP(n){const{split:e,types:t}=pf(n),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=t[a];l===wP?i+=Dh(s[a]):l===SP?i+=on.transform(s[a]):i+=s[a]}return i}}const u9=n=>typeof n=="number"?0:n;function d9(n){const e=NP(n);return AP(n)(e.map(u9))}const Ma={test:a9,parse:NP,createTransformer:AP,getAnimatableNone:d9},h9=new Set(["brightness","contrast","saturate","opacity"]);function f9(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(pA)||[];if(!r)return n;const s=t.replace(r,"");let i=h9.has(e)?1:0;return r!==t&&(i*=100),e+"("+i+s+")"}const p9=/\b([a-z-]*)\(.*?\)/gu,qw={...Ma,getAnimatableNone:n=>{const e=n.match(p9);return e?e.map(f9).join(" "):n}},m9={...QN,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:qw,WebkitFilter:qw},gA=n=>m9[n];function jP(n,e){let t=gA(n);return t!==qw&&(t=Ma),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const g9=new Set(["auto","none","0"]);function y9(n,e,t){let r=0,s;for(;r<n.length&&!s;){const i=n[r];typeof i=="string"&&!g9.has(i)&&pf(i).values.length&&(s=n[r]),r++}if(s&&t)for(const i of e)n[i]=jP(t,s)}const XE=n=>n===kd||n===ye,YE=(n,e)=>parseFloat(n.split(", ")[e]),QE=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return YE(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?YE(i[1],n):0}},v9=new Set(["x","y","z"]),x9=_d.filter(n=>!v9.has(n));function b9(n){const e=[];return x9.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const md={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:QE(4,13),y:QE(5,14)};md.translateX=md.x;md.translateY=md.y;const Al=new Set;let Ww=!1,Gw=!1;function EP(){if(Gw){const n=Array.from(Al).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=b9(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gw=!1,Ww=!1,Al.forEach(n=>n.complete()),Al.clear()}function _P(){Al.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Gw=!0)})}function w9(){_P(),EP()}class yA{constructor(e,t,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Al.add(this),Ww||(Ww=!0,Me.read(_P),Me.resolveKeyframes(EP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const c=r.readValue(t,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Al.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Al.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const kP=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),S9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N9(n){const e=S9.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function TP(n,e,t=1){const[r,s]=N9(n);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return kP(a)?parseFloat(a):a}return YN(s)?TP(s,e,t+1):s}const CP=n=>e=>e.test(n),A9={test:n=>n==="auto",parse:n=>n},PP=[kd,ye,Ns,ki,m7,p7,A9],JE=n=>PP.find(CP(n));class OP extends yA{constructor(e,t,r,s,i){super(e,t,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),YN(u))){const d=TP(u,t.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!cP.has(r)||e.length!==2)return;const[s,i]=e,a=JE(s),l=JE(i);if(a!==l)if(XE(a)&&XE(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)e9(e[s])&&r.push(s);r.length&&y9(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=md[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=md[r](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const ZE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ma.test(n)||n==="0")&&!n.startsWith("url("));function j9(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function E9(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=n[n.length-1],a=ZE(s,e),l=ZE(i,e);return!a||!l?!1:j9(n)||(t==="spring"||sA(t))&&r}const _9=n=>n!==null;function Gx(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(_9),i=e&&t!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const k9=40;class LP{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=As.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>k9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&w9(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=As.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!E9(e,r,s,i))if(a)this.options.duration=0;else{c==null||c(Gx(e,this.options,t)),l==null||l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,t);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...d},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const lt=(n,e,t)=>n+(e-n)*t;function tb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function T9({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,i=0,a=0;if(!e)s=i=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;s=tb(c,l,n+1/3),i=tb(c,l,n),a=tb(c,l,n-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function iy(n,e){return t=>t>0?e:n}const nb=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},C9=[Hw,uo,gc],P9=n=>C9.find(e=>e.test(n));function e_(n){const e=P9(n);if(!e)return!1;let t=e.parse(n);return e===gc&&(t=T9(t)),t}const t_=(n,e)=>{const t=e_(n),r=e_(e);if(!t||!r)return iy(n,e);const s={...t};return i=>(s.red=nb(t.red,r.red,i),s.green=nb(t.green,r.green,i),s.blue=nb(t.blue,r.blue,i),s.alpha=lt(t.alpha,r.alpha,i),uo.transform(s))},O9=(n,e)=>t=>e(n(t)),Dm=(...n)=>n.reduce(O9),Kw=new Set(["none","hidden"]);function L9(n,e){return Kw.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function R9(n,e){return t=>lt(n,e,t)}function vA(n){return typeof n=="number"?R9:typeof n=="string"?YN(n)?iy:on.test(n)?t_:I9:Array.isArray(n)?RP:typeof n=="object"?on.test(n)?t_:M9:iy}function RP(n,e){const t=[...n],r=t.length,s=n.map((i,a)=>vA(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)t[a]=s[a](i);return t}}function M9(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=vA(n[s])(n[s],e[s]));return s=>{for(const i in r)t[i]=r[i](s);return t}}function D9(n,e){var t;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=n.indexes[a][s[a]],c=(t=n.values[l])!==null&&t!==void 0?t:0;r[i]=c,s[a]++}return r}const I9=(n,e)=>{const t=Ma.createTransformer(e),r=pf(n),s=pf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Kw.has(n)&&!s.values.length||Kw.has(e)&&!r.values.length?L9(n,e):Dm(RP(D9(r,s),s.values),t):iy(n,e)};function MP(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?lt(n,e,t):vA(n)(n,e)}const F9=5;function DP(n,e,t){const r=Math.max(e-F9,0);return dA(t-n(r),e-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rb=.001;function B9({duration:n=ht.duration,bounce:e=ht.bounce,velocity:t=ht.velocity,mass:r=ht.mass}){let s,i,a=1-e;a=Es(ht.minDamping,ht.maxDamping,a),n=Es(ht.minDuration,ht.maxDuration,mi(n)),a<1?(s=u=>{const d=u*a,h=d*n,f=d-t,p=Xw(u,a),y=Math.exp(-h);return rb-f/p*y},i=u=>{const h=u*a*n,f=h*t+t,p=Math.pow(a,2)*Math.pow(u,2)*n,y=Math.exp(-h),x=Xw(Math.pow(u,2),a);return(-s(u)+rb>0?-1:1)*((f-p)*y)/x}):(s=u=>{const d=Math.exp(-u*n),h=(u-t)*n+1;return-rb+d*h},i=u=>{const d=Math.exp(-u*n),h=(t-u)*(n*n);return d*h});const l=5/n,c=z9(s,i,l);if(n=pi(n),isNaN(c))return{stiffness:ht.stiffness,damping:ht.damping,duration:n};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:n}}}const $9=12;function z9(n,e,t){let r=t;for(let s=1;s<$9;s++)r=r-n(r)/e(r);return r}function Xw(n,e){return n*Math.sqrt(1-e*e)}const U9=["duration","bounce"],V9=["stiffness","damping","mass"];function n_(n,e){return e.some(t=>n[t]!==void 0)}function H9(n){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...n};if(!n_(n,V9)&&n_(n,U9))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,i=2*Es(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:ht.mass,stiffness:s,damping:i}}else{const t=B9(n);e={...e,...t,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function IP(n=ht.visualDuration,e=ht.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const i=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=H9({...t,velocity:-mi(t.velocity||0)}),y=f||0,x=u/(2*Math.sqrt(c*d)),b=a-i,m=mi(Math.sqrt(c/d)),v=Math.abs(b)<5;r||(r=v?ht.restSpeed.granular:ht.restSpeed.default),s||(s=v?ht.restDelta.granular:ht.restDelta.default);let S;if(x<1){const N=Xw(m,x);S=E=>{const _=Math.exp(-x*m*E);return a-_*((y+x*m*b)/N*Math.sin(N*E)+b*Math.cos(N*E))}}else if(x===1)S=N=>a-Math.exp(-m*N)*(b+(y+m*b)*N);else{const N=m*Math.sqrt(x*x-1);S=E=>{const _=Math.exp(-x*m*E),A=Math.min(N*E,300);return a-_*((y+x*m*b)*Math.sinh(A)+N*b*Math.cosh(A))/N}}const w={calculatedDuration:p&&h||null,next:N=>{const E=S(N);if(p)l.done=N>=h;else{let _=0;x<1&&(_=N===0?pi(y):DP(S,N,E));const A=Math.abs(_)<=r,C=Math.abs(a-E)<=s;l.done=A&&C}return l.value=l.done?a:E,l},toString:()=>{const N=Math.min(nP(w),zw),E=rP(_=>w.next(N*_).value,N,30);return N+"ms "+E}};return w}function r_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=n[0],f={done:!1,value:h},p=A=>l!==void 0&&A<l||c!==void 0&&A>c,y=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let x=t*e;const b=h+x,m=a===void 0?b:a(b);m!==b&&(x=m-h);const v=A=>-x*Math.exp(-A/r),S=A=>m+v(A),w=A=>{const C=v(A),j=S(A);f.done=Math.abs(C)<=u,f.value=f.done?m:j};let N,E;const _=A=>{p(f.value)&&(N=A,E=IP({keyframes:[f.value,y(f.value)],velocity:DP(S,A,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:A=>{let C=!1;return!E&&N===void 0&&(C=!0,w(A),_(A)),N!==void 0&&A>=N?E.next(A-N):(!C&&w(A),f)}}}const q9=Mm(.42,0,1,1),W9=Mm(0,0,.58,1),FP=Mm(.42,0,.58,1),G9=n=>Array.isArray(n)&&typeof n[0]!="number",K9={linear:xn,easeIn:q9,easeInOut:FP,easeOut:W9,circIn:fA,circInOut:vP,circOut:yP,backIn:hA,backInOut:mP,backOut:pP,anticipate:gP},s_=n=>{if(iA(n)){M4(n.length===4);const[e,t,r,s]=n;return Mm(e,t,r,s)}else if(typeof n=="string")return K9[n];return n};function X9(n,e,t){const r=[],s=t||MP,i=n.length-1;for(let a=0;a<i;a++){let l=s(n[a],n[a+1]);if(e){const c=Array.isArray(e)?e[a]||xn:e;l=Dm(c,l)}r.push(l)}return r}function xA(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const i=n.length;if(M4(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[i-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=X9(e,r,s),c=l.length,u=d=>{if(a&&d<n[0])return e[0];let h=0;if(c>1)for(;h<n.length-2&&!(d<n[h+1]);h++);const f=Ll(n[h],n[h+1],d);return l[h](f)};return t?d=>u(Es(n[0],n[i-1],d)):u}function Y9(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Ll(0,e,r);n.push(lt(t,1,s))}}function BP(n){const e=[0];return Y9(e,n.length-1),e}function Q9(n,e){return n.map(t=>t*e)}function J9(n,e){return n.map(()=>e||FP).splice(0,n.length-1)}function ay({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=G9(r)?r.map(s_):s_(r),i={done:!1,value:e[0]},a=Q9(t&&t.length===e.length?t:BP(e),n),l=xA(a,e,{ease:Array.isArray(s)?s:J9(e,s)});return{calculatedDuration:n,next:c=>(i.value=l(c),i.done=c>=n,i)}}const Z9=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Me.update(e,!0),stop:()=>Wr(e),now:()=>kt.isProcessing?kt.timestamp:As.now()}},eB={decay:r_,inertia:r_,tween:ay,keyframes:ay,spring:IP},tB=n=>n/100;class Kx extends LP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||yA,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,l,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,l=sA(t)?t:eB[t]||ay;let c,u;l!==ay&&typeof e[0]!="number"&&(c=Dm(tB,MP(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=nP(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:y,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,w=i;if(p){const A=Math.min(this.currentTime,d)/h;let C=Math.floor(A),j=A%1;!j&&A>=1&&(j=1),j===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(y==="reverse"?(j=1-j,x&&(j-=x/h)):y==="mirror"&&(w=a)),S=Es(0,1,j)*h}const N=v?{done:!1,value:c[0]}:w.next(S);l&&(N.value=l(N.value));let{done:E}=N;!v&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return _&&s!==void 0&&(N.value=Gx(c,this.options,s)),b&&b(N.value),_&&this.finish(),N}get duration(){const{resolved:e}=this;return e?mi(e.calculatedDuration):0}get time(){return mi(this.currentTime)}set time(e){e=pi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=mi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Z9,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}function nB(n){return new Kx(n)}const rB=new Set(["opacity","clipPath","filter","transform"]);function sB(n,e,t,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[e]:t};c&&(u.offset=c);const d=iP(l,s);return Array.isArray(d)&&(u.easing=d),n.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const iB=VN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oy=10,aB=2e4;function oB(n){return sA(n.type)||n.type==="spring"||!sP(n.ease)}function lB(n,e){const t=new Kx({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let i=0;for(;!r.done&&i<aB;)r=t.sample(i),s.push(r.value),i+=oy;return{times:void 0,keyframes:s,duration:i-oy,ease:"linear"}}const $P={anticipate:gP,backInOut:mP,circInOut:vP};function cB(n){return n in $P}class i_ extends LP{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new OP(i,(a,l)=>this.onKeyframesResolved(a,l),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){var r;let{duration:s=300,times:i,ease:a,type:l,motionValue:c,name:u,startTime:d}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof a=="string"&&sy()&&cB(a)&&(a=$P[a]),oB(this.options)){const{onComplete:f,onUpdate:p,motionValue:y,element:x,...b}=this.options,m=lB(e,b);e=m.keyframes,e.length===1&&(e[1]=e[0]),s=m.duration,i=m.times,a=m.ease,l="keyframes"}const h=sB(c.owner.current,u,e,{...this.options,duration:s,times:i,ease:a});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(VE(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;c.set(Gx(e,this.options,t)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return mi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return mi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=pi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return xn;const{animation:r}=t;VE(r,e)}return xn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:i,ease:a,times:l}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,y=new Kx({...p,keyframes:r,duration:s,type:i,ease:a,times:l,isGenerator:!0}),x=pi(this.time);u.setWithVelocity(y.sample(x-oy).value,y.sample(x).value,oy)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:i,damping:a,type:l}=e;return iB()&&r&&rB.has(r)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}}const uB={type:"spring",stiffness:500,damping:25,restSpeed:10},dB=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),hB={type:"keyframes",duration:.8},fB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pB=(n,{keyframes:e})=>e.length>2?hB:zl.has(n)?n.startsWith("scale")?dB(e[1]):uB:fB;function mB({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const bA=(n,e,t,r={},s,i)=>a=>{const l=rA(r,n)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-pi(c);let d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:i?void 0:s};mB(l)||(d={...d,...pB(n,d)}),d.duration&&(d.duration=pi(d.duration)),d.repeatDelay&&(d.repeatDelay=pi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=Gx(d.keyframes,l);if(f!==void 0)return Me.update(()=>{d.onUpdate(f),d.onComplete()}),new D7([])}return!i&&i_.supports(d)?new i_(d):new Kx(d)};function gB({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function zP(n,e,{delay:t=0,transitionOverride:r,type:s}={}){var i;let{transition:a=n.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const u=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const h in c){const f=n.getValue(h,(i=n.latestValues[h])!==null&&i!==void 0?i:null),p=c[h];if(p===void 0||d&&gB(d,h))continue;const y={delay:t,...rA(a||{},h)};let x=!1;if(window.MotionHandoffAnimation){const m=uP(n);if(m){const v=window.MotionHandoffAnimation(m,h,Me);v!==null&&(y.startTime=v,x=!0)}}Vw(n,h),f.start(bA(h,f,p,n.shouldReduceMotion&&cP.has(h)?{type:!1}:y,n,x));const b=f.animation;b&&u.push(b)}return l&&Promise.all(u).then(()=>{Me.update(()=>{l&&X7(n,l)})}),u}function Yw(n,e,t={}){var r;const s=Wx(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(i=t.transitionOverride);const a=s?()=>Promise.all(zP(n,s,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return yB(n,e,d+u,h,f,t)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>d())}else return Promise.all([a(),l(t.delay)])}function yB(n,e,t=0,r=0,s=1,i){const a=[],l=(n.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(n.variantChildren).sort(vB).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(Yw(u,e,{...i,delay:t+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function vB(n,e){return n.sortNodePosition(e)}function xB(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Yw(n,i,t));r=Promise.all(s)}else if(typeof e=="string")r=Yw(n,e,t);else{const s=typeof e=="function"?Wx(n,e,t.custom):e;r=Promise.all(zP(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const bB=qN.length;function UP(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?UP(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<bB;t++){const r=qN[t],s=n.props[r];(hf(s)||s===!1)&&(e[r]=s)}return e}const wB=[...HN].reverse(),SB=HN.length;function NB(n){return e=>Promise.all(e.map(({animation:t,options:r})=>xB(n,t,r)))}function AB(n){let e=NB(n),t=a_(),r=!0;const s=c=>(u,d)=>{var h;const f=Wx(n,d,c==="exit"?(h=n.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:y,...x}=f;u={...u,...x,...y}}return u};function i(c){e=c(n)}function a(c){const{props:u}=n,d=UP(n.parent)||{},h=[],f=new Set;let p={},y=1/0;for(let b=0;b<SB;b++){const m=wB[b],v=t[m],S=u[m]!==void 0?u[m]:d[m],w=hf(S),N=m===c?v.isActive:null;N===!1&&(y=b);let E=S===d[m]&&S!==u[m]&&w;if(E&&r&&n.manuallyAnimateOnMount&&(E=!1),v.protectedKeys={...p},!v.isActive&&N===null||!S&&!v.prevProp||Hx(S)||typeof S=="boolean")continue;const _=jB(v.prevProp,S);let A=_||m===c&&v.isActive&&!E&&w||b>y&&w,C=!1;const j=Array.isArray(S)?S:[S];let k=j.reduce(s(m),{});N===!1&&(k={});const{prevResolvedValues:T={}}=v,P={...T,...k},R=U=>{A=!0,f.has(U)&&(C=!0,f.delete(U)),v.needsAnimating[U]=!0;const W=n.getValue(U);W&&(W.liveStyle=!1)};for(const U in P){const W=k[U],q=T[U];if(p.hasOwnProperty(U))continue;let $=!1;$w(W)&&$w(q)?$=!eP(W,q):$=W!==q,$?W!=null?R(U):f.add(U):W!==void 0&&f.has(U)?R(U):v.protectedKeys[U]=!0}v.prevProp=S,v.prevResolvedValues=k,v.isActive&&(p={...p,...k}),r&&n.blockInitialAnimation&&(A=!1),A&&(!(E&&_)||C)&&h.push(...j.map(U=>({animation:U,options:{type:m}})))}if(f.size){const b={};f.forEach(m=>{const v=n.getBaseTarget(m),S=n.getValue(m);S&&(S.liveStyle=!0),b[m]=v??null}),h.push({animation:b})}let x=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function l(c,u){var d;if(t[c].isActive===u)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),t[c].isActive=u;const h=a(c);for(const f in t)t[f].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>t,reset:()=>{t=a_(),r=!0}}}function jB(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!eP(e,n):!1}function qa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function a_(){return{animate:qa(!0),whileInView:qa(),whileHover:qa(),whileTap:qa(),whileDrag:qa(),whileFocus:qa(),exit:qa()}}class Ua{constructor(e){this.isMounted=!1,this.node=e}update(){}}class EB extends Ua{constructor(e){super(e),e.animationState||(e.animationState=AB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let _B=0;class kB extends Ua{constructor(){super(...arguments),this.id=_B++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const TB={animation:{Feature:EB},exit:{Feature:kB}};function mf(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Im(n){return{point:{x:n.pageX,y:n.pageY}}}const CB=n=>e=>oA(e)&&n(e,Im(e));function Ih(n,e,t,r){return mf(n,e,CB(t),r)}const o_=(n,e)=>Math.abs(n-e);function PB(n,e){const t=o_(n.x,e.x),r=o_(n.y,e.y);return Math.sqrt(t**2+r**2)}class VP{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ib(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=PB(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:y}=h,{timestamp:x}=kt;this.history.push({...y,timestamp:x});const{onStart:b,onMove:m}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=sb(f,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ib(h.type==="pointercancel"?this.lastMoveEventInfo:sb(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),y&&y(h,b)},!oA(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const a=Im(e),l=sb(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=kt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=t;d&&d(e,ib(l,this.history)),this.removeListeners=Dm(Ih(this.contextWindow,"pointermove",this.handlePointerMove),Ih(this.contextWindow,"pointerup",this.handlePointerUp),Ih(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wr(this.updatePoint)}}function sb(n,e){return e?{point:e(n.point)}:n}function l_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function ib({point:n},e){return{point:n,delta:l_(n,HP(e)),offset:l_(n,OB(e)),velocity:LB(e,.1)}}function OB(n){return n[0]}function HP(n){return n[n.length-1]}function LB(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=HP(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>pi(e)));)t--;if(!r)return{x:0,y:0};const i=mi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const qP=1e-4,RB=1-qP,MB=1+qP,WP=.01,DB=0-WP,IB=0+WP;function Zn(n){return n.max-n.min}function FB(n,e,t){return Math.abs(n-e)<=t}function c_(n,e,t,r=.5){n.origin=r,n.originPoint=lt(e.min,e.max,n.origin),n.scale=Zn(t)/Zn(e),n.translate=lt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=RB&&n.scale<=MB||isNaN(n.scale))&&(n.scale=1),(n.translate>=DB&&n.translate<=IB||isNaN(n.translate))&&(n.translate=0)}function Fh(n,e,t,r){c_(n.x,e.x,t.x,r?r.originX:void 0),c_(n.y,e.y,t.y,r?r.originY:void 0)}function u_(n,e,t){n.min=t.min+e.min,n.max=n.min+Zn(e)}function BB(n,e,t){u_(n.x,e.x,t.x),u_(n.y,e.y,t.y)}function d_(n,e,t){n.min=e.min-t.min,n.max=n.min+Zn(e)}function Bh(n,e,t){d_(n.x,e.x,t.x),d_(n.y,e.y,t.y)}function $B(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?lt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?lt(t,n,r.max):Math.min(n,t)),n}function h_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function zB(n,{top:e,left:t,bottom:r,right:s}){return{x:h_(n.x,t,s),y:h_(n.y,e,r)}}function f_(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function UB(n,e){return{x:f_(n.x,e.x),y:f_(n.y,e.y)}}function VB(n,e){let t=.5;const r=Zn(n),s=Zn(e);return s>r?t=Ll(e.min,e.max-r,n.min):r>s&&(t=Ll(n.min,n.max-s,e.min)),Es(0,1,t)}function HB(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Qw=.35;function qB(n=Qw){return n===!1?n=0:n===!0&&(n=Qw),{x:p_(n,"left","right"),y:p_(n,"top","bottom")}}function p_(n,e,t){return{min:m_(n,e),max:m_(n,t)}}function m_(n,e){return typeof n=="number"?n:n[e]||0}const g_=()=>({translate:0,scale:1,origin:0,originPoint:0}),yc=()=>({x:g_(),y:g_()}),y_=()=>({min:0,max:0}),gt=()=>({x:y_(),y:y_()});function sr(n){return[n("x"),n("y")]}function GP({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function WB({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function GB(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function ab(n){return n===void 0||n===1}function Jw({scale:n,scaleX:e,scaleY:t}){return!ab(n)||!ab(e)||!ab(t)}function Xa(n){return Jw(n)||KP(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function KP(n){return v_(n.x)||v_(n.y)}function v_(n){return n&&n!=="0%"}function ly(n,e,t){const r=n-t,s=e*r;return t+s}function x_(n,e,t,r,s){return s!==void 0&&(n=ly(n,s,r)),ly(n,t,r)+e}function Zw(n,e=0,t=1,r,s){n.min=x_(n.min,e,t,r,s),n.max=x_(n.max,e,t,r,s)}function XP(n,{x:e,y:t}){Zw(n.x,e.translate,e.scale,e.originPoint),Zw(n.y,t.translate,t.scale,t.originPoint)}const b_=.999999999999,w_=1.0000000000001;function KB(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=t[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&xc(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,XP(n,a)),r&&Xa(i.latestValues)&&xc(n,i.latestValues))}e.x<w_&&e.x>b_&&(e.x=1),e.y<w_&&e.y>b_&&(e.y=1)}function vc(n,e){n.min=n.min+e,n.max=n.max+e}function S_(n,e,t,r,s=.5){const i=lt(n.min,n.max,s);Zw(n,e,t,i,r)}function xc(n,e){S_(n.x,e.x,e.scaleX,e.scale,e.originX),S_(n.y,e.y,e.scaleY,e.scale,e.originY)}function YP(n,e){return GP(GB(n.getBoundingClientRect(),e))}function XB(n,e,t){const r=YP(n,t),{scroll:s}=e;return s&&(vc(r.x,s.offset.x),vc(r.y,s.offset.y)),r}const QP=({current:n})=>n?n.ownerDocument.defaultView:null,YB=new WeakMap;class QB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Im(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:y}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=H7(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(b=>{let m=this.getAxisMotionValue(b).get()||0;if(Ns.test(m)){const{projection:v}=this.visualElement;if(v&&v.layout){const S=v.layout.layoutBox[b];S&&(m=Zn(S)*(parseFloat(m)/100))}}this.originPoint[b]=m}),y&&Me.postRender(()=>y(d,h)),Vw(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:y,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=JB(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>this.stop(d,h),c=()=>sr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new VP(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:QP(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Me.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!fg(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=$B(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;t&&mc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=zB(s.layoutBox,t):this.constraints=!1,this.elastic=qB(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&sr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=HB(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!mc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=XB(r,s.root,this.visualElement.getTransformPagePoint());let a=UB(s.layout.layoutBox,i);if(t){const l=t(WB(a));this.hasMutatedConstraints=!!l,l&&(a=GP(l))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=sr(d=>{if(!fg(d,t,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Vw(this.visualElement,e),r.start(bA(e,r,0,t,this.visualElement,!1))}stopAnimation(){sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sr(t=>{const{drag:r}=this.getProps();if(!fg(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[t];i.set(e[t]-lt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!mc(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};sr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=VB({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(a=>{if(!fg(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(lt(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;YB.set(this.visualElement,this);const e=this.visualElement.current,t=Ih(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();mc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Me.read(r);const a=mf(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(sr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),t(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Qw,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function fg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function JB(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class ZB extends Ua{constructor(e){super(e),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new QB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const N_=n=>(e,t)=>{n&&Me.postRender(()=>n(e,t))};class e$ extends Ua{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(e){this.session=new VP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:N_(e),onStart:N_(t),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Me.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Ih(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function A_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Wd={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ye.test(n))n=parseFloat(n);else return n;const t=A_(n,e.target.x),r=A_(n,e.target.y);return`${t}% ${r}%`}},t$={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Ma.parse(n);if(s.length>5)return r;const i=Ma.createTransformer(n),a=typeof s[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=lt(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class n$ extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;j7(r$),i&&(t.group&&t.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Me.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),GN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JP(n){const[e,t]=R4(),r=L.useContext(zN);return o.jsx(n$,{...n,layoutGroup:r,switchLayoutGroup:L.useContext(z4),isPresent:e,safeToRemove:t})}const r$={borderRadius:{...Wd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wd,borderTopRightRadius:Wd,borderBottomLeftRadius:Wd,borderBottomRightRadius:Wd,boxShadow:t$};function s$(n,e,t){const r=$t(n)?n:bs(n);return r.start(bA("",r,e,t)),r.animation}function i$(n){return n instanceof SVGElement&&n.tagName!=="svg"}const a$=(n,e)=>n.depth-e.depth;class o${constructor(){this.children=[],this.isDirty=!1}add(e){lA(this.children,e),this.isDirty=!0}remove(e){cA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(a$),this.isDirty=!1,this.children.forEach(e)}}function l$(n,e){const t=As.now(),r=({timestamp:s})=>{const i=s-t;i>=e&&(Wr(r),n(i-e))};return Me.read(r,!0),()=>Wr(r)}const ZP=["TopLeft","TopRight","BottomLeft","BottomRight"],c$=ZP.length,j_=n=>typeof n=="string"?parseFloat(n):n,E_=n=>typeof n=="number"||ye.test(n);function u$(n,e,t,r,s,i){s?(n.opacity=lt(0,t.opacity!==void 0?t.opacity:1,d$(r)),n.opacityExit=lt(e.opacity!==void 0?e.opacity:1,0,h$(r))):i&&(n.opacity=lt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let a=0;a<c$;a++){const l=`border${ZP[a]}Radius`;let c=__(e,l),u=__(t,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||E_(c)===E_(u)?(n[l]=Math.max(lt(j_(c),j_(u),r),0),(Ns.test(u)||Ns.test(c))&&(n[l]+="%")):n[l]=u}(e.rotate||t.rotate)&&(n.rotate=lt(e.rotate||0,t.rotate||0,r))}function __(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const d$=e5(0,.5,yP),h$=e5(.5,.95,xn);function e5(n,e,t){return r=>r<n?0:r>e?1:t(Ll(n,e,r))}function k_(n,e){n.min=e.min,n.max=e.max}function nr(n,e){k_(n.x,e.x),k_(n.y,e.y)}function T_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function C_(n,e,t,r,s){return n-=e,n=ly(n,1/t,r),s!==void 0&&(n=ly(n,1/s,r)),n}function f$(n,e=0,t=1,r=.5,s,i=n,a=n){if(Ns.test(e)&&(e=parseFloat(e),e=lt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=lt(i.min,i.max,r);n===i&&(l-=e),n.min=C_(n.min,e,t,l,s),n.max=C_(n.max,e,t,l,s)}function P_(n,e,[t,r,s],i,a){f$(n,e[t],e[r],e[s],e.scale,i,a)}const p$=["x","scaleX","originX"],m$=["y","scaleY","originY"];function O_(n,e,t,r){P_(n.x,e,p$,t?t.x:void 0,r?r.x:void 0),P_(n.y,e,m$,t?t.y:void 0,r?r.y:void 0)}function L_(n){return n.translate===0&&n.scale===1}function t5(n){return L_(n.x)&&L_(n.y)}function R_(n,e){return n.min===e.min&&n.max===e.max}function g$(n,e){return R_(n.x,e.x)&&R_(n.y,e.y)}function M_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function n5(n,e){return M_(n.x,e.x)&&M_(n.y,e.y)}function D_(n){return Zn(n.x)/Zn(n.y)}function I_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class y${constructor(){this.members=[]}add(e){lA(this.members,e),e.scheduleRender()}remove(e){if(cA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function v$(n,e,t){let r="";const s=n.x.translate/e.x,i=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:y}=t;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Ya={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ah=typeof window<"u"&&window.MotionDebug!==void 0,ob=["","X","Y","Z"],x$={visibility:"hidden"},F_=1e3;let b$=0;function lb(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function r5(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=uP(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:i}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Me,!(s||i))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&r5(r)}function s5({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=b$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ah&&(Ya.totalNodes=Ya.resolvedTargetDeltas=Ya.recalculatedProjection=0),this.nodes.forEach(N$),this.nodes.forEach(k$),this.nodes.forEach(T$),this.nodes.forEach(A$),ah&&window.MotionDebug.record(Ya)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new o$)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new uA),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=i$(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),n){let h;const f=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=l$(f,250),qg.hasAnimatedSinceResize&&(qg.hasAnimatedSinceResize=!1,this.nodes.forEach($_))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||R$,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=d.getProps(),v=!this.targetLayout||!n5(this.targetLayout,y)||p,S=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const w={...rA(x,"layout"),onPlay:b,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||$_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(B_);return}this.isUpdating||this.nodes.forEach(E$),this.isUpdating=!1,this.nodes.forEach(_$),this.nodes.forEach(w$),this.nodes.forEach(S$),this.clearAllSnapshots();const l=As.now();kt.delta=Es(0,1e3/60,l-kt.timestamp),kt.timestamp=l,kt.isProcessing=!0,J1.update.process(kt),J1.preRender.process(kt),J1.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j$),this.sharedNodes.forEach(P$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!t5(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Xa(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),M$(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return gt();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(D$))){const{scroll:d}=this.root;d&&(vc(c.x,d.offset.x),vc(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=gt();if(nr(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&nr(c,a),vc(c.x,h.offset.x),vc(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=gt();nr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xa(d.latestValues)&&xc(c,d.latestValues)}return Xa(this.latestValues)&&xc(c,this.latestValues),c}removeTransform(a){const l=gt();nr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Xa(u.latestValues))continue;Jw(u.latestValues)&&u.updateSnapshot();const d=gt(),h=u.measurePageBox();nr(d,h),O_(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Xa(this.latestValues)&&O_(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Bh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),XP(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Bh(this.relativeTargetOrigin,this.target,p.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ah&&Ya.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jw(this.parent.latestValues)||KP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;nr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;KB(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=gt());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(T_(this.prevProjectionDelta.x,this.projectionDelta.x),T_(this.prevProjectionDelta.y,this.projectionDelta.y)),Fh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!I_(this.projectionDelta.x,this.prevProjectionDelta.x)||!I_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ah&&Ya.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yc(),this.projectionDelta=yc(),this.projectionDeltaWithTransform=yc()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=yc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=gt(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=p!==y,b=this.getStack(),m=!b||b.members.length<=1,v=!!(x&&!m&&this.options.crossfade===!0&&!this.path.some(L$));this.animationProgress=0;let S;this.mixTargetDelta=w=>{const N=w/1e3;z_(h.x,a.x,N),z_(h.y,a.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O$(this.relativeTarget,this.relativeTargetOrigin,f,N),S&&g$(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=gt()),nr(S,this.relativeTarget)),x&&(this.animationValues=d,u$(d,u,this.latestValues,N,v,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{qg.hasAnimatedSinceResize=!0,this.currentAnimation=s$(0,F_,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(F_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&i5(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||gt();const h=Zn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Zn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}nr(l,c),xc(l,d),Fh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new y$),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&lb("z",a,u,this.animationValues);for(let d=0;d<ob.length;d++)lb(`rotate${ob[d]}`,a,u,this.animationValues),lb(`skew${ob[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return x$;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Vg(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Vg(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=v$(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in ry){if(f[x]===void 0)continue;const{correct:b,applyTo:m}=ry[x],v=u.transform==="none"?f[x]:b(f[x],h);if(m){const S=m.length;for(let w=0;w<S;w++)u[m[w]]=v}else u[x]=v}return this.options.layoutId&&(u.pointerEvents=h===this?Vg(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(B_),this.root.sharedNodes.clear()}}}function w$(n){n.updateLayout()}function S$(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:i}=n.options,a=t.source!==n.layout.source;i==="size"?sr(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],p=Zn(f);f.min=r[h].min,f.max=f.min+p}):i5(i,t.layoutBox,r)&&sr(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],p=Zn(r[h]);f.max=f.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+p)});const l=yc();Fh(l,r,t.layoutBox);const c=yc();a?Fh(c,n.applyTransform(s,!0),t.measuredBox):Fh(c,r,t.layoutBox);const u=!t5(l);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const y=gt();Bh(y,t.layoutBox,f.layoutBox);const x=gt();Bh(x,r,p.layoutBox),n5(y,x)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function N$(n){ah&&Ya.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function A$(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function j$(n){n.clearSnapshot()}function B_(n){n.clearMeasurements()}function E$(n){n.isLayoutDirty=!1}function _$(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function $_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function k$(n){n.resolveTargetDelta()}function T$(n){n.calcProjection()}function C$(n){n.resetSkewAndRotation()}function P$(n){n.removeLeadSnapshot()}function z_(n,e,t){n.translate=lt(e.translate,0,t),n.scale=lt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function U_(n,e,t,r){n.min=lt(e.min,t.min,r),n.max=lt(e.max,t.max,r)}function O$(n,e,t,r){U_(n.x,e.x,t.x,r),U_(n.y,e.y,t.y,r)}function L$(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const R$={duration:.45,ease:[.4,0,.1,1]},V_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),H_=V_("applewebkit/")&&!V_("chrome/")?Math.round:xn;function q_(n){n.min=H_(n.min),n.max=H_(n.max)}function M$(n){q_(n.x),q_(n.y)}function i5(n,e,t){return n==="position"||n==="preserve-aspect"&&!FB(D_(e),D_(t),.2)}function D$(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const I$=s5({attachResizeListener:(n,e)=>mf(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cb={current:void 0},a5=s5({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!cb.current){const n=new I$({});n.mount(window),n.setOptions({layoutScroll:!0}),cb.current=n}return cb.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),F$={pan:{Feature:e$},drag:{Feature:ZB,ProjectionNode:a5,MeasureLayout:JP}};function W_(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,i=r[s];i&&Me.postRender(()=>i(e,Im(e)))}class B$ extends Ua{mount(){const{current:e}=this.node;e&&(this.unmount=B7(e,t=>(W_(this.node,t,"Start"),r=>W_(this.node,r,"End"))))}unmount(){}}class $$ extends Ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dm(mf(this.node.current,"focus",()=>this.onFocus()),mf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G_(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),i=r[s];i&&Me.postRender(()=>i(e,Im(e)))}class z$ extends Ua{mount(){const{current:e}=this.node;e&&(this.unmount=V7(e,t=>(G_(this.node,t,"Start"),(r,{success:s})=>G_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const e2=new WeakMap,ub=new WeakMap,U$=n=>{const e=e2.get(n.target);e&&e(n)},V$=n=>{n.forEach(U$)};function H$({root:n,...e}){const t=n||document;ub.has(t)||ub.set(t,{});const r=ub.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(V$,{root:n,...e})),r[s]}function q$(n,e,t){const r=H$(e);return e2.set(n,t),r.observe(n),()=>{e2.delete(n),r.unobserve(n)}}const W$={some:0,all:1};class G$ extends Ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:W$[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return q$(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(K$(e,t))&&this.startObserver()}unmount(){}}function K$({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const X$={inView:{Feature:G$},tap:{Feature:z$},focus:{Feature:$$},hover:{Feature:B$}},Y$={layout:{ProjectionNode:a5,MeasureLayout:JP}},t2={current:null},o5={current:!1};function Q$(){if(o5.current=!0,!!UN)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>t2.current=n.matches;n.addListener(e),e()}else t2.current=!1}const J$=[...PP,on,Ma],Z$=n=>J$.find(CP(n)),K_=new WeakMap;function ez(n,e,t){for(const r in e){const s=e[r],i=t[r];if($t(s))n.addValue(r,s);else if($t(i))n.addValue(r,bs(s,{owner:n}));else if(i!==s)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,bs(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const X_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tz{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=As.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Me.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=qx(t),this.isVariantNode=B4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in f){const y=f[p];c[p]!==void 0&&$t(y)&&y.set(c[p],!1)}}mount(e){this.current=e,K_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),o5.current||Q$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:t2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){K_.delete(this.current),this.projection&&this.projection.unmount(),Wr(this.notifyUpdate),Wr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zl.has(e),s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Me.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pd){const t=pd[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<X_.length;r++){const s=X_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=ez(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=bs(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(kP(s)||xP(s))?s=parseFloat(s):!Z$(s)&&Ma.test(t)&&(s=jP(e,t)),this.setBaseTarget(e,$t(s)?s.get():s)),$t(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=XN(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$t(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new uA),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class l5 extends tz{constructor(){super(...arguments),this.KeyframeResolver=OP}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$t(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function nz(n){return window.getComputedStyle(n)}class rz extends l5{constructor(){super(...arguments),this.type="html",this.renderInstance=K4}readValueFromInstance(e,t){if(zl.has(t)){const r=gA(t);return r&&r.default||0}else{const r=nz(e),s=(q4(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return YP(e,t)}build(e,t,r){JN(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return nA(e,t,r)}}class sz extends l5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(zl.has(t)){const r=gA(t);return r&&r.default||0}return t=X4.has(t)?t:WN(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return J4(e,t,r)}build(e,t,r){ZN(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){Y4(e,t,r,s)}mount(e){this.isSVGTag=tA(e.tagName),super.mount(e)}}const iz=(n,e)=>KN(n)?new sz(e):new rz(e,{allowProjection:n!==L.Fragment}),az=R7({...TB,...X$,...F$,...Y$},iz),Y=XF(az);function c5(n,e){let t;const r=()=>{const{currentTime:s}=e,a=(s===null?0:s.value)/100;t!==a&&n(a),t=a};return Me.update(r,!0),()=>Wr(r)}const Wg=new WeakMap;let Ti;function oz(n,e){if(e){const{inlineSize:t,blockSize:r}=e[0];return{width:t,height:r}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function lz({target:n,contentRect:e,borderBoxSize:t}){var r;(r=Wg.get(n))===null||r===void 0||r.forEach(s=>{s({target:n,contentSize:e,get size(){return oz(n,t)}})})}function cz(n){n.forEach(lz)}function uz(){typeof ResizeObserver>"u"||(Ti=new ResizeObserver(cz))}function dz(n,e){Ti||uz();const t=aA(n);return t.forEach(r=>{let s=Wg.get(r);s||(s=new Set,Wg.set(r,s)),s.add(e),Ti==null||Ti.observe(r)}),()=>{t.forEach(r=>{const s=Wg.get(r);s==null||s.delete(e),s!=null&&s.size||Ti==null||Ti.unobserve(r)})}}const Gg=new Set;let $h;function hz(){$h=()=>{const n={width:window.innerWidth,height:window.innerHeight},e={target:window,size:n,contentSize:n};Gg.forEach(t=>t(e))},window.addEventListener("resize",$h)}function fz(n){return Gg.add(n),$h||hz(),()=>{Gg.delete(n),!Gg.size&&$h&&($h=void 0)}}function pz(n,e){return typeof n=="function"?fz(n):dz(n,e)}const mz=50,Y_=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),gz=()=>({time:0,x:Y_(),y:Y_()}),yz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Q_(n,e,t,r){const s=t[e],{length:i,position:a}=yz[e],l=s.current,c=t.time;s.current=n[`scroll${a}`],s.scrollLength=n[`scroll${i}`]-n[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Ll(0,s.scrollLength,s.current);const u=r-c;s.velocity=u>mz?0:dA(s.current-l,u)}function vz(n,e,t){Q_(n,"x",e,t),Q_(n,"y",e,t),e.time=t}function xz(n,e){const t={x:0,y:0};let r=n;for(;r&&r!==e;)if(r instanceof HTMLElement)t.x+=r.offsetLeft,t.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();t.x+=s.left-i.left,t.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();t.x+=s,t.y+=i;let a=null,l=r.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=r.parentNode;r=a}else break;return t}const n2={start:0,center:.5,end:1};function J_(n,e,t=0){let r=0;if(n in n2&&(n=n2[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?r=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?r=s/100*document.documentElement.clientWidth:n.endsWith("vh")?r=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(r=e*n),t+r}const bz=[0,0];function wz(n,e,t,r){let s=Array.isArray(n)?n:bz,i=0,a=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,n2[n]?n:"0"]),i=J_(s[0],t,r),a=J_(s[1],e),i-a}const Sz={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Nz={x:0,y:0};function Az(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function jz(n,e,t){const{offset:r=Sz.All}=t,{target:s=n,axis:i="y"}=t,a=i==="y"?"height":"width",l=s!==n?xz(s,n):Nz,c=s===n?{width:n.scrollWidth,height:n.scrollHeight}:Az(s),u={width:n.clientWidth,height:n.clientHeight};e[i].offset.length=0;let d=!e[i].interpolate;const h=r.length;for(let f=0;f<h;f++){const p=wz(r[f],u[a],c[a],l[i]);!d&&p!==e[i].interpolatorOffsets[f]&&(d=!0),e[i].offset[f]=p}d&&(e[i].interpolate=xA(e[i].offset,BP(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Es(0,1,e[i].interpolate(e[i].current))}function Ez(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let r=e;for(;r&&r!==n;)t.x.targetOffset+=r.offsetLeft,t.y.targetOffset+=r.offsetTop,r=r.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function _z(n,e,t,r={}){return{measure:()=>Ez(n,r.target,t),update:s=>{vz(n,t,s),(r.offset||r.target)&&jz(n,t,r)},notify:()=>e(t)}}const Gd=new WeakMap,Z_=new WeakMap,db=new WeakMap,e3=n=>n===document.documentElement?window:n;function wA(n,{container:e=document.documentElement,...t}={}){let r=db.get(e);r||(r=new Set,db.set(e,r));const s=gz(),i=_z(e,n,s,t);if(r.add(i),!Gd.has(e)){const l=()=>{for(const f of r)f.measure()},c=()=>{for(const f of r)f.update(kt.timestamp)},u=()=>{for(const f of r)f.notify()},d=()=>{Me.read(l,!1,!0),Me.read(c,!1,!0),Me.update(u,!1,!0)};Gd.set(e,d);const h=e3(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&Z_.set(e,pz(e,d)),h.addEventListener("scroll",d,{passive:!0})}const a=Gd.get(e);return Me.read(a,!1,!0),()=>{var l;Wr(a);const c=db.get(e);if(!c||(c.delete(i),c.size))return;const u=Gd.get(e);Gd.delete(e),u&&(e3(e).removeEventListener("scroll",u),(l=Z_.get(e))===null||l===void 0||l(),window.removeEventListener("resize",u))}}function kz({source:n,container:e,axis:t="y"}){n&&(e=n);const r={value:0},s=wA(i=>{r.value=i[t].progress*100},{container:e,axis:t});return{currentTime:r,cancel:s}}const hb=new Map;function u5({source:n,container:e=document.documentElement,axis:t="y"}={}){n&&(e=n),hb.has(e)||hb.set(e,{});const r=hb.get(e);return r[t]||(r[t]=tP()?new ScrollTimeline({source:e,axis:t}):kz({source:e,axis:t})),r[t]}function Tz(n){return n.length===2}function d5(n){return n&&(n.target||n.offset)}function Cz(n,e){return Tz(n)||d5(e)?wA(t=>{n(t[e.axis].progress,t)},e):c5(n,u5(e))}function Pz(n,e){if(n.flatten(),d5(e))return n.pause(),wA(t=>{n.time=n.duration*t[e.axis].progress},e);{const t=u5(e);return n.attachTimeline?n.attachTimeline(t,r=>(r.pause(),c5(s=>{r.time=r.duration*s},t))):xn}}function Oz(n,{axis:e="y",...t}={}){const r={axis:e,...t};return typeof n=="function"?Cz(n,r):Pz(n,r)}function t3(n,e){zF(!!(!e||e.current))}const Lz=()=>({scrollX:bs(0),scrollY:bs(0),scrollXProgress:bs(0),scrollYProgress:bs(0)});function SA({container:n,target:e,layoutEffect:t=!0,...r}={}){const s=Ed(Lz);return(t?Lm:L.useEffect)(()=>(t3("target",e),t3("container",n),Oz((a,{x:l,y:c})=>{s.scrollX.set(l.current),s.scrollXProgress.set(l.progress),s.scrollY.set(c.current),s.scrollYProgress.set(c.progress)},{...r,container:(n==null?void 0:n.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[n,e,JSON.stringify(r.offset)]),s}function h5(n){const e=Ed(()=>bs(n)),{isStatic:t}=L.useContext(Om);if(t){const[,r]=L.useState(n);L.useEffect(()=>e.on("change",r),[])}return e}function f5(n,e){const t=h5(e()),r=()=>t.set(e());return r(),Lm(()=>{const s=()=>Me.preRender(r,!1,!0),i=n.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),Wr(r)}}),t}function n3(n){return typeof n=="number"?n:parseFloat(n)}function Rz(n,e={}){const{isStatic:t}=L.useContext(Om),r=L.useRef(null),s=h5($t(n)?n3(n.get()):n),i=L.useRef(s.get()),a=L.useRef(()=>{}),l=()=>{const u=r.current;u&&u.time===0&&u.sample(kt.delta),c(),r.current=nB({keyframes:[s.get(),i.current],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:a.current})},c=()=>{r.current&&r.current.stop()};return L.useInsertionEffect(()=>s.attach((u,d)=>t?d(u):(i.current=u,a.current=d,Me.update(l),s.get()),c),[JSON.stringify(e)]),Lm(()=>{if($t(n))return n.on("change",u=>s.set(n3(u)))},[s]),s}const Mz=n=>n&&typeof n=="object"&&n.mix,Dz=n=>Mz(n)?n.mix:void 0;function Iz(...n){const e=!Array.isArray(n[0]),t=e?0:-1,r=n[0+t],s=n[1+t],i=n[2+t],a=n[3+t],l=xA(s,i,{mixer:Dz(i[0]),...a});return e?l(r):l}function Fz(n){Mh.current=[],n();const e=f5(Mh.current,n);return Mh.current=void 0,e}function Pc(n,e,t,r){if(typeof n=="function")return Fz(n);const s=typeof e=="function"?e:Iz(e,t,r);return Array.isArray(n)?r3(n,s):r3([n],([i])=>s(i))}function r3(n,e){const t=Ed(()=>[]);return f5(n,()=>{t.length=0;const r=n.length;for(let s=0;s<r;s++)t[s]=n[s].get();return e(t)})}const Bz={some:0,all:1};function $z(n,e,{root:t,margin:r,amount:s="some"}={}){const i=aA(n),a=new WeakMap,l=u=>{u.forEach(d=>{const h=a.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=e(d);typeof f=="function"?a.set(d.target,f):c.unobserve(d.target)}else typeof h=="function"&&(h(d),a.delete(d.target))})},c=new IntersectionObserver(l,{root:t,rootMargin:r,threshold:typeof s=="number"?s:Bz[s]});return i.forEach(u=>c.observe(u)),()=>c.disconnect()}function zz(n,{root:e,margin:t,amount:r,once:s=!1}={}){const[i,a]=L.useState(!1);return L.useEffect(()=>{if(!n.current||s&&i)return;const l=()=>(a(!0),s?void 0:()=>a(!1)),c={root:e&&e.current||void 0,margin:t,amount:r};return $z(n.current,l,c)},[e,n,t,s,r]),i}function Uz(){this.__data__=[],this.size=0}var Vz=Uz;function Hz(n,e){return n===e||n!==n&&e!==e}var p5=Hz,qz=p5;function Wz(n,e){for(var t=n.length;t--;)if(qz(n[t][0],e))return t;return-1}var Xx=Wz,Gz=Xx,Kz=Array.prototype,Xz=Kz.splice;function Yz(n){var e=this.__data__,t=Gz(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Xz.call(e,t,1),--this.size,!0}var Qz=Yz,Jz=Xx;function Zz(n){var e=this.__data__,t=Jz(e,n);return t<0?void 0:e[t][1]}var eU=Zz,tU=Xx;function nU(n){return tU(this.__data__,n)>-1}var rU=nU,sU=Xx;function iU(n,e){var t=this.__data__,r=sU(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var aU=iU,oU=Vz,lU=Qz,cU=eU,uU=rU,dU=aU;function Td(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Td.prototype.clear=oU;Td.prototype.delete=lU;Td.prototype.get=cU;Td.prototype.has=uU;Td.prototype.set=dU;var Yx=Td,hU=Yx;function fU(){this.__data__=new hU,this.size=0}var pU=fU;function mU(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var gU=mU;function yU(n){return this.__data__.get(n)}var vU=yU;function xU(n){return this.__data__.has(n)}var bU=xU,wU=typeof Gn=="object"&&Gn&&Gn.Object===Object&&Gn,m5=wU,SU=m5,NU=typeof self=="object"&&self&&self.Object===Object&&self,AU=SU||NU||Function("return this")(),ji=AU,jU=ji,EU=jU.Symbol,NA=EU,s3=NA,g5=Object.prototype,_U=g5.hasOwnProperty,kU=g5.toString,Kd=s3?s3.toStringTag:void 0;function TU(n){var e=_U.call(n,Kd),t=n[Kd];try{n[Kd]=void 0;var r=!0}catch{}var s=kU.call(n);return r&&(e?n[Kd]=t:delete n[Kd]),s}var CU=TU,PU=Object.prototype,OU=PU.toString;function LU(n){return OU.call(n)}var RU=LU,i3=NA,MU=CU,DU=RU,IU="[object Null]",FU="[object Undefined]",a3=i3?i3.toStringTag:void 0;function BU(n){return n==null?n===void 0?FU:IU:a3&&a3 in Object(n)?MU(n):DU(n)}var Qx=BU;function $U(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var y5=$U,zU=Qx,UU=y5,VU="[object AsyncFunction]",HU="[object Function]",qU="[object GeneratorFunction]",WU="[object Proxy]";function GU(n){if(!UU(n))return!1;var e=zU(n);return e==HU||e==qU||e==VU||e==WU}var v5=GU,KU=ji,XU=KU["__core-js_shared__"],YU=XU,fb=YU,o3=function(){var n=/[^.]+$/.exec(fb&&fb.keys&&fb.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function QU(n){return!!o3&&o3 in n}var JU=QU,ZU=Function.prototype,eV=ZU.toString;function tV(n){if(n!=null){try{return eV.call(n)}catch{}try{return n+""}catch{}}return""}var x5=tV,nV=v5,rV=JU,sV=y5,iV=x5,aV=/[\\^$.*+?()[\]{}|]/g,oV=/^\[object .+?Constructor\]$/,lV=Function.prototype,cV=Object.prototype,uV=lV.toString,dV=cV.hasOwnProperty,hV=RegExp("^"+uV.call(dV).replace(aV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fV(n){if(!sV(n)||rV(n))return!1;var e=nV(n)?hV:oV;return e.test(iV(n))}var pV=fV;function mV(n,e){return n==null?void 0:n[e]}var gV=mV,yV=pV,vV=gV;function xV(n,e){var t=vV(n,e);return yV(t)?t:void 0}var Cd=xV,bV=Cd,wV=ji,SV=bV(wV,"Map"),AA=SV,NV=Cd,AV=NV(Object,"create"),Jx=AV,l3=Jx;function jV(){this.__data__=l3?l3(null):{},this.size=0}var EV=jV;function _V(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var kV=_V,TV=Jx,CV="__lodash_hash_undefined__",PV=Object.prototype,OV=PV.hasOwnProperty;function LV(n){var e=this.__data__;if(TV){var t=e[n];return t===CV?void 0:t}return OV.call(e,n)?e[n]:void 0}var RV=LV,MV=Jx,DV=Object.prototype,IV=DV.hasOwnProperty;function FV(n){var e=this.__data__;return MV?e[n]!==void 0:IV.call(e,n)}var BV=FV,$V=Jx,zV="__lodash_hash_undefined__";function UV(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=$V&&e===void 0?zV:e,this}var VV=UV,HV=EV,qV=kV,WV=RV,GV=BV,KV=VV;function Pd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Pd.prototype.clear=HV;Pd.prototype.delete=qV;Pd.prototype.get=WV;Pd.prototype.has=GV;Pd.prototype.set=KV;var XV=Pd,c3=XV,YV=Yx,QV=AA;function JV(){this.size=0,this.__data__={hash:new c3,map:new(QV||YV),string:new c3}}var ZV=JV;function eH(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var tH=eH,nH=tH;function rH(n,e){var t=n.__data__;return nH(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Zx=rH,sH=Zx;function iH(n){var e=sH(this,n).delete(n);return this.size-=e?1:0,e}var aH=iH,oH=Zx;function lH(n){return oH(this,n).get(n)}var cH=lH,uH=Zx;function dH(n){return uH(this,n).has(n)}var hH=dH,fH=Zx;function pH(n,e){var t=fH(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var mH=pH,gH=ZV,yH=aH,vH=cH,xH=hH,bH=mH;function Od(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Od.prototype.clear=gH;Od.prototype.delete=yH;Od.prototype.get=vH;Od.prototype.has=xH;Od.prototype.set=bH;var b5=Od,wH=Yx,SH=AA,NH=b5,AH=200;function jH(n,e){var t=this.__data__;if(t instanceof wH){var r=t.__data__;if(!SH||r.length<AH-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new NH(r)}return t.set(n,e),this.size=t.size,this}var EH=jH,_H=Yx,kH=pU,TH=gU,CH=vU,PH=bU,OH=EH;function Ld(n){var e=this.__data__=new _H(n);this.size=e.size}Ld.prototype.clear=kH;Ld.prototype.delete=TH;Ld.prototype.get=CH;Ld.prototype.has=PH;Ld.prototype.set=OH;var LH=Ld,RH="__lodash_hash_undefined__";function MH(n){return this.__data__.set(n,RH),this}var DH=MH;function IH(n){return this.__data__.has(n)}var FH=IH,BH=b5,$H=DH,zH=FH;function cy(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new BH;++e<t;)this.add(n[e])}cy.prototype.add=cy.prototype.push=$H;cy.prototype.has=zH;var UH=cy;function VH(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var HH=VH;function qH(n,e){return n.has(e)}var WH=qH,GH=UH,KH=HH,XH=WH,YH=1,QH=2;function JH(n,e,t,r,s,i){var a=t&YH,l=n.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=i.get(n),d=i.get(e);if(u&&d)return u==e&&d==n;var h=-1,f=!0,p=t&QH?new GH:void 0;for(i.set(n,e),i.set(e,n);++h<l;){var y=n[h],x=e[h];if(r)var b=a?r(x,y,h,e,n,i):r(y,x,h,n,e,i);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!KH(e,function(m,v){if(!XH(p,v)&&(y===m||s(y,m,t,r,i)))return p.push(v)})){f=!1;break}}else if(!(y===x||s(y,x,t,r,i))){f=!1;break}}return i.delete(n),i.delete(e),f}var w5=JH,ZH=ji,eq=ZH.Uint8Array,tq=eq;function nq(n){var e=-1,t=Array(n.size);return n.forEach(function(r,s){t[++e]=[s,r]}),t}var rq=nq;function sq(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var iq=sq,u3=NA,d3=tq,aq=p5,oq=w5,lq=rq,cq=iq,uq=1,dq=2,hq="[object Boolean]",fq="[object Date]",pq="[object Error]",mq="[object Map]",gq="[object Number]",yq="[object RegExp]",vq="[object Set]",xq="[object String]",bq="[object Symbol]",wq="[object ArrayBuffer]",Sq="[object DataView]",h3=u3?u3.prototype:void 0,pb=h3?h3.valueOf:void 0;function Nq(n,e,t,r,s,i,a){switch(t){case Sq:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case wq:return!(n.byteLength!=e.byteLength||!i(new d3(n),new d3(e)));case hq:case fq:case gq:return aq(+n,+e);case pq:return n.name==e.name&&n.message==e.message;case yq:case xq:return n==e+"";case mq:var l=lq;case vq:var c=r&uq;if(l||(l=cq),n.size!=e.size&&!c)return!1;var u=a.get(n);if(u)return u==e;r|=dq,a.set(n,e);var d=oq(l(n),l(e),r,s,i,a);return a.delete(n),d;case bq:if(pb)return pb.call(n)==pb.call(e)}return!1}var Aq=Nq;function jq(n,e){for(var t=-1,r=e.length,s=n.length;++t<r;)n[s+t]=e[t];return n}var Eq=jq,_q=Array.isArray,jA=_q,kq=Eq,Tq=jA;function Cq(n,e,t){var r=e(n);return Tq(n)?r:kq(r,t(n))}var Pq=Cq;function Oq(n,e){for(var t=-1,r=n==null?0:n.length,s=0,i=[];++t<r;){var a=n[t];e(a,t,n)&&(i[s++]=a)}return i}var Lq=Oq;function Rq(){return[]}var Mq=Rq,Dq=Lq,Iq=Mq,Fq=Object.prototype,Bq=Fq.propertyIsEnumerable,f3=Object.getOwnPropertySymbols,$q=f3?function(n){return n==null?[]:(n=Object(n),Dq(f3(n),function(e){return Bq.call(n,e)}))}:Iq,zq=$q;function Uq(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var Vq=Uq;function Hq(n){return n!=null&&typeof n=="object"}var e1=Hq,qq=Qx,Wq=e1,Gq="[object Arguments]";function Kq(n){return Wq(n)&&qq(n)==Gq}var Xq=Kq,p3=Xq,Yq=e1,S5=Object.prototype,Qq=S5.hasOwnProperty,Jq=S5.propertyIsEnumerable,Zq=p3(function(){return arguments}())?p3:function(n){return Yq(n)&&Qq.call(n,"callee")&&!Jq.call(n,"callee")},eW=Zq,uy={exports:{}};function tW(){return!1}var nW=tW;uy.exports;(function(n,e){var t=ji,r=nW,s=e&&!e.nodeType&&e,i=s&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===s,l=a?t.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;n.exports=u})(uy,uy.exports);var N5=uy.exports,rW=9007199254740991,sW=/^(?:0|[1-9]\d*)$/;function iW(n,e){var t=typeof n;return e=e??rW,!!e&&(t=="number"||t!="symbol"&&sW.test(n))&&n>-1&&n%1==0&&n<e}var aW=iW,oW=9007199254740991;function lW(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=oW}var A5=lW,cW=Qx,uW=A5,dW=e1,hW="[object Arguments]",fW="[object Array]",pW="[object Boolean]",mW="[object Date]",gW="[object Error]",yW="[object Function]",vW="[object Map]",xW="[object Number]",bW="[object Object]",wW="[object RegExp]",SW="[object Set]",NW="[object String]",AW="[object WeakMap]",jW="[object ArrayBuffer]",EW="[object DataView]",_W="[object Float32Array]",kW="[object Float64Array]",TW="[object Int8Array]",CW="[object Int16Array]",PW="[object Int32Array]",OW="[object Uint8Array]",LW="[object Uint8ClampedArray]",RW="[object Uint16Array]",MW="[object Uint32Array]",Xe={};Xe[_W]=Xe[kW]=Xe[TW]=Xe[CW]=Xe[PW]=Xe[OW]=Xe[LW]=Xe[RW]=Xe[MW]=!0;Xe[hW]=Xe[fW]=Xe[jW]=Xe[pW]=Xe[EW]=Xe[mW]=Xe[gW]=Xe[yW]=Xe[vW]=Xe[xW]=Xe[bW]=Xe[wW]=Xe[SW]=Xe[NW]=Xe[AW]=!1;function DW(n){return dW(n)&&uW(n.length)&&!!Xe[cW(n)]}var IW=DW;function FW(n){return function(e){return n(e)}}var BW=FW,dy={exports:{}};dy.exports;(function(n,e){var t=m5,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,a=i&&t.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();n.exports=l})(dy,dy.exports);var $W=dy.exports,zW=IW,UW=BW,m3=$W,g3=m3&&m3.isTypedArray,VW=g3?UW(g3):zW,j5=VW,HW=Vq,qW=eW,WW=jA,GW=N5,KW=aW,XW=j5,YW=Object.prototype,QW=YW.hasOwnProperty;function JW(n,e){var t=WW(n),r=!t&&qW(n),s=!t&&!r&&GW(n),i=!t&&!r&&!s&&XW(n),a=t||r||s||i,l=a?HW(n.length,String):[],c=l.length;for(var u in n)(e||QW.call(n,u))&&!(a&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||KW(u,c)))&&l.push(u);return l}var ZW=JW,eG=Object.prototype;function tG(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||eG;return n===t}var nG=tG;function rG(n,e){return function(t){return n(e(t))}}var sG=rG,iG=sG,aG=iG(Object.keys,Object),oG=aG,lG=nG,cG=oG,uG=Object.prototype,dG=uG.hasOwnProperty;function hG(n){if(!lG(n))return cG(n);var e=[];for(var t in Object(n))dG.call(n,t)&&t!="constructor"&&e.push(t);return e}var fG=hG,pG=v5,mG=A5;function gG(n){return n!=null&&mG(n.length)&&!pG(n)}var yG=gG,vG=ZW,xG=fG,bG=yG;function wG(n){return bG(n)?vG(n):xG(n)}var SG=wG,NG=Pq,AG=zq,jG=SG;function EG(n){return NG(n,jG,AG)}var _G=EG,y3=_G,kG=1,TG=Object.prototype,CG=TG.hasOwnProperty;function PG(n,e,t,r,s,i){var a=t&kG,l=y3(n),c=l.length,u=y3(e),d=u.length;if(c!=d&&!a)return!1;for(var h=c;h--;){var f=l[h];if(!(a?f in e:CG.call(e,f)))return!1}var p=i.get(n),y=i.get(e);if(p&&y)return p==e&&y==n;var x=!0;i.set(n,e),i.set(e,n);for(var b=a;++h<c;){f=l[h];var m=n[f],v=e[f];if(r)var S=a?r(v,m,f,e,n,i):r(m,v,f,n,e,i);if(!(S===void 0?m===v||s(m,v,t,r,i):S)){x=!1;break}b||(b=f=="constructor")}if(x&&!b){var w=n.constructor,N=e.constructor;w!=N&&"constructor"in n&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N)&&(x=!1)}return i.delete(n),i.delete(e),x}var OG=PG,LG=Cd,RG=ji,MG=LG(RG,"DataView"),DG=MG,IG=Cd,FG=ji,BG=IG(FG,"Promise"),$G=BG,zG=Cd,UG=ji,VG=zG(UG,"Set"),HG=VG,qG=Cd,WG=ji,GG=qG(WG,"WeakMap"),KG=GG,r2=DG,s2=AA,i2=$G,a2=HG,o2=KG,E5=Qx,Rd=x5,v3="[object Map]",XG="[object Object]",x3="[object Promise]",b3="[object Set]",w3="[object WeakMap]",S3="[object DataView]",YG=Rd(r2),QG=Rd(s2),JG=Rd(i2),ZG=Rd(a2),eK=Rd(o2),Qa=E5;(r2&&Qa(new r2(new ArrayBuffer(1)))!=S3||s2&&Qa(new s2)!=v3||i2&&Qa(i2.resolve())!=x3||a2&&Qa(new a2)!=b3||o2&&Qa(new o2)!=w3)&&(Qa=function(n){var e=E5(n),t=e==XG?n.constructor:void 0,r=t?Rd(t):"";if(r)switch(r){case YG:return S3;case QG:return v3;case JG:return x3;case ZG:return b3;case eK:return w3}return e});var tK=Qa,mb=LH,nK=w5,rK=Aq,sK=OG,N3=tK,A3=jA,j3=N5,iK=j5,aK=1,E3="[object Arguments]",_3="[object Array]",pg="[object Object]",oK=Object.prototype,k3=oK.hasOwnProperty;function lK(n,e,t,r,s,i){var a=A3(n),l=A3(e),c=a?_3:N3(n),u=l?_3:N3(e);c=c==E3?pg:c,u=u==E3?pg:u;var d=c==pg,h=u==pg,f=c==u;if(f&&j3(n)){if(!j3(e))return!1;a=!0,d=!1}if(f&&!d)return i||(i=new mb),a||iK(n)?nK(n,e,t,r,s,i):rK(n,e,c,t,r,s,i);if(!(t&aK)){var p=d&&k3.call(n,"__wrapped__"),y=h&&k3.call(e,"__wrapped__");if(p||y){var x=p?n.value():n,b=y?e.value():e;return i||(i=new mb),s(x,b,t,r,i)}}return f?(i||(i=new mb),sK(n,e,t,r,s,i)):!1}var cK=lK,uK=cK,T3=e1;function _5(n,e,t,r,s){return n===e?!0:n==null||e==null||!T3(n)&&!T3(e)?n!==n&&e!==e:uK(n,e,t,r,_5,s)}var dK=_5,hK=dK;function fK(n,e){return hK(n,e)}var pK=fK,k5={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(n,e){(function(r,s){n.exports=s()})(typeof self<"u"?self:Gn,function(){return function(t){var r={};function s(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=t,s.c=r,s.d=function(i,a,l){s.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:l})},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,"a",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p="",s(s.s=109)}([function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(17),a=s(18),l=s(19),c=s(45),u=s(46),d=s(47),h=s(48),f=s(49),p=s(12),y=s(32),x=s(33),b=s(31),m=s(1),v={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:a.default,Leaf:l.default,Embed:h.default,Scroll:c.default,Block:d.default,Inline:u.default,Text:f.default,Attributor:{Attribute:p.default,Class:y.default,Style:x.default,Store:b.default}};r.default=v},function(t,r,s){var i=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var S in v)v.hasOwnProperty(S)&&(m[S]=v[S])};return function(m,v){b(m,v);function S(){this.constructor=m}m.prototype=v===null?Object.create(v):(S.prototype=v.prototype,new S)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=function(b){i(m,b);function m(v){var S=this;return v="[Parchment] "+v,S=b.call(this,v)||this,S.message=v,S.name=S.constructor.name,S}return m}(Error);r.ParchmentError=a;var l={},c={},u={},d={};r.DATA_KEY="__blot";var h;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function f(b,m){var v=y(b);if(v==null)throw new a("Unable to create "+b+" blot");var S=v,w=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:S.create(m);return new S(w,m)}r.create=f;function p(b,m){return m===void 0&&(m=!1),b==null?null:b[r.DATA_KEY]!=null?b[r.DATA_KEY].blot:m?p(b.parentNode,m):null}r.find=p;function y(b,m){m===void 0&&(m=h.ANY);var v;if(typeof b=="string")v=d[b]||l[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)v=d.text;else if(typeof b=="number")b&h.LEVEL&h.BLOCK?v=d.block:b&h.LEVEL&h.INLINE&&(v=d.inline);else if(b instanceof HTMLElement){var S=(b.getAttribute("class")||"").split(/\s+/);for(var w in S)if(v=c[S[w]],v)break;v=v||u[b.tagName]}return v==null?null:m&h.LEVEL&v.scope&&m&h.TYPE&v.scope?v:null}r.query=y;function x(){for(var b=[],m=0;m<arguments.length;m++)b[m]=arguments[m];if(b.length>1)return b.map(function(w){return x(w)});var v=b[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new a("Invalid definition");if(v.blotName==="abstract")throw new a("Cannot register abstract class");if(d[v.blotName||v.attrName]=v,typeof v.keyName=="string")l[v.keyName]=v;else if(v.className!=null&&(c[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(w){return w.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var S=Array.isArray(v.tagName)?v.tagName:[v.tagName];S.forEach(function(w){(u[w]==null||v.className==null)&&(u[w]=v)})}return v}r.register=x},function(t,r,s){var i=s(51),a=s(11),l=s(3),c=s(20),u=String.fromCharCode(0),d=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};d.prototype.insert=function(h,f){var p={};return h.length===0?this:(p.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))},d.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},d.prototype.retain=function(h,f){if(h<=0)return this;var p={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)},d.prototype.push=function(h){var f=this.ops.length,p=this.ops[f-1];if(h=l(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(f-=1,p=this.ops[f-1],typeof p!="object"))return this.ops.unshift(h),this;if(a(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},d.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},d.prototype.filter=function(h){return this.ops.filter(h)},d.prototype.forEach=function(h){this.ops.forEach(h)},d.prototype.map=function(h){return this.ops.map(h)},d.prototype.partition=function(h){var f=[],p=[];return this.forEach(function(y){var x=h(y)?f:p;x.push(y)}),[f,p]},d.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},d.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+c.length(f):f.delete?h-f.delete:h},0)},d.prototype.length=function(){return this.reduce(function(h,f){return h+c.length(f)},0)},d.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var p=[],y=c.iterator(this.ops),x=0;x<f&&y.hasNext();){var b;x<h?b=y.next(h-x):(b=y.next(f-x),p.push(b)),x+=c.length(b)}return new d(p)},d.prototype.compose=function(h){var f=c.iterator(this.ops),p=c.iterator(h.ops),y=[],x=p.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){for(var b=x.retain;f.peekType()==="insert"&&f.peekLength()<=b;)b-=f.peekLength(),y.push(f.next());x.retain-b>0&&p.next(x.retain-b)}for(var m=new d(y);f.hasNext()||p.hasNext();)if(p.peekType()==="insert")m.push(p.next());else if(f.peekType()==="delete")m.push(f.next());else{var v=Math.min(f.peekLength(),p.peekLength()),S=f.next(v),w=p.next(v);if(typeof w.retain=="number"){var N={};typeof S.retain=="number"?N.retain=v:N.insert=S.insert;var E=c.attributes.compose(S.attributes,w.attributes,typeof S.retain=="number");if(E&&(N.attributes=E),m.push(N),!p.hasNext()&&a(m.ops[m.ops.length-1],N)){var _=new d(f.rest());return m.concat(_).chop()}}else typeof w.delete=="number"&&typeof S.retain=="number"&&m.push(w)}return m.chop()},d.prototype.concat=function(h){var f=new d(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},d.prototype.diff=function(h,f){if(this.ops===h.ops)return new d;var p=[this,h].map(function(v){return v.map(function(S){if(S.insert!=null)return typeof S.insert=="string"?S.insert:u;var w=v===h?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),y=new d,x=i(p[0],p[1],f),b=c.iterator(this.ops),m=c.iterator(h.ops);return x.forEach(function(v){for(var S=v[1].length;S>0;){var w=0;switch(v[0]){case i.INSERT:w=Math.min(m.peekLength(),S),y.push(m.next(w));break;case i.DELETE:w=Math.min(S,b.peekLength()),b.next(w),y.delete(w);break;case i.EQUAL:w=Math.min(b.peekLength(),m.peekLength(),S);var N=b.next(w),E=m.next(w);a(N.insert,E.insert)?y.retain(w,c.attributes.diff(N.attributes,E.attributes)):y.push(E).delete(w);break}S-=w}}),y.chop()},d.prototype.eachLine=function(h,f){f=f||`
`;for(var p=c.iterator(this.ops),y=new d,x=0;p.hasNext();){if(p.peekType()!=="insert")return;var b=p.peek(),m=c.length(b)-p.peekLength(),v=typeof b.insert=="string"?b.insert.indexOf(f,m)-m:-1;if(v<0)y.push(p.next());else if(v>0)y.push(p.next(v));else{if(h(y,p.next(1).attributes||{},x)===!1)return;x+=1,y=new d}}y.length()>0&&h(y,{},x)},d.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var p=c.iterator(this.ops),y=c.iterator(h.ops),x=new d;p.hasNext()||y.hasNext();)if(p.peekType()==="insert"&&(f||y.peekType()!=="insert"))x.retain(c.length(p.next()));else if(y.peekType()==="insert")x.push(y.next());else{var b=Math.min(p.peekLength(),y.peekLength()),m=p.next(b),v=y.next(b);if(m.delete)continue;v.delete?x.push(v):x.retain(b,c.attributes.transform(m.attributes,v.attributes,f))}return x.chop()},d.prototype.transformPosition=function(h,f){f=!!f;for(var p=c.iterator(this.ops),y=0;p.hasNext()&&y<=h;){var x=p.peekLength(),b=p.peekType();if(p.next(),b==="delete"){h-=Math.min(x,h-y);continue}else b==="insert"&&(y<h||!f)&&(h+=x);y+=x}return h},t.exports=d},function(t,r){var s=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):i.call(p)==="[object Array]"},u=function(p){if(!p||i.call(p)!=="[object Object]")return!1;var y=s.call(p,"constructor"),x=p.constructor&&p.constructor.prototype&&s.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!y&&!x)return!1;var b;for(b in p);return typeof b>"u"||s.call(p,b)},d=function(p,y){a&&y.name==="__proto__"?a(p,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):p[y.name]=y.newValue},h=function(p,y){if(y==="__proto__")if(s.call(p,y)){if(l)return l(p,y).value}else return;return p[y]};t.exports=function f(){var p,y,x,b,m,v,S=arguments[0],w=1,N=arguments.length,E=!1;for(typeof S=="boolean"&&(E=S,S=arguments[1]||{},w=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});w<N;++w)if(p=arguments[w],p!=null)for(y in p)x=h(S,y),b=h(p,y),S!==b&&(E&&b&&(u(b)||(m=c(b)))?(m?(m=!1,v=x&&c(x)?x:[]):v=x&&u(x)?x:{},d(S,{name:y,newValue:f(E,v,b)})):typeof b<"u"&&d(S,{name:y,newValue:b}));return S}},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var i=function(){function k(T,P){for(var R=0;R<P.length;R++){var M=P[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,P,R){return P&&k(T.prototype,P),R&&k(T,R),T}}(),a=function k(T,P,R){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,P);if(M===void 0){var V=Object.getPrototypeOf(T);return V===null?void 0:k(V,P,R)}else{if("value"in M)return M.value;var U=M.get;return U===void 0?void 0:U.call(R)}},l=s(3),c=S(l),u=s(2),d=S(u),h=s(0),f=S(h),p=s(16),y=S(p),x=s(6),b=S(x),m=s(7),v=S(m);function S(k){return k&&k.__esModule?k:{default:k}}function w(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function N(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function E(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var _=1,A=function(k){E(T,k);function T(){return w(this,T),N(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return i(T,[{key:"attach",value:function(){a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(R,M){var V=f.default.query(R,f.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,M)}},{key:"formatAt",value:function(R,M,V,U){this.format(V,U)}},{key:"insertAt",value:function(R,M,V){if(typeof M=="string"&&M.endsWith(`
`)){var U=f.default.create(C.blotName);this.parent.insertBefore(U,R===0?this:this.next),U.insertAt(0,M.slice(0,-1))}else a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,R,M,V)}}]),T}(f.default.Embed);A.scope=f.default.Scope.BLOCK_BLOT;var C=function(k){E(T,k);function T(P){w(this,T);var R=N(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P));return R.cache={},R}return i(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(R,M){return M.length()===0?R:R.insert(M.value(),j(M))},new d.default).insert(`
`,j(this))),this.cache.delta}},{key:"deleteAt",value:function(R,M){a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,R,M),this.cache={}}},{key:"formatAt",value:function(R,M,V,U){M<=0||(f.default.query(V,f.default.Scope.BLOCK)?R+M===this.length()&&this.format(V,U):a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,R,Math.min(M,this.length()-R-1),V,U),this.cache={})}},{key:"insertAt",value:function(R,M,V){if(V!=null)return a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,R,M,V);if(M.length!==0){var U=M.split(`
`),W=U.shift();W.length>0&&(R<this.length()-1||this.children.tail==null?a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(R,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var q=this;U.reduce(function($,D){return q=q.split($,!0),q.insertAt(0,D),D.length},R+W.length)}}},{key:"insertBefore",value:function(R,M){var V=this.children.head;a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,R,M),V instanceof y.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+_),this.cache.length}},{key:"moveChildren",value:function(R,M){a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,R,M),this.cache={}}},{key:"optimize",value:function(R){a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,R),this.cache={}}},{key:"path",value:function(R){return a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,R,!0)}},{key:"removeChild",value:function(R){a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,R),this.cache={}}},{key:"split",value:function(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(R===0||R>=this.length()-_)){var V=this.clone();return R===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var U=a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,R,M);return this.cache={},U}}}]),T}(f.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[b.default,f.default.Embed,v.default];function j(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(T=(0,c.default)(T,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?T:j(k.parent,T)}r.bubbleFormats=j,r.BlockEmbed=A,r.default=C},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},a=function(){function q($,D){var B=[],H=!0,X=!1,K=void 0;try{for(var z=$[Symbol.iterator](),G;!(H=(G=z.next()).done)&&(B.push(G.value),!(D&&B.length===D));H=!0);}catch(J){X=!0,K=J}finally{try{!H&&z.return&&z.return()}finally{if(X)throw K}}return B}return function($,D){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return q($,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function q($,D){for(var B=0;B<D.length;B++){var H=D[B];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}}return function($,D,B){return D&&q($.prototype,D),B&&q($,B),$}}();s(50);var c=s(2),u=j(c),d=s(14),h=j(d),f=s(8),p=j(f),y=s(9),x=j(y),b=s(0),m=j(b),v=s(15),S=j(v),w=s(3),N=j(w),E=s(10),_=j(E),A=s(34),C=j(A);function j(q){return q&&q.__esModule?q:{default:q}}function k(q,$,D){return $ in q?Object.defineProperty(q,$,{value:D,enumerable:!0,configurable:!0,writable:!0}):q[$]=D,q}function T(q,$){if(!(q instanceof $))throw new TypeError("Cannot call a class as a function")}var P=(0,_.default)("quill"),R=function(){l(q,null,[{key:"debug",value:function(D){D===!0&&(D="log"),_.default.level(D)}},{key:"find",value:function(D){return D.__quill||m.default.find(D)}},{key:"import",value:function(D){return this.imports[D]==null&&P.error("Cannot import "+D+". Are you sure it was registered?"),this.imports[D]}},{key:"register",value:function(D,B){var H=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof D!="string"){var K=D.attrName||D.blotName;typeof K=="string"?this.register("formats/"+K,D,B):Object.keys(D).forEach(function(z){H.register(z,D[z],B)})}else this.imports[D]!=null&&!X&&P.warn("Overwriting "+D+" with",B),this.imports[D]=B,(D.startsWith("blots/")||D.startsWith("formats/"))&&B.blotName!=="abstract"?m.default.register(B):D.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function q($){var D=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,q),this.options=M($,B),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",$);this.options.debug&&q.debug(this.options.debug);var H=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new S.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(K){K===p.default.events.TEXT_CHANGE&&D.root.classList.toggle("ql-blank",D.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(K,z){var G=D.selection.lastRange,J=G&&G.length===0?G.index:void 0;V.call(D,function(){return D.editor.update(null,z,J)},K)});var X=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+H+"<p><br></p></div>");this.setContents(X),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(q,[{key:"addContainer",value:function(D){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof D=="string"){var H=D;D=document.createElement("div"),D.classList.add(H)}return this.container.insertBefore(D,B),D}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(D,B,H){var X=this,K=U(D,B,H),z=a(K,4);return D=z[0],B=z[1],H=z[3],V.call(this,function(){return X.editor.deleteText(D,B)},H,D,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(D),this.container.classList.toggle("ql-disabled",!D)}},{key:"focus",value:function(){var D=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=D,this.scrollIntoView()}},{key:"format",value:function(D,B){var H=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return V.call(this,function(){var K=H.getSelection(!0),z=new u.default;if(K==null)return z;if(m.default.query(D,m.default.Scope.BLOCK))z=H.editor.formatLine(K.index,K.length,k({},D,B));else{if(K.length===0)return H.selection.format(D,B),z;z=H.editor.formatText(K.index,K.length,k({},D,B))}return H.setSelection(K,p.default.sources.SILENT),z},X)}},{key:"formatLine",value:function(D,B,H,X,K){var z=this,G=void 0,J=U(D,B,H,X,K),Q=a(J,4);return D=Q[0],B=Q[1],G=Q[2],K=Q[3],V.call(this,function(){return z.editor.formatLine(D,B,G)},K,D,0)}},{key:"formatText",value:function(D,B,H,X,K){var z=this,G=void 0,J=U(D,B,H,X,K),Q=a(J,4);return D=Q[0],B=Q[1],G=Q[2],K=Q[3],V.call(this,function(){return z.editor.formatText(D,B,G)},K,D,0)}},{key:"getBounds",value:function(D){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=void 0;typeof D=="number"?H=this.selection.getBounds(D,B):H=this.selection.getBounds(D.index,D.length);var X=this.container.getBoundingClientRect();return{bottom:H.bottom-X.top,height:H.height,left:H.left-X.left,right:H.right-X.left,top:H.top-X.top,width:H.width}}},{key:"getContents",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,H=U(D,B),X=a(H,2);return D=X[0],B=X[1],this.editor.getContents(D,B)}},{key:"getFormat",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof D=="number"?this.editor.getFormat(D,B):this.editor.getFormat(D.index,D.length)}},{key:"getIndex",value:function(D){return D.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(D){return this.scroll.leaf(D)}},{key:"getLine",value:function(D){return this.scroll.line(D)}},{key:"getLines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof D!="number"?this.scroll.lines(D.index,D.length):this.scroll.lines(D,B)}},{key:"getModule",value:function(D){return this.theme.modules[D]}},{key:"getSelection",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return D&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,H=U(D,B),X=a(H,2);return D=X[0],B=X[1],this.editor.getText(D,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(D,B,H){var X=this,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return V.call(this,function(){return X.editor.insertEmbed(D,B,H)},K,D)}},{key:"insertText",value:function(D,B,H,X,K){var z=this,G=void 0,J=U(D,0,H,X,K),Q=a(J,4);return D=Q[0],G=Q[2],K=Q[3],V.call(this,function(){return z.editor.insertText(D,B,G)},K,D,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(D,B,H){this.clipboard.dangerouslyPasteHTML(D,B,H)}},{key:"removeFormat",value:function(D,B,H){var X=this,K=U(D,B,H),z=a(K,4);return D=z[0],B=z[1],H=z[3],V.call(this,function(){return X.editor.removeFormat(D,B)},H,D)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(D){var B=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return V.call(this,function(){D=new u.default(D);var X=B.getLength(),K=B.editor.deleteText(0,X),z=B.editor.applyDelta(D),G=z.ops[z.ops.length-1];G!=null&&typeof G.insert=="string"&&G.insert[G.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),z.delete(1));var J=K.compose(z);return J},H)}},{key:"setSelection",value:function(D,B,H){if(D==null)this.selection.setRange(null,B||q.sources.API);else{var X=U(D,B,H),K=a(X,4);D=K[0],B=K[1],H=K[3],this.selection.setRange(new v.Range(D,B),H),H!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(D){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,H=new u.default().insert(D);return this.setContents(H,B)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,B=this.scroll.update(D);return this.selection.update(D),B}},{key:"updateContents",value:function(D){var B=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return V.call(this,function(){return D=new u.default(D),B.editor.applyDelta(D,H)},H,!0)}}]),q}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=p.default.events,R.sources=p.default.sources,R.version="1.3.7",R.imports={delta:u.default,parchment:m.default,"core/module":x.default,"core/theme":C.default};function M(q,$){if($=(0,N.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===R.DEFAULTS.theme)$.theme=C.default;else if($.theme=R.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var D=(0,N.default)(!0,{},$.theme.DEFAULTS);[D,$].forEach(function(X){X.modules=X.modules||{},Object.keys(X.modules).forEach(function(K){X.modules[K]===!0&&(X.modules[K]={})})});var B=Object.keys(D.modules).concat(Object.keys($.modules)),H=B.reduce(function(X,K){var z=R.import("modules/"+K);return z==null?P.error("Cannot load "+K+" module. Are you sure you registered it?"):X[K]=z.DEFAULTS||{},X},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,N.default)(!0,{},R.DEFAULTS,{modules:H},D,$),["bounds","container","scrollingContainer"].forEach(function(X){typeof $[X]=="string"&&($[X]=document.querySelector($[X]))}),$.modules=Object.keys($.modules).reduce(function(X,K){return $.modules[K]&&(X[K]=$.modules[K]),X},{}),$}function V(q,$,D,B){if(this.options.strict&&!this.isEnabled()&&$===p.default.sources.USER)return new u.default;var H=D==null?null:this.getSelection(),X=this.editor.delta,K=q();if(H!=null&&(D===!0&&(D=H.index),B==null?H=W(H,K,$):B!==0&&(H=W(H,D,B,$)),this.setSelection(H,p.default.sources.SILENT)),K.length()>0){var z,G=[p.default.events.TEXT_CHANGE,K,X,$];if((z=this.emitter).emit.apply(z,[p.default.events.EDITOR_CHANGE].concat(G)),$!==p.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,G)}}return K}function U(q,$,D,B,H){var X={};return typeof q.index=="number"&&typeof q.length=="number"?typeof $!="number"?(H=B,B=D,D=$,$=q.length,q=q.index):($=q.length,q=q.index):typeof $!="number"&&(H=B,B=D,D=$,$=0),(typeof D>"u"?"undefined":i(D))==="object"?(X=D,H=B):typeof D=="string"&&(B!=null?X[D]=B:H=D),H=H||p.default.sources.API,[q,$,X,H]}function W(q,$,D,B){if(q==null)return null;var H=void 0,X=void 0;if($ instanceof u.default){var K=[q.index,q.index+q.length].map(function(Q){return $.transformPosition(Q,B!==p.default.sources.USER)}),z=a(K,2);H=z[0],X=z[1]}else{var G=[q.index,q.index+q.length].map(function(Q){return Q<$||Q===$&&B===p.default.sources.USER?Q:D>=0?Q+D:Math.max($,Q+D)}),J=a(G,2);H=J[0],X=J[1]}return new v.Range(H,X-H)}r.expandConfig=M,r.overload=U,r.default=R},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(m,v){for(var S=0;S<v.length;S++){var w=v[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,v,S){return v&&b(m.prototype,v),S&&b(m,S),m}}(),a=function b(m,v,S){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,v);if(w===void 0){var N=Object.getPrototypeOf(m);return N===null?void 0:b(N,v,S)}else{if("value"in w)return w.value;var E=w.get;return E===void 0?void 0:E.call(S)}},l=s(7),c=h(l),u=s(0),d=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function p(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function y(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var x=function(b){y(m,b);function m(){return f(this,m),p(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"formatAt",value:function(S,w,N,E){if(m.compare(this.statics.blotName,N)<0&&d.default.query(N,d.default.Scope.BLOT)){var _=this.isolate(S,w);E&&_.wrap(N,E)}else a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,S,w,N,E)}},{key:"optimize",value:function(S){if(a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,S),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(S,w){var N=m.order.indexOf(S),E=m.order.indexOf(w);return N>=0||E>=0?N-E:S===w?0:S<w?-1:1}}]),m}(d.default.Inline);x.allowedChildren=[x,d.default.Embed,c.default],x.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=x},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),a=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(a.default.Text);r.default=h},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function v(S,w){for(var N=0;N<w.length;N++){var E=w[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,w,N){return w&&v(S.prototype,w),N&&v(S,N),S}}(),a=function v(S,w,N){S===null&&(S=Function.prototype);var E=Object.getOwnPropertyDescriptor(S,w);if(E===void 0){var _=Object.getPrototypeOf(S);return _===null?void 0:v(_,w,N)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(N)}},l=s(54),c=h(l),u=s(10),d=h(u);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,S){if(!(v instanceof S))throw new TypeError("Cannot call a class as a function")}function p(v,S){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:v}function y(v,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);v.prototype=Object.create(S&&S.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(v,S):v.__proto__=S)}var x=(0,d.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(v){document.addEventListener(v,function(){for(var S=arguments.length,w=Array(S),N=0;N<S;N++)w[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(E){if(E.__quill&&E.__quill.emitter){var _;(_=E.__quill.emitter).handleDOM.apply(_,w)}})})});var m=function(v){y(S,v);function S(){f(this,S);var w=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));return w.listeners={},w.on("error",x.error),w}return i(S,[{key:"emit",value:function(){x.log.apply(x,arguments),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var E=arguments.length,_=Array(E>1?E-1:0),A=1;A<E;A++)_[A-1]=arguments[A];(this.listeners[N.type]||[]).forEach(function(C){var j=C.node,k=C.handler;(N.target===j||j.contains(N.target))&&k.apply(void 0,[N].concat(_))})}},{key:"listenDOM",value:function(N,E,_){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:E,handler:_})}}]),S}(c.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,l),this.quill=c,this.options=u};a.DEFAULTS={},r.default=a},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=["error","warn","log","info"],a="warn";function l(u){if(i.indexOf(u)<=i.indexOf(a)){for(var d,h=arguments.length,f=Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];(d=console)[u].apply(d,f)}}function c(u){return i.reduce(function(d,h){return d[h]=l.bind(console,h,u),d},{})}l.level=c.level=function(u){a=u},r.default=c},function(t,r,s){var i=Array.prototype.slice,a=s(52),l=s(53),c=t.exports=function(f,p,y){return y||(y={}),f===p?!0:f instanceof Date&&p instanceof Date?f.getTime()===p.getTime():!f||!p||typeof f!="object"&&typeof p!="object"?y.strict?f===p:f==p:h(f,p,y)};function u(f){return f==null}function d(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,p,y){var x,b;if(u(f)||u(p)||f.prototype!==p.prototype)return!1;if(l(f))return l(p)?(f=i.call(f),p=i.call(p),c(f,p,y)):!1;if(d(f)){if(!d(p)||f.length!==p.length)return!1;for(x=0;x<f.length;x++)if(f[x]!==p[x])return!1;return!0}try{var m=a(f),v=a(p)}catch{return!1}if(m.length!=v.length)return!1;for(m.sort(),v.sort(),x=m.length-1;x>=0;x--)if(m[x]!=v[x])return!1;for(x=m.length-1;x>=0;x--)if(b=m[x],!c(f[b],p[b],y))return!1;return typeof f==typeof p}},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),a=function(){function l(c,u,d){d===void 0&&(d={}),this.attrName=c,this.keyName=u;var h=i.Scope.TYPE&i.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&i.Scope.LEVEL|h:this.scope=i.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var d=i.query(c,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l}();r.default=a},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var i=function(){function A(C,j){var k=[],T=!0,P=!1,R=void 0;try{for(var M=C[Symbol.iterator](),V;!(T=(V=M.next()).done)&&(k.push(V.value),!(j&&k.length===j));T=!0);}catch(U){P=!0,R=U}finally{try{!T&&M.return&&M.return()}finally{if(P)throw R}}return k}return function(C,j){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return A(C,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function A(C,j){for(var k=0;k<j.length;k++){var T=j[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}}return function(C,j,k){return j&&A(C.prototype,j),k&&A(C,k),C}}(),l=function A(C,j,k){C===null&&(C=Function.prototype);var T=Object.getOwnPropertyDescriptor(C,j);if(T===void 0){var P=Object.getPrototypeOf(C);return P===null?void 0:A(P,j,k)}else{if("value"in T)return T.value;var R=T.get;return R===void 0?void 0:R.call(k)}},c=s(2),u=v(c),d=s(0),h=v(d),f=s(4),p=v(f),y=s(6),x=v(y),b=s(7),m=v(b);function v(A){return A&&A.__esModule?A:{default:A}}function S(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function w(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function N(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var E=function(A){N(C,A);function C(){return S(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(x.default);E.blotName="code",E.tagName="CODE";var _=function(A){N(C,A);function C(){return S(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"delta",value:function(){var k=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(P,R){return P.insert(R).insert(`
`,k.formats())},new u.default)}},{key:"format",value:function(k,T){if(!(k===this.statics.blotName&&T)){var P=this.descendant(m.default,this.length()-1),R=i(P,1),M=R[0];M!=null&&M.deleteAt(M.length()-1,1),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,k,T)}}},{key:"formatAt",value:function(k,T,P,R){if(T!==0&&!(h.default.query(P,h.default.Scope.BLOCK)==null||P===this.statics.blotName&&R===this.statics.formats(this.domNode))){var M=this.newlineIndex(k);if(!(M<0||M>=k+T)){var V=this.newlineIndex(k,!0)+1,U=M-V+1,W=this.isolate(V,U),q=W.next;W.format(P,R),q instanceof C&&q.formatAt(0,k-V+T-U,P,R)}}}},{key:"insertAt",value:function(k,T,P){if(P==null){var R=this.descendant(m.default,k),M=i(R,2),V=M[0],U=M[1];V.insertAt(U,T)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var P=this.domNode.textContent.slice(k).indexOf(`
`);return P>-1?k+P:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,k);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(k),T.moveChildren(this),T.remove())}},{key:"replace",value:function(k){l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var P=h.default.find(T);P==null?T.parentNode.removeChild(T):P instanceof h.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(k){var T=l(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,k);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),C}(p.default);_.blotName="code-block",_.tagName="PRE",_.TAB="  ",r.Code=E,r.default=_},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},a=function(){function q($,D){var B=[],H=!0,X=!1,K=void 0;try{for(var z=$[Symbol.iterator](),G;!(H=(G=z.next()).done)&&(B.push(G.value),!(D&&B.length===D));H=!0);}catch(J){X=!0,K=J}finally{try{!H&&z.return&&z.return()}finally{if(X)throw K}}return B}return function($,D){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return q($,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function q($,D){for(var B=0;B<D.length;B++){var H=D[B];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,H.key,H)}}return function($,D,B){return D&&q($.prototype,D),B&&q($,B),$}}(),c=s(2),u=T(c),d=s(20),h=T(d),f=s(0),p=T(f),y=s(13),x=T(y),b=s(24),m=T(b),v=s(4),S=T(v),w=s(16),N=T(w),E=s(21),_=T(E),A=s(11),C=T(A),j=s(3),k=T(j);function T(q){return q&&q.__esModule?q:{default:q}}function P(q,$,D){return $ in q?Object.defineProperty(q,$,{value:D,enumerable:!0,configurable:!0,writable:!0}):q[$]=D,q}function R(q,$){if(!(q instanceof $))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,V=function(){function q($){R(this,q),this.scroll=$,this.delta=this.getDelta()}return l(q,[{key:"applyDelta",value:function(D){var B=this,H=!1;this.scroll.update();var X=this.scroll.length();return this.scroll.batchStart(),D=W(D),D.reduce(function(K,z){var G=z.retain||z.delete||z.insert.length||1,J=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var Q=z.insert;Q.endsWith(`
`)&&H&&(H=!1,Q=Q.slice(0,-1)),K>=X&&!Q.endsWith(`
`)&&(H=!0),B.scroll.insertAt(K,Q);var ee=B.scroll.line(K),le=a(ee,2),ge=le[0],ce=le[1],fe=(0,k.default)({},(0,v.bubbleFormats)(ge));if(ge instanceof S.default){var ve=ge.descendant(p.default.Leaf,ce),Oe=a(ve,1),qe=Oe[0];fe=(0,k.default)(fe,(0,v.bubbleFormats)(qe))}J=h.default.attributes.diff(fe,J)||{}}else if(i(z.insert)==="object"){var te=Object.keys(z.insert)[0];if(te==null)return K;B.scroll.insertAt(K,te,z.insert[te])}X+=G}return Object.keys(J).forEach(function(ne){B.scroll.formatAt(K,G,ne,J[ne])}),K+G},0),D.reduce(function(K,z){return typeof z.delete=="number"?(B.scroll.deleteAt(K,z.delete),K):K+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update(D)}},{key:"deleteText",value:function(D,B){return this.scroll.deleteAt(D,B),this.update(new u.default().retain(D).delete(B))}},{key:"formatLine",value:function(D,B){var H=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(X).forEach(function(K){if(!(H.scroll.whitelist!=null&&!H.scroll.whitelist[K])){var z=H.scroll.lines(D,Math.max(B,1)),G=B;z.forEach(function(J){var Q=J.length();if(!(J instanceof x.default))J.format(K,X[K]);else{var ee=D-J.offset(H.scroll),le=J.newlineIndex(ee+G)-ee+1;J.formatAt(ee,le,K,X[K])}G-=Q})}}),this.scroll.optimize(),this.update(new u.default().retain(D).retain(B,(0,_.default)(X)))}},{key:"formatText",value:function(D,B){var H=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(X).forEach(function(K){H.scroll.formatAt(D,B,K,X[K])}),this.update(new u.default().retain(D).retain(B,(0,_.default)(X)))}},{key:"getContents",value:function(D,B){return this.delta.slice(D,D+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(D,B){return D.concat(B.delta())},new u.default)}},{key:"getFormat",value:function(D){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=[],X=[];B===0?this.scroll.path(D).forEach(function(z){var G=a(z,1),J=G[0];J instanceof S.default?H.push(J):J instanceof p.default.Leaf&&X.push(J)}):(H=this.scroll.lines(D,B),X=this.scroll.descendants(p.default.Leaf,D,B));var K=[H,X].map(function(z){if(z.length===0)return{};for(var G=(0,v.bubbleFormats)(z.shift());Object.keys(G).length>0;){var J=z.shift();if(J==null)return G;G=U((0,v.bubbleFormats)(J),G)}return G});return k.default.apply(k.default,K)}},{key:"getText",value:function(D,B){return this.getContents(D,B).filter(function(H){return typeof H.insert=="string"}).map(function(H){return H.insert}).join("")}},{key:"insertEmbed",value:function(D,B,H){return this.scroll.insertAt(D,B,H),this.update(new u.default().retain(D).insert(P({},B,H)))}},{key:"insertText",value:function(D,B){var H=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(D,B),Object.keys(X).forEach(function(K){H.scroll.formatAt(D,B.length,K,X[K])}),this.update(new u.default().retain(D).insert(B,(0,_.default)(X)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var D=this.scroll.children.head;return D.statics.blotName!==S.default.blotName||D.children.length>1?!1:D.children.head instanceof N.default}},{key:"removeFormat",value:function(D,B){var H=this.getText(D,B),X=this.scroll.line(D+B),K=a(X,2),z=K[0],G=K[1],J=0,Q=new u.default;z!=null&&(z instanceof x.default?J=z.newlineIndex(G)-G+1:J=z.length()-G,Q=z.delta().slice(G,G+J-1).insert(`
`));var ee=this.getContents(D,B+J),le=ee.diff(new u.default().insert(H).concat(Q)),ge=new u.default().retain(D).concat(le);return this.applyDelta(ge)}},{key:"update",value:function(D){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,X=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(M)&&p.default.find(B[0].target)){var K=p.default.find(B[0].target),z=(0,v.bubbleFormats)(K),G=K.offset(this.scroll),J=B[0].oldValue.replace(m.default.CONTENTS,""),Q=new u.default().insert(J),ee=new u.default().insert(K.value()),le=new u.default().retain(G).concat(Q.diff(ee,H));D=le.reduce(function(ge,ce){return ce.insert?ge.insert(ce.insert,z):ge.push(ce)},new u.default),this.delta=X.compose(D)}else this.delta=this.getDelta(),(!D||!(0,C.default)(X.compose(D),this.delta))&&(D=X.diff(this.delta,H));return D}}]),q}();function U(q,$){return Object.keys($).reduce(function(D,B){return q[B]==null||($[B]===q[B]?D[B]=$[B]:Array.isArray($[B])?$[B].indexOf(q[B])<0&&(D[B]=$[B].concat([q[B]])):D[B]=[$[B],q[B]]),D},{})}function W(q){return q.reduce(function($,D){if(D.insert===1){var B=(0,_.default)(D.attributes);return delete B.image,$.insert({image:D.attributes.image},B)}if(D.attributes!=null&&(D.attributes.list===!0||D.attributes.bullet===!0)&&(D=(0,_.default)(D),D.attributes.list?D.attributes.list="ordered":(D.attributes.list="bullet",delete D.attributes.bullet)),typeof D.insert=="string"){var H=D.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return $.insert(H,D.attributes)}return $.push(D)},new u.default)}r.default=V},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var i=function(){function A(C,j){var k=[],T=!0,P=!1,R=void 0;try{for(var M=C[Symbol.iterator](),V;!(T=(V=M.next()).done)&&(k.push(V.value),!(j&&k.length===j));T=!0);}catch(U){P=!0,R=U}finally{try{!T&&M.return&&M.return()}finally{if(P)throw R}}return k}return function(C,j){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return A(C,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function A(C,j){for(var k=0;k<j.length;k++){var T=j[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}}return function(C,j,k){return j&&A(C.prototype,j),k&&A(C,k),C}}(),l=s(0),c=m(l),u=s(21),d=m(u),h=s(11),f=m(h),p=s(8),y=m(p),x=s(10),b=m(x);function m(A){return A&&A.__esModule?A:{default:A}}function v(A){if(Array.isArray(A)){for(var C=0,j=Array(A.length);C<A.length;C++)j[C]=A[C];return j}else return Array.from(A)}function S(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}var w=(0,b.default)("quill:selection"),N=function A(C){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;S(this,A),this.index=C,this.length=j},E=function(){function A(C,j){var k=this;S(this,A),this.emitter=j,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(T,P){T===y.default.events.TEXT_CHANGE&&P.length()>0&&k.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var T=k.getNativeRange();T!=null&&T.start.node!==k.cursor.textNode&&k.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(T,P){if(P.range){var R=P.range,M=R.startNode,V=R.startOffset,U=R.endNode,W=R.endOffset;k.setNativeRange(M,V,U,W)}}),this.update(y.default.sources.SILENT)}return a(A,[{key:"handleComposition",value:function(){var j=this;this.root.addEventListener("compositionstart",function(){j.composing=!0}),this.root.addEventListener("compositionend",function(){if(j.composing=!1,j.cursor.parent){var k=j.cursor.restore();if(!k)return;setTimeout(function(){j.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var j=this;this.emitter.listenDOM("mousedown",document.body,function(){j.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){j.mouseDown=!1,j.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(j,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[j])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||c.default.query(j,c.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var P=c.default.find(T.start.node,!1);if(P==null)return;if(P instanceof c.default.Leaf){var R=P.split(T.start.offset);P.parent.insertBefore(this.cursor,R)}else P.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(j,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();j=Math.min(j,T-1),k=Math.min(j+k,T-1)-j;var P=void 0,R=this.scroll.leaf(j),M=i(R,2),V=M[0],U=M[1];if(V==null)return null;var W=V.position(U,!0),q=i(W,2);P=q[0],U=q[1];var $=document.createRange();if(k>0){$.setStart(P,U);var D=this.scroll.leaf(j+k),B=i(D,2);if(V=B[0],U=B[1],V==null)return null;var H=V.position(U,!0),X=i(H,2);return P=X[0],U=X[1],$.setEnd(P,U),$.getBoundingClientRect()}else{var K="left",z=void 0;return P instanceof Text?(U<P.data.length?($.setStart(P,U),$.setEnd(P,U+1)):($.setStart(P,U-1),$.setEnd(P,U),K="right"),z=$.getBoundingClientRect()):(z=V.domNode.getBoundingClientRect(),U>0&&(K="right")),{bottom:z.top+z.height,height:z.height,left:z[K],right:z[K],top:z.top,width:0}}}},{key:"getNativeRange",value:function(){var j=document.getSelection();if(j==null||j.rangeCount<=0)return null;var k=j.getRangeAt(0);if(k==null)return null;var T=this.normalizeNative(k);return w.info("getNativeRange",T),T}},{key:"getRange",value:function(){var j=this.getNativeRange();if(j==null)return[null,null];var k=this.normalizedToRange(j);return[k,j]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(j){var k=this,T=[[j.start.node,j.start.offset]];j.native.collapsed||T.push([j.end.node,j.end.offset]);var P=T.map(function(V){var U=i(V,2),W=U[0],q=U[1],$=c.default.find(W,!0),D=$.offset(k.scroll);return q===0?D:$ instanceof c.default.Container?D+$.length():D+$.index(W,q)}),R=Math.min(Math.max.apply(Math,v(P)),this.scroll.length()-1),M=Math.min.apply(Math,[R].concat(v(P)));return new N(M,R-M)}},{key:"normalizeNative",value:function(j){if(!_(this.root,j.startContainer)||!j.collapsed&&!_(this.root,j.endContainer))return null;var k={start:{node:j.startContainer,offset:j.startOffset},end:{node:j.endContainer,offset:j.endOffset},native:j};return[k.start,k.end].forEach(function(T){for(var P=T.node,R=T.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>R)P=P.childNodes[R],R=0;else if(P.childNodes.length===R)P=P.lastChild,R=P instanceof Text?P.data.length:P.childNodes.length+1;else break;T.node=P,T.offset=R}),k}},{key:"rangeToNative",value:function(j){var k=this,T=j.collapsed?[j.index]:[j.index,j.index+j.length],P=[],R=this.scroll.length();return T.forEach(function(M,V){M=Math.min(R-1,M);var U=void 0,W=k.scroll.leaf(M),q=i(W,2),$=q[0],D=q[1],B=$.position(D,V!==0),H=i(B,2);U=H[0],D=H[1],P.push(U,D)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(j){var k=this.lastRange;if(k!=null){var T=this.getBounds(k.index,k.length);if(T!=null){var P=this.scroll.length()-1,R=this.scroll.line(Math.min(k.index,P)),M=i(R,1),V=M[0],U=V;if(k.length>0){var W=this.scroll.line(Math.min(k.index+k.length,P)),q=i(W,1);U=q[0]}if(!(V==null||U==null)){var $=j.getBoundingClientRect();T.top<$.top?j.scrollTop-=$.top-T.top:T.bottom>$.bottom&&(j.scrollTop+=T.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(j,k){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",j,k,T,P),!(j!=null&&(this.root.parentNode==null||j.parentNode==null||T.parentNode==null))){var M=document.getSelection();if(M!=null)if(j!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||R||j!==V.startContainer||k!==V.startOffset||T!==V.endContainer||P!==V.endOffset){j.tagName=="BR"&&(k=[].indexOf.call(j.parentNode.childNodes,j),j=j.parentNode),T.tagName=="BR"&&(P=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var U=document.createRange();U.setStart(j,k),U.setEnd(T,P),M.removeAllRanges(),M.addRange(U)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof k=="string"&&(T=k,k=!1),w.info("setRange",j),j!=null){var P=this.rangeToNative(j);this.setNativeRange.apply(this,v(P).concat([k]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,k=this.lastRange,T=this.getRange(),P=i(T,2),R=P[0],M=P[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(k,this.lastRange)){var V;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var U=[y.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(k),j];if((V=this.emitter).emit.apply(V,[y.default.events.EDITOR_CHANGE].concat(U)),j!==y.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,U)}}}}]),A}();function _(A,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),A.contains(C)}r.Range=N,r.default=E},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function y(x,b){for(var m=0;m<b.length;m++){var v=b[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(x,v.key,v)}}return function(x,b,m){return b&&y(x.prototype,b),m&&y(x,m),x}}(),a=function y(x,b,m){x===null&&(x=Function.prototype);var v=Object.getOwnPropertyDescriptor(x,b);if(v===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,b,m)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(m)}},l=s(0),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function f(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var p=function(y){f(x,y);function x(){return d(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"insertInto",value:function(m,v){m.children.length===0?a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertInto",this).call(this,m,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),x}(c.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(t,r,s){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var y in p)p.hasOwnProperty(y)&&(f[y]=p[y])};return function(f,p){h(f,p);function y(){this.constructor=f}f.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=s(44),l=s(30),c=s(1),u=function(h){i(f,h);function f(p){var y=h.call(this,p)||this;return y.build(),y}return f.prototype.appendChild=function(p){this.insertBefore(p)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},f.prototype.build=function(){var p=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var x=d(y);p.insertBefore(x,p.children.head||void 0)}catch(b){if(b instanceof c.ParchmentError)return;throw b}})},f.prototype.deleteAt=function(p,y){if(p===0&&y===this.length())return this.remove();this.children.forEachAt(p,y,function(x,b,m){x.deleteAt(b,m)})},f.prototype.descendant=function(p,y){var x=this.children.find(y),b=x[0],m=x[1];return p.blotName==null&&p(b)||p.blotName!=null&&b instanceof p?[b,m]:b instanceof f?b.descendant(p,m):[null,-1]},f.prototype.descendants=function(p,y,x){y===void 0&&(y=0),x===void 0&&(x=Number.MAX_VALUE);var b=[],m=x;return this.children.forEachAt(y,x,function(v,S,w){(p.blotName==null&&p(v)||p.blotName!=null&&v instanceof p)&&b.push(v),v instanceof f&&(b=b.concat(v.descendants(p,S,m))),m-=w}),b},f.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(p,y,x,b){this.children.forEachAt(p,y,function(m,v,S){m.formatAt(v,S,x,b)})},f.prototype.insertAt=function(p,y,x){var b=this.children.find(p),m=b[0],v=b[1];if(m)m.insertAt(v,y,x);else{var S=x==null?c.create("text",y):c.create(y,x);this.appendChild(S)}},f.prototype.insertBefore=function(p,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(x){return p instanceof x}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,y)},f.prototype.length=function(){return this.children.reduce(function(p,y){return p+y.length()},0)},f.prototype.moveChildren=function(p,y){this.children.forEach(function(x){p.insertBefore(x,y)})},f.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var y=c.create(this.statics.defaultChild);this.appendChild(y),y.optimize(p)}else this.remove()},f.prototype.path=function(p,y){y===void 0&&(y=!1);var x=this.children.find(p,y),b=x[0],m=x[1],v=[[this,p]];return b instanceof f?v.concat(b.path(m,y)):(b!=null&&v.push([b,m]),v)},f.prototype.removeChild=function(p){this.children.remove(p)},f.prototype.replace=function(p){p instanceof f&&p.moveChildren(this),h.prototype.replace.call(this,p)},f.prototype.split=function(p,y){if(y===void 0&&(y=!1),!y){if(p===0)return this;if(p===this.length())return this.next}var x=this.clone();return this.parent.insertBefore(x,this.next),this.children.forEachAt(p,this.length(),function(b,m,v){b=b.split(m,y),x.appendChild(b)}),x},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(p,y){var x=this,b=[],m=[];p.forEach(function(v){v.target===x.domNode&&v.type==="childList"&&(b.push.apply(b,v.addedNodes),m.push.apply(m,v.removedNodes))}),m.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var S=c.find(v);S!=null&&(S.domNode.parentNode==null||S.domNode.parentNode===x.domNode)&&S.detach()}}),b.filter(function(v){return v.parentNode==x.domNode}).sort(function(v,S){return v===S?0:v.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var S=null;v.nextSibling!=null&&(S=c.find(v.nextSibling));var w=d(v);(w.next!=S||w.next==null)&&(w.parent!=null&&w.parent.removeChild(x),x.insertBefore(w,S||void 0))})},f}(l.default);function d(h){var f=c.find(h);if(f==null)try{f=c.create(h)}catch{f=c.create(c.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(y){f.domNode.appendChild(y)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}r.default=u},function(t,r,s){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var y in p)p.hasOwnProperty(y)&&(f[y]=p[y])};return function(f,p){h(f,p);function y(){this.constructor=f}f.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=s(12),l=s(31),c=s(17),u=s(1),d=function(h){i(f,h);function f(p){var y=h.call(this,p)||this;return y.attributes=new l.default(y.domNode),y}return f.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},f.prototype.format=function(p,y){var x=u.query(p);x instanceof a.default?this.attributes.attribute(x,y):y&&x!=null&&(p!==this.statics.blotName||this.formats()[p]!==y)&&this.replaceWith(p,y)},f.prototype.formats=function(){var p=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(p[this.statics.blotName]=y),p},f.prototype.replaceWith=function(p,y){var x=h.prototype.replaceWith.call(this,p,y);return this.attributes.copy(x),x},f.prototype.update=function(p,y){var x=this;h.prototype.update.call(this,p,y),p.some(function(b){return b.target===x.domNode&&b.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(p,y){var x=h.prototype.wrap.call(this,p,y);return x instanceof f&&x.statics.scope===this.statics.scope&&this.attributes.move(x),x},f}(c.default);r.default=d},function(t,r,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=s(30),l=s(1),c=function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(h){return!0},d.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},d.prototype.position=function(h,f){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},d.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},d.scope=l.Scope.INLINE_BLOT,d}(a.default);r.default=c},function(t,r,s){var i=s(11),a=s(3),l={attributes:{compose:function(u,d,h){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var f=a(!0,{},d);h||(f=Object.keys(f).reduce(function(y,x){return f[x]!=null&&(y[x]=f[x]),y},{}));for(var p in u)u[p]!==void 0&&d[p]===void 0&&(f[p]=u[p]);return Object.keys(f).length>0?f:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=Object.keys(u).concat(Object.keys(d)).reduce(function(f,p){return i(u[p],d[p])||(f[p]=d[p]===void 0?null:d[p]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(u,d,h){if(typeof u!="object")return d;if(typeof d=="object"){if(!h)return d;var f=Object.keys(d).reduce(function(p,y){return u[y]===void 0&&(p[y]=d[y]),p},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var h=this.offset,f=l.length(d);if(u>=f-h?(u=f-h,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var p={};return d.attributes&&(p.attributes=d.attributes),typeof d.retain=="number"?p.retain=u:typeof d.insert=="string"?p.insert=d.insert.substr(h,u):p.insert=d.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=d,[h].concat(f)}else return[]},t.exports=l},function(t,r){var s=function(){function i(x,b){return b!=null&&x instanceof b}var a;try{a=Map}catch{a=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(x,b,m,v,S){typeof b=="object"&&(m=b.depth,v=b.prototype,S=b.includeNonEnumerable,b=b.circular);var w=[],N=[],E=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof m>"u"&&(m=1/0);function _(A,C){if(A===null)return null;if(C===0)return A;var j,k;if(typeof A!="object")return A;if(i(A,a))j=new a;else if(i(A,l))j=new l;else if(i(A,c))j=new c(function($,D){A.then(function(B){$(_(B,C-1))},function(B){D(_(B,C-1))})});else if(u.__isArray(A))j=[];else if(u.__isRegExp(A))j=new RegExp(A.source,y(A)),A.lastIndex&&(j.lastIndex=A.lastIndex);else if(u.__isDate(A))j=new Date(A.getTime());else{if(E&&Buffer.isBuffer(A))return Buffer.allocUnsafe?j=Buffer.allocUnsafe(A.length):j=new Buffer(A.length),A.copy(j),j;i(A,Error)?j=Object.create(A):typeof v>"u"?(k=Object.getPrototypeOf(A),j=Object.create(k)):(j=Object.create(v),k=v)}if(b){var T=w.indexOf(A);if(T!=-1)return N[T];w.push(A),N.push(j)}i(A,a)&&A.forEach(function($,D){var B=_(D,C-1),H=_($,C-1);j.set(B,H)}),i(A,l)&&A.forEach(function($){var D=_($,C-1);j.add(D)});for(var P in A){var R;k&&(R=Object.getOwnPropertyDescriptor(k,P)),!(R&&R.set==null)&&(j[P]=_(A[P],C-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(A),P=0;P<M.length;P++){var V=M[P],U=Object.getOwnPropertyDescriptor(A,V);U&&!U.enumerable&&!S||(j[V]=_(A[V],C-1),U.enumerable||Object.defineProperty(j,V,{enumerable:!1}))}if(S)for(var W=Object.getOwnPropertyNames(A),P=0;P<W.length;P++){var q=W[P],U=Object.getOwnPropertyDescriptor(A,q);U&&U.enumerable||(j[q]=_(A[q],C-1),Object.defineProperty(j,q,{enumerable:!1}))}return j}return _(x,m)}u.clonePrototype=function(b){if(b===null)return null;var m=function(){};return m.prototype=b,new m};function d(x){return Object.prototype.toString.call(x)}u.__objToStr=d;function h(x){return typeof x=="object"&&d(x)==="[object Date]"}u.__isDate=h;function f(x){return typeof x=="object"&&d(x)==="[object Array]"}u.__isArray=f;function p(x){return typeof x=="object"&&d(x)==="[object RegExp]"}u.__isRegExp=p;function y(x){var b="";return x.global&&(b+="g"),x.ignoreCase&&(b+="i"),x.multiline&&(b+="m"),b}return u.__getRegExpFlags=y,u}();typeof t=="object"&&t.exports&&(t.exports=s)},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function j(k,T){var P=[],R=!0,M=!1,V=void 0;try{for(var U=k[Symbol.iterator](),W;!(R=(W=U.next()).done)&&(P.push(W.value),!(T&&P.length===T));R=!0);}catch(q){M=!0,V=q}finally{try{!R&&U.return&&U.return()}finally{if(M)throw V}}return P}return function(k,T){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return j(k,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(k,T){for(var P=0;P<T.length;P++){var R=T[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}return function(k,T,P){return T&&j(k.prototype,T),P&&j(k,P),k}}(),l=function j(k,T,P){k===null&&(k=Function.prototype);var R=Object.getOwnPropertyDescriptor(k,T);if(R===void 0){var M=Object.getPrototypeOf(k);return M===null?void 0:j(M,T,P)}else{if("value"in R)return R.value;var V=R.get;return V===void 0?void 0:V.call(P)}},c=s(0),u=w(c),d=s(8),h=w(d),f=s(4),p=w(f),y=s(16),x=w(y),b=s(13),m=w(b),v=s(25),S=w(v);function w(j){return j&&j.__esModule?j:{default:j}}function N(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function E(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function _(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}function A(j){return j instanceof p.default||j instanceof f.BlockEmbed}var C=function(j){_(k,j);function k(T,P){N(this,k);var R=E(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T));return R.emitter=P.emitter,Array.isArray(P.whitelist)&&(R.whitelist=P.whitelist.reduce(function(M,V){return M[V]=!0,M},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return a(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,R){var M=this.line(P),V=i(M,2),U=V[0],W=V[1],q=this.line(P+R),$=i(q,1),D=$[0];if(l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,P,R),D!=null&&U!==D&&W>0){if(U instanceof f.BlockEmbed||D instanceof f.BlockEmbed){this.optimize();return}if(U instanceof m.default){var B=U.newlineIndex(U.length(),!0);if(B>-1&&(U=U.split(B+1),U===D)){this.optimize();return}}else if(D instanceof m.default){var H=D.newlineIndex(0);H>-1&&D.split(H+1)}var X=D.children.head instanceof x.default?null:D.children.head;U.moveChildren(D,X),U.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,R,M,V){this.whitelist!=null&&!this.whitelist[M]||(l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,P,R,M,V),this.optimize())}},{key:"insertAt",value:function(P,R,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[R])){if(P>=this.length())if(M==null||u.default.query(R,u.default.Scope.BLOCK)==null){var V=u.default.create(this.statics.defaultChild);this.appendChild(V),M==null&&R.endsWith(`
`)&&(R=R.slice(0,-1)),V.insertAt(0,R,M)}else{var U=u.default.create(R,M);this.appendChild(U)}else l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,P,R,M);this.optimize()}}},{key:"insertBefore",value:function(P,R){if(P.statics.scope===u.default.Scope.INLINE_BLOT){var M=u.default.create(this.statics.defaultChild);M.appendChild(P),P=M}l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,P,R)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(A,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function V(U,W,q){var $=[],D=q;return U.children.forEachAt(W,q,function(B,H,X){A(B)?$.push(B):B instanceof u.default.Container&&($=$.concat(V(B,H,D))),D-=X}),$};return M(this,P,R)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,P,R),P.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,P,R))}},{key:"path",value:function(P){return l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var R=h.default.sources.USER;typeof P=="string"&&(R=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,R,P),l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,R,P)}}}]),k}(u.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[p.default,f.BlockEmbed,S.default],r.default=C},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=function(){function z(G,J){var Q=[],ee=!0,le=!1,ge=void 0;try{for(var ce=G[Symbol.iterator](),fe;!(ee=(fe=ce.next()).done)&&(Q.push(fe.value),!(J&&Q.length===J));ee=!0);}catch(ve){le=!0,ge=ve}finally{try{!ee&&ce.return&&ce.return()}finally{if(le)throw ge}}return Q}return function(G,J){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return z(G,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function z(G,J){for(var Q=0;Q<J.length;Q++){var ee=J[Q];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(G,ee.key,ee)}}return function(G,J,Q){return J&&z(G.prototype,J),Q&&z(G,Q),G}}(),c=s(21),u=j(c),d=s(11),h=j(d),f=s(3),p=j(f),y=s(2),x=j(y),b=s(20),m=j(b),v=s(0),S=j(v),w=s(5),N=j(w),E=s(10),_=j(E),A=s(9),C=j(A);function j(z){return z&&z.__esModule?z:{default:z}}function k(z,G,J){return G in z?Object.defineProperty(z,G,{value:J,enumerable:!0,configurable:!0,writable:!0}):z[G]=J,z}function T(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")}function P(z,G){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:z}function R(z,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);z.prototype=Object.create(G&&G.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(z,G):z.__proto__=G)}var M=(0,_.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",U=function(z){R(G,z),l(G,null,[{key:"match",value:function(Q,ee){return ee=K(ee),["altKey","ctrlKey","metaKey","shiftKey"].some(function(le){return!!ee[le]!==Q[le]&&ee[le]!==null})?!1:ee.key===(Q.which||Q.keyCode)}}]);function G(J,Q){T(this,G);var ee=P(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,J,Q));return ee.bindings={},Object.keys(ee.options.bindings).forEach(function(le){le==="list autofill"&&J.scroll.whitelist!=null&&!J.scroll.whitelist.list||ee.options.bindings[le]&&ee.addBinding(ee.options.bindings[le])}),ee.addBinding({key:G.keys.ENTER,shiftKey:null},B),ee.addBinding({key:G.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ee.addBinding({key:G.keys.BACKSPACE},{collapsed:!0},q),ee.addBinding({key:G.keys.DELETE},{collapsed:!0},$)):(ee.addBinding({key:G.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),ee.addBinding({key:G.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),ee.addBinding({key:G.keys.BACKSPACE},{collapsed:!1},D),ee.addBinding({key:G.keys.DELETE},{collapsed:!1},D),ee.addBinding({key:G.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),ee.listen(),ee}return l(G,[{key:"addBinding",value:function(Q){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=K(Q);if(ge==null||ge.key==null)return M.warn("Attempted to add invalid keyboard binding",ge);typeof ee=="function"&&(ee={handler:ee}),typeof le=="function"&&(le={handler:le}),ge=(0,p.default)(ge,ee,le),this.bindings[ge.key]=this.bindings[ge.key]||[],this.bindings[ge.key].push(ge)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(ee){if(!ee.defaultPrevented){var le=ee.which||ee.keyCode,ge=(Q.bindings[le]||[]).filter(function(et){return G.match(ee,et)});if(ge.length!==0){var ce=Q.quill.getSelection();if(!(ce==null||!Q.quill.hasFocus())){var fe=Q.quill.getLine(ce.index),ve=a(fe,2),Oe=ve[0],qe=ve[1],te=Q.quill.getLeaf(ce.index),ne=a(te,2),ie=ne[0],oe=ne[1],re=ce.length===0?[ie,oe]:Q.quill.getLeaf(ce.index+ce.length),Ne=a(re,2),Ae=Ne[0],je=Ne[1],Nn=ie instanceof S.default.Text?ie.value().slice(0,oe):"",Qt=Ae instanceof S.default.Text?Ae.value().slice(je):"",ze={collapsed:ce.length===0,empty:ce.length===0&&Oe.length()<=1,format:Q.quill.getFormat(ce),offset:qe,prefix:Nn,suffix:Qt},ql=ge.some(function(et){if(et.collapsed!=null&&et.collapsed!==ze.collapsed||et.empty!=null&&et.empty!==ze.empty||et.offset!=null&&et.offset!==ze.offset)return!1;if(Array.isArray(et.format)){if(et.format.every(function(Ei){return ze.format[Ei]==null}))return!1}else if(i(et.format)==="object"&&!Object.keys(et.format).every(function(Ei){return et.format[Ei]===!0?ze.format[Ei]!=null:et.format[Ei]===!1?ze.format[Ei]==null:(0,h.default)(et.format[Ei],ze.format[Ei])}))return!1;return et.prefix!=null&&!et.prefix.test(ze.prefix)||et.suffix!=null&&!et.suffix.test(ze.suffix)?!1:et.handler.call(Q,ce,ze)!==!0});ql&&ee.preventDefault()}}}})}}]),G}(C.default);U.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},U.DEFAULTS={bindings:{bold:X("bold"),italic:X("italic"),underline:X("underline"),indent:{key:U.keys.TAB,format:["blockquote","indent","list"],handler:function(G,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:U.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(G,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:U.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(G,J){J.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):J.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":H(!0),"outdent code-block":H(!1),"remove tab":{key:U.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(G){this.quill.deleteText(G.index-1,1,N.default.sources.USER)}},tab:{key:U.keys.TAB,handler:function(G){this.quill.history.cutoff();var J=new x.default().retain(G.index).delete(G.length).insert("	");this.quill.updateContents(J,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,N.default.sources.SILENT)}},"list empty enter":{key:U.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(G,J){this.quill.format("list",!1,N.default.sources.USER),J.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:U.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(G){var J=this.quill.getLine(G.index),Q=a(J,2),ee=Q[0],le=Q[1],ge=(0,p.default)({},ee.formats(),{list:"checked"}),ce=new x.default().retain(G.index).insert(`
`,ge).retain(ee.length()-le-1).retain(1,{list:"unchecked"});this.quill.updateContents(ce,N.default.sources.USER),this.quill.setSelection(G.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:U.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(G,J){var Q=this.quill.getLine(G.index),ee=a(Q,2),le=ee[0],ge=ee[1],ce=new x.default().retain(G.index).insert(`
`,J.format).retain(le.length()-ge-1).retain(1,{header:null});this.quill.updateContents(ce,N.default.sources.USER),this.quill.setSelection(G.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(G,J){var Q=J.prefix.length,ee=this.quill.getLine(G.index),le=a(ee,2),ge=le[0],ce=le[1];if(ce>Q)return!0;var fe=void 0;switch(J.prefix.trim()){case"[]":case"[ ]":fe="unchecked";break;case"[x]":fe="checked";break;case"-":case"*":fe="bullet";break;default:fe="ordered"}this.quill.insertText(G.index," ",N.default.sources.USER),this.quill.history.cutoff();var ve=new x.default().retain(G.index-ce).delete(Q+1).retain(ge.length()-2-ce).retain(1,{list:fe});this.quill.updateContents(ve,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-Q,N.default.sources.SILENT)}},"code exit":{key:U.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(G){var J=this.quill.getLine(G.index),Q=a(J,2),ee=Q[0],le=Q[1],ge=new x.default().retain(G.index+ee.length()-le-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ge,N.default.sources.USER)}},"embed left":W(U.keys.LEFT,!1),"embed left shift":W(U.keys.LEFT,!0),"embed right":W(U.keys.RIGHT,!1),"embed right shift":W(U.keys.RIGHT,!0)}};function W(z,G){var J,Q=z===U.keys.LEFT?"prefix":"suffix";return J={key:z,shiftKey:G,altKey:null},k(J,Q,/^$/),k(J,"handler",function(le){var ge=le.index;z===U.keys.RIGHT&&(ge+=le.length+1);var ce=this.quill.getLeaf(ge),fe=a(ce,1),ve=fe[0];return ve instanceof S.default.Embed?(z===U.keys.LEFT?G?this.quill.setSelection(le.index-1,le.length+1,N.default.sources.USER):this.quill.setSelection(le.index-1,N.default.sources.USER):G?this.quill.setSelection(le.index,le.length+1,N.default.sources.USER):this.quill.setSelection(le.index+le.length+1,N.default.sources.USER),!1):!0}),J}function q(z,G){if(!(z.index===0||this.quill.getLength()<=1)){var J=this.quill.getLine(z.index),Q=a(J,1),ee=Q[0],le={};if(G.offset===0){var ge=this.quill.getLine(z.index-1),ce=a(ge,1),fe=ce[0];if(fe!=null&&fe.length()>1){var ve=ee.formats(),Oe=this.quill.getFormat(z.index-1,1);le=m.default.attributes.diff(ve,Oe)||{}}}var qe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(G.prefix)?2:1;this.quill.deleteText(z.index-qe,qe,N.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine(z.index-qe,qe,le,N.default.sources.USER),this.quill.focus()}}function $(z,G){var J=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(G.suffix)?2:1;if(!(z.index>=this.quill.getLength()-J)){var Q={},ee=0,le=this.quill.getLine(z.index),ge=a(le,1),ce=ge[0];if(G.offset>=ce.length()-1){var fe=this.quill.getLine(z.index+1),ve=a(fe,1),Oe=ve[0];if(Oe){var qe=ce.formats(),te=this.quill.getFormat(z.index,1);Q=m.default.attributes.diff(qe,te)||{},ee=Oe.length()}}this.quill.deleteText(z.index,J,N.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(z.index+ee-1,J,Q,N.default.sources.USER)}}function D(z){var G=this.quill.getLines(z),J={};if(G.length>1){var Q=G[0].formats(),ee=G[G.length-1].formats();J=m.default.attributes.diff(ee,Q)||{}}this.quill.deleteText(z,N.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(z.index,1,J,N.default.sources.USER),this.quill.setSelection(z.index,N.default.sources.SILENT),this.quill.focus()}function B(z,G){var J=this;z.length>0&&this.quill.scroll.deleteAt(z.index,z.length);var Q=Object.keys(G.format).reduce(function(ee,le){return S.default.query(le,S.default.Scope.BLOCK)&&!Array.isArray(G.format[le])&&(ee[le]=G.format[le]),ee},{});this.quill.insertText(z.index,`
`,Q,N.default.sources.USER),this.quill.setSelection(z.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(ee){Q[ee]==null&&(Array.isArray(G.format[ee])||ee!=="link"&&J.quill.format(ee,G.format[ee],N.default.sources.USER))})}function H(z){return{key:U.keys.TAB,shiftKey:!z,format:{"code-block":!0},handler:function(J){var Q=S.default.query("code-block"),ee=J.index,le=J.length,ge=this.quill.scroll.descendant(Q,ee),ce=a(ge,2),fe=ce[0],ve=ce[1];if(fe!=null){var Oe=this.quill.getIndex(fe),qe=fe.newlineIndex(ve,!0)+1,te=fe.newlineIndex(Oe+ve+le),ne=fe.domNode.textContent.slice(qe,te).split(`
`);ve=0,ne.forEach(function(ie,oe){z?(fe.insertAt(qe+ve,Q.TAB),ve+=Q.TAB.length,oe===0?ee+=Q.TAB.length:le+=Q.TAB.length):ie.startsWith(Q.TAB)&&(fe.deleteAt(qe+ve,Q.TAB.length),ve-=Q.TAB.length,oe===0?ee-=Q.TAB.length:le-=Q.TAB.length),ve+=ie.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(ee,le,N.default.sources.SILENT)}}}}function X(z){return{key:z[0].toUpperCase(),shortKey:!0,handler:function(J,Q){this.quill.format(z,!Q.format[z],N.default.sources.USER)}}}function K(z){if(typeof z=="string"||typeof z=="number")return K({key:z});if((typeof z>"u"?"undefined":i(z))==="object"&&(z=(0,u.default)(z,!1)),typeof z.key=="string")if(U.keys[z.key.toUpperCase()]!=null)z.key=U.keys[z.key.toUpperCase()];else if(z.key.length===1)z.key=z.key.toUpperCase().charCodeAt(0);else return null;return z.shortKey&&(z[V]=z.shortKey,delete z.shortKey),z}r.default=U,r.SHORTKEY=V},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(v,S){var w=[],N=!0,E=!1,_=void 0;try{for(var A=v[Symbol.iterator](),C;!(N=(C=A.next()).done)&&(w.push(C.value),!(S&&w.length===S));N=!0);}catch(j){E=!0,_=j}finally{try{!N&&A.return&&A.return()}finally{if(E)throw _}}return w}return function(v,S){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return m(v,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function m(v,S,w){v===null&&(v=Function.prototype);var N=Object.getOwnPropertyDescriptor(v,S);if(N===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:m(E,S,w)}else{if("value"in N)return N.value;var _=N.get;return _===void 0?void 0:_.call(w)}},l=function(){function m(v,S){for(var w=0;w<S.length;w++){var N=S[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(v,N.key,N)}}return function(v,S,w){return S&&m(v.prototype,S),w&&m(v,w),v}}(),c=s(0),u=f(c),d=s(7),h=f(d);function f(m){return m&&m.__esModule?m:{default:m}}function p(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function y(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function x(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var b=function(m){x(v,m),l(v,null,[{key:"value",value:function(){}}]);function v(S,w){p(this,v);var N=y(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,S));return N.selection=w,N.textNode=document.createTextNode(v.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return l(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,N){if(this._length!==0)return a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,N);for(var E=this,_=0;E!=null&&E.statics.scope!==u.default.Scope.BLOCK_BLOT;)_+=E.offset(E.parent),E=E.parent;E!=null&&(this._length=v.CONTENTS.length,E.optimize(),E.formatAt(_,v.CONTENTS.length,w,N),this._length=0)}},{key:"index",value:function(w,N){return w===this.textNode?0:a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,w,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,N=this.selection.getNativeRange(),E=void 0,_=void 0,A=void 0;if(N!=null&&N.start.node===w&&N.end.node===w){var C=[w,N.start.offset,N.end.offset];E=C[0],_=C[1],A=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var j=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof h.default?(E=this.next.domNode,this.next.insertAt(0,j),this.textNode.data=v.CONTENTS):(this.textNode.data=j,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),_!=null){var k=[_,A].map(function(P){return Math.max(0,Math.min(E.data.length,P-1))}),T=i(k,2);return _=T[0],A=T[1],{startNode:E,startOffset:_,endNode:E,endOffset:A}}}}},{key:"update",value:function(w,N){var E=this;if(w.some(function(A){return A.type==="characterData"&&A.target===E.textNode})){var _=this.restore();_&&(N.range=_)}}},{key:"value",value:function(){return""}}]),v}(u.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",r.default=b},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),a=u(i),l=s(4),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function f(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var p=function(y){f(x,y);function x(){return d(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return x}(a.default.Container);p.allowedChildren=[c.default,l.BlockEmbed,p],r.default=p},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var i=function(){function b(m,v){for(var S=0;S<v.length;S++){var w=v[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,v,S){return v&&b(m.prototype,v),S&&b(m,S),m}}(),a=function b(m,v,S){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,v);if(w===void 0){var N=Object.getPrototypeOf(m);return N===null?void 0:b(N,v,S)}else{if("value"in w)return w.value;var E=w.get;return E===void 0?void 0:E.call(S)}},l=s(0),c=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function d(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function h(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function f(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var p=function(b){f(m,b);function m(){return d(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"value",value:function(S){var w=a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,S);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):w}}]),m}(c.default.Attributor.Style),y=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),x=new p("color","color",{scope:c.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=y,r.ColorStyle=x},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var i=function(){function x(b,m){for(var v=0;v<m.length;v++){var S=m[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,m,v){return m&&x(b.prototype,m),v&&x(b,v),b}}(),a=function x(b,m,v){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,m);if(S===void 0){var w=Object.getPrototypeOf(b);return w===null?void 0:x(w,m,v)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(v)}},l=s(6),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function d(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function h(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function f(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var p=function(x){f(b,x);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"format",value:function(v,S){if(v!==this.statics.blotName||!S)return a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,v,S);S=this.constructor.sanitize(S),this.domNode.setAttribute("href",S)}}],[{key:"create",value:function(v){var S=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,v);return v=this.sanitize(v),S.setAttribute("href",v),S.setAttribute("rel","noopener noreferrer"),S.setAttribute("target","_blank"),S}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return y(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),b}(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(x,b){var m=document.createElement("a");m.href=x;var v=m.href.slice(0,m.href.indexOf(":"));return b.indexOf(v)>-1}r.default=p,r.sanitize=y},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},a=function(){function b(m,v){for(var S=0;S<v.length;S++){var w=v[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,v,S){return v&&b(m.prototype,v),S&&b(m,S),m}}(),l=s(23),c=h(l),u=s(107),d=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}var p=0;function y(b,m){b.setAttribute(m,b.getAttribute(m)!=="true")}var x=function(){function b(m){var v=this;f(this,b),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(S){switch(S.keyCode){case c.default.keys.ENTER:v.togglePicker();break;case c.default.keys.ESCAPE:v.escape(),S.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var S=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),v.hasAttribute("value")&&w.setAttribute("data-value",v.getAttribute("value")),v.textContent&&w.setAttribute("data-label",v.textContent),w.addEventListener("click",function(){S.selectItem(w,!0)}),w.addEventListener("keydown",function(N){switch(N.keyCode){case c.default.keys.ENTER:S.selectItem(w,!0),N.preventDefault();break;case c.default.keys.ESCAPE:S.escape(),N.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=d.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,S=document.createElement("span");S.classList.add("ql-picker-options"),S.setAttribute("aria-hidden","true"),S.tabIndex="-1",S.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",S.id),this.options=S,[].slice.call(this.select.options).forEach(function(w){var N=v.buildItem(w);S.appendChild(N),w.selected===!0&&v.selectItem(N)}),this.container.appendChild(S)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(S){v.container.setAttribute(S.name,S.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(v!==w&&(w!=null&&w.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),S))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var S=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(S)}else this.selectItem(null);var w=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),b}();r.default=x},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),a=M(i),l=s(5),c=M(l),u=s(4),d=M(u),h=s(16),f=M(h),p=s(25),y=M(p),x=s(24),b=M(x),m=s(35),v=M(m),S=s(6),w=M(S),N=s(22),E=M(N),_=s(7),A=M(_),C=s(55),j=M(C),k=s(42),T=M(k),P=s(23),R=M(P);function M(V){return V&&V.__esModule?V:{default:V}}c.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":y.default,"blots/cursor":b.default,"blots/embed":v.default,"blots/inline":w.default,"blots/scroll":E.default,"blots/text":A.default,"modules/clipboard":j.default,"modules/history":T.default,"modules/keyboard":R.default}),a.default.register(d.default,f.default,b.default,w.default,E.default,A.default),r.default=c.default},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),a=function(){function l(c){this.domNode=c,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return i.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},l.prototype.deleteAt=function(c,u){var d=this.isolate(c,u);d.remove()},l.prototype.formatAt=function(c,u,d,h){var f=this.isolate(c,u);if(i.query(d,i.Scope.BLOT)!=null&&h)f.wrap(d,h);else if(i.query(d,i.Scope.ATTRIBUTE)!=null){var p=i.create(this.statics.scope);f.wrap(p),p.format(d,h)}},l.prototype.insertAt=function(c,u,d){var h=d==null?i.create("text",u):i.create(u,d),f=this.split(c);this.parent.insertBefore(h,f)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;c.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=d)&&c.domNode.insertBefore(this.domNode,d),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var d=this.split(c);return d.split(u),d},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var d=typeof c=="string"?i.create(c,u):c;return d.replace(this),d},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var d=typeof c=="string"?i.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},l.blotName="abstract",l}();r.default=a},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(12),a=s(32),l=s(33),c=s(1),u=function(){function d(h){this.attributes={},this.domNode=h,this.build()}return d.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},d.prototype.build=function(){var h=this;this.attributes={};var f=i.default.keys(this.domNode),p=a.default.keys(this.domNode),y=l.default.keys(this.domNode);f.concat(p).concat(y).forEach(function(x){var b=c.query(x,c.Scope.ATTRIBUTE);b instanceof i.default&&(h.attributes[b.attrName]=b)})},d.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(p){var y=f.attributes[p].value(f.domNode);h.format(p,y)})},d.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){f.attributes[p].remove(f.domNode)}),this.attributes={}},d.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,p){return f[p]=h.attributes[p].value(h.domNode),f},{})},d}();r.default=u},function(t,r,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=s(12);function l(u,d){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(d+"-")===0})}var c=function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},d.prototype.remove=function(h){var f=l(h,this.keyName);f.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},d.prototype.value=function(h){var f=l(h,this.keyName)[0]||"",p=f.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},d}(a.default);r.default=c},function(t,r,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=s(12);function l(u){var d=u.split("-"),h=d.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return d[0]+h}var c=function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var p=f.split(":");return p[0].trim()})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[l(this.keyName)]=f,!0):!1},d.prototype.remove=function(h){h.style[l(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},d.prototype.value=function(h){var f=h.style[l(this.keyName)];return this.canAdd(h,f)?f:""},d}(a.default);r.default=c},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function c(u,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,h){return d&&c(u.prototype,d),h&&c(u,h),u}}();function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,d){a(this,c),this.quill=u,this.options=d,this.modules={}}return i(c,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(h){d.modules[h]==null&&d.addModule(h)})}},{key:"addModule",value:function(d){var h=this.quill.constructor.import("modules/"+d);return this.modules[d]=new h(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},r.default=l},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(v,S){for(var w=0;w<S.length;w++){var N=S[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(v,N.key,N)}}return function(v,S,w){return S&&m(v.prototype,S),w&&m(v,w),v}}(),a=function m(v,S,w){v===null&&(v=Function.prototype);var N=Object.getOwnPropertyDescriptor(v,S);if(N===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:m(E,S,w)}else{if("value"in N)return N.value;var _=N.get;return _===void 0?void 0:_.call(w)}},l=s(0),c=h(l),u=s(7),d=h(u);function h(m){return m&&m.__esModule?m:{default:m}}function f(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function p(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function y(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var x="\uFEFF",b=function(m){y(v,m);function v(S){f(this,v);var w=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,S));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(N){w.contentNode.appendChild(N)}),w.leftGuard=document.createTextNode(x),w.rightGuard=document.createTextNode(x),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return i(v,[{key:"index",value:function(w,N){return w===this.leftGuard?0:w===this.rightGuard?1:a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,w,N)}},{key:"restore",value:function(w){var N=void 0,E=void 0,_=w.data.split(x).join("");if(w===this.leftGuard)if(this.prev instanceof d.default){var A=this.prev.length();this.prev.insertAt(A,_),N={startNode:this.prev.domNode,startOffset:A+_.length}}else E=document.createTextNode(_),this.parent.insertBefore(c.default.create(E),this),N={startNode:E,startOffset:_.length};else w===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,_),N={startNode:this.next.domNode,startOffset:_.length}):(E=document.createTextNode(_),this.parent.insertBefore(c.default.create(E),this.next),N={startNode:E,startOffset:_.length}));return w.data=x,N}},{key:"update",value:function(w,N){var E=this;w.forEach(function(_){if(_.type==="characterData"&&(_.target===E.leftGuard||_.target===E.rightGuard)){var A=E.restore(_.target);A&&(N.range=A)}})}}]),v}(c.default.Embed);r.default=b},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var i=s(0),a=l(i);function l(f){return f&&f.__esModule?f:{default:f}}var c={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new a.default.Attributor.Attribute("align","align",c),d=new a.default.Attributor.Class("align","ql-align",c),h=new a.default.Attributor.Style("align","text-align",c);r.AlignAttribute=u,r.AlignClass=d,r.AlignStyle=h},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var i=s(0),a=c(i),l=s(26);function c(h){return h&&h.__esModule?h:{default:h}}var u=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),d=new l.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=d},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var i=s(0),a=l(i);function l(f){return f&&f.__esModule?f:{default:f}}var c={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},u=new a.default.Attributor.Attribute("direction","dir",c),d=new a.default.Attributor.Class("direction","ql-direction",c),h=new a.default.Attributor.Style("direction","direction",c);r.DirectionAttribute=u,r.DirectionClass=d,r.DirectionStyle=h},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var i=function(){function m(v,S){for(var w=0;w<S.length;w++){var N=S[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(v,N.key,N)}}return function(v,S,w){return S&&m(v.prototype,S),w&&m(v,w),v}}(),a=function m(v,S,w){v===null&&(v=Function.prototype);var N=Object.getOwnPropertyDescriptor(v,S);if(N===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:m(E,S,w)}else{if("value"in N)return N.value;var _=N.get;return _===void 0?void 0:_.call(w)}},l=s(0),c=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function h(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function f(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new c.default.Attributor.Class("font","ql-font",p),x=function(m){f(v,m);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"value",value:function(w){return a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),v}(c.default.Attributor.Style),b=new x("font","font-family",p);r.FontStyle=b,r.FontClass=y},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var i=s(0),a=l(i);function l(d){return d&&d.__esModule?d:{default:d}}var c=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=c,r.SizeStyle=u},function(t,r,s){t.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var i=function(){function S(w,N){for(var E=0;E<N.length;E++){var _=N[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,N,E){return N&&S(w.prototype,N),E&&S(w,E),w}}(),a=s(0),l=f(a),c=s(5),u=f(c),d=s(9),h=f(d);function f(S){return S&&S.__esModule?S:{default:S}}function p(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function y(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function x(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var b=function(S){x(w,S);function w(N,E){p(this,w);var _=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,N,E));return _.lastRecorded=0,_.ignoreChange=!1,_.clear(),_.quill.on(u.default.events.EDITOR_CHANGE,function(A,C,j,k){A!==u.default.events.TEXT_CHANGE||_.ignoreChange||(!_.options.userOnly||k===u.default.sources.USER?_.record(C,j):_.transform(C))}),_.quill.keyboard.addBinding({key:"Z",shortKey:!0},_.undo.bind(_)),_.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_.redo.bind(_)),/Win/i.test(navigator.platform)&&_.quill.keyboard.addBinding({key:"Y",shortKey:!0},_.redo.bind(_)),_}return i(w,[{key:"change",value:function(E,_){if(this.stack[E].length!==0){var A=this.stack[E].pop();this.stack[_].push(A),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(A[E],u.default.sources.USER),this.ignoreChange=!1;var C=v(A[E]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(E,_){if(E.ops.length!==0){this.stack.redo=[];var A=this.quill.getContents().diff(_),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var j=this.stack.undo.pop();A=A.compose(j.undo),E=j.redo.compose(E)}else this.lastRecorded=C;this.stack.undo.push({redo:E,undo:A}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(E){this.stack.undo.forEach(function(_){_.undo=E.transform(_.undo,!0),_.redo=E.transform(_.redo,!0)}),this.stack.redo.forEach(function(_){_.undo=E.transform(_.undo,!0),_.redo=E.transform(_.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(h.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(S){var w=S.ops[S.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(N){return l.default.query(N,l.default.Scope.BLOCK)!=null}):!1}function v(S){var w=S.reduce(function(E,_){return E+=_.delete||0,E},0),N=S.length()-w;return m(S)&&(N-=1),N}r.default=b,r.getLastChangeIndex=v},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var i=function(){function B(H,X){for(var K=0;K<X.length;K++){var z=X[K];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(H,z.key,z)}}return function(H,X,K){return X&&B(H.prototype,X),K&&B(H,K),H}}(),a=function B(H,X,K){H===null&&(H=Function.prototype);var z=Object.getOwnPropertyDescriptor(H,X);if(z===void 0){var G=Object.getPrototypeOf(H);return G===null?void 0:B(G,X,K)}else{if("value"in z)return z.value;var J=z.get;return J===void 0?void 0:J.call(K)}},l=s(3),c=C(l),u=s(2),d=C(u),h=s(8),f=C(h),p=s(23),y=C(p),x=s(34),b=C(x),m=s(59),v=C(m),S=s(60),w=C(S),N=s(28),E=C(N),_=s(61),A=C(_);function C(B){return B&&B.__esModule?B:{default:B}}function j(B,H){if(!(B instanceof H))throw new TypeError("Cannot call a class as a function")}function k(B,H){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:B}function T(B,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);B.prototype=Object.create(H&&H.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(B,H):B.__proto__=H)}var P=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],V=["1","2","3",!1],U=["small",!1,"large","huge"],W=function(B){T(H,B);function H(X,K){j(this,H);var z=k(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,X,K)),G=function J(Q){if(!document.body.contains(X.root))return document.body.removeEventListener("click",J);z.tooltip!=null&&!z.tooltip.root.contains(Q.target)&&document.activeElement!==z.tooltip.textbox&&!z.quill.hasFocus()&&z.tooltip.hide(),z.pickers!=null&&z.pickers.forEach(function(ee){ee.container.contains(Q.target)||ee.close()})};return X.emitter.listenDOM("click",document.body,G),z}return i(H,[{key:"addModule",value:function(K){var z=a(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"addModule",this).call(this,K);return K==="toolbar"&&this.extendToolbar(z),z}},{key:"buildButtons",value:function(K,z){K.forEach(function(G){var J=G.getAttribute("class")||"";J.split(/\s+/).forEach(function(Q){if(Q.startsWith("ql-")&&(Q=Q.slice(3),z[Q]!=null))if(Q==="direction")G.innerHTML=z[Q][""]+z[Q].rtl;else if(typeof z[Q]=="string")G.innerHTML=z[Q];else{var ee=G.value||"";ee!=null&&z[Q][ee]&&(G.innerHTML=z[Q][ee])}})})}},{key:"buildPickers",value:function(K,z){var G=this;this.pickers=K.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&D(Q,P),new w.default(Q,z.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var ee=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&D(Q,R,ee==="background"?"#ffffff":"#000000"),new v.default(Q,z[ee])}else return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?D(Q,M):Q.classList.contains("ql-header")?D(Q,V):Q.classList.contains("ql-size")&&D(Q,U)),new E.default(Q)});var J=function(){G.pickers.forEach(function(ee){ee.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,J)}}]),H}(b.default);W.DEFAULTS=(0,c.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var H=this,X=this.container.querySelector("input.ql-image[type=file]");X==null&&(X=document.createElement("input"),X.setAttribute("type","file"),X.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),X.classList.add("ql-image"),X.addEventListener("change",function(){if(X.files!=null&&X.files[0]!=null){var K=new FileReader;K.onload=function(z){var G=H.quill.getSelection(!0);H.quill.updateContents(new d.default().retain(G.index).delete(G.length).insert({image:z.target.result}),f.default.sources.USER),H.quill.setSelection(G.index+1,f.default.sources.SILENT),X.value=""},K.readAsDataURL(X.files[0])}}),this.container.appendChild(X)),X.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(B){T(H,B);function H(X,K){j(this,H);var z=k(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,X,K));return z.textbox=z.root.querySelector('input[type="text"]'),z.listen(),z}return i(H,[{key:"listen",value:function(){var K=this;this.textbox.addEventListener("keydown",function(z){y.default.match(z,"enter")?(K.save(),z.preventDefault()):y.default.match(z,"escape")&&(K.cancel(),z.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),z!=null?this.textbox.value=z:K!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+K)||""),this.root.setAttribute("data-mode",K)}},{key:"restoreFocus",value:function(){var K=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=K}},{key:"save",value:function(){var K=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",K,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",K,f.default.sources.USER)),this.quill.root.scrollTop=z;break}case"video":K=$(K);case"formula":{if(!K)break;var G=this.quill.getSelection(!0);if(G!=null){var J=G.index+G.length;this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),K,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(J+1," ",f.default.sources.USER),this.quill.setSelection(J+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),H}(A.default);function $(B){var H=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return H?(H[1]||"https")+"://www.youtube.com/embed/"+H[2]+"?showinfo=0":(H=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(H[1]||"https")+"://player.vimeo.com/video/"+H[2]+"/":B}function D(B,H){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(K){var z=document.createElement("option");K===X?z.setAttribute("selected","selected"):z.setAttribute("value",K),B.appendChild(z)})}r.BaseTooltip=q,r.default=W},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},a.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},a.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},a.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},a.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},a.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},a.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,d=this.iterator();u=d();){var h=u.length();if(l<h||c&&l===h&&(u.next==null||u.next.length()!==0))return[u,l];l-=h}return[null,0]},a.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},a.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var d=this.find(l),h=d[0],f=d[1],p,y=l-f,x=this.iterator(h);(p=x())&&y<l+c;){var b=p.length();l>y?u(p,l-y,Math.min(c,y+b-l)):u(p,0,Math.min(b,l+c-y)),y+=b}},a.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},a.prototype.reduce=function(l,c){for(var u,d=this.iterator();u=d();)c=l(c,u);return c},a}();r.default=i},function(t,r,s){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var y in p)p.hasOwnProperty(y)&&(f[y]=p[y])};return function(f,p){h(f,p);function y(){this.constructor=f}f.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=s(17),l=s(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(h){i(f,h);function f(p){var y=h.call(this,p)||this;return y.scroll=y,y.observer=new MutationObserver(function(x){y.update(x)}),y.observer.observe(y.domNode,c),y.attach(),y}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(p,y){this.update(),p===0&&y===this.length()?this.children.forEach(function(x){x.remove()}):h.prototype.deleteAt.call(this,p,y)},f.prototype.formatAt=function(p,y,x,b){this.update(),h.prototype.formatAt.call(this,p,y,x,b)},f.prototype.insertAt=function(p,y,x){this.update(),h.prototype.insertAt.call(this,p,y,x)},f.prototype.optimize=function(p,y){var x=this;p===void 0&&(p=[]),y===void 0&&(y={}),h.prototype.optimize.call(this,y);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)p.push(b.pop());for(var m=function(N,E){E===void 0&&(E=!0),!(N==null||N===x)&&N.domNode.parentNode!=null&&(N.domNode[l.DATA_KEY].mutations==null&&(N.domNode[l.DATA_KEY].mutations=[]),E&&m(N.parent))},v=function(N){N.domNode[l.DATA_KEY]==null||N.domNode[l.DATA_KEY].mutations==null||(N instanceof a.default&&N.children.forEach(v),N.optimize(y))},S=p,w=0;S.length>0;w+=1){if(w>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(S.forEach(function(N){var E=l.find(N.target,!0);E!=null&&(E.domNode===N.target&&(N.type==="childList"?(m(l.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(_){var A=l.find(_,!1);m(A,!1),A instanceof a.default&&A.children.forEach(function(C){m(C,!1)})})):N.type==="attributes"&&m(E.prev)),m(E))}),this.children.forEach(v),S=[].slice.call(this.observer.takeRecords()),b=S.slice();b.length>0;)p.push(b.pop())}},f.prototype.update=function(p,y){var x=this;y===void 0&&(y={}),p=p||this.observer.takeRecords(),p.map(function(b){var m=l.find(b.target,!0);return m==null?null:m.domNode[l.DATA_KEY].mutations==null?(m.domNode[l.DATA_KEY].mutations=[b],m):(m.domNode[l.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===x||b.domNode[l.DATA_KEY]==null||b.update(b.domNode[l.DATA_KEY].mutations||[],y)}),this.domNode[l.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,y),this.optimize(p,y)},f.blotName="scroll",f.defaultChild="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="DIV",f}(a.default);r.default=d},function(t,r,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var p in f)f.hasOwnProperty(p)&&(h[p]=f[p])};return function(h,f){d(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=s(18),l=s(1);function c(d,h){if(Object.keys(d).length!==Object.keys(h).length)return!1;for(var f in d)if(d[f]!==h[f])return!1;return!0}var u=function(d){i(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return d.formats.call(this,f)},h.prototype.format=function(f,p){var y=this;f===this.statics.blotName&&!p?(this.children.forEach(function(x){x instanceof a.default||(x=x.wrap(h.blotName,!0)),y.attributes.copy(x)}),this.unwrap()):d.prototype.format.call(this,f,p)},h.prototype.formatAt=function(f,p,y,x){if(this.formats()[y]!=null||l.query(y,l.Scope.ATTRIBUTE)){var b=this.isolate(f,p);b.format(y,x)}else d.prototype.formatAt.call(this,f,p,y,x)},h.prototype.optimize=function(f){d.prototype.optimize.call(this,f);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var y=this.next;y instanceof h&&y.prev===this&&c(p,y.formats())&&(y.moveChildren(this),y.remove())},h.blotName="inline",h.scope=l.Scope.INLINE_BLOT,h.tagName="SPAN",h}(a.default);r.default=u},function(t,r,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=s(18),l=s(1),c=function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(h){var f=l.query(d.blotName).tagName;if(h.tagName!==f)return u.formats.call(this,h)},d.prototype.format=function(h,f){l.query(h,l.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(d.blotName):u.prototype.format.call(this,h,f))},d.prototype.formatAt=function(h,f,p,y){l.query(p,l.Scope.BLOCK)!=null?this.format(p,y):u.prototype.formatAt.call(this,h,f,p,y)},d.prototype.insertAt=function(h,f,p){if(p==null||l.query(f,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,f,p);else{var y=this.split(h),x=l.create(f,p);y.parent.insertBefore(x,y)}},d.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,f)},d.blotName="block",d.scope=l.Scope.BLOCK_BLOT,d.tagName="P",d}(a.default);r.default=c},function(t,r,s){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])};return function(u,d){c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=s(19),l=function(c){i(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,h){c.prototype.formatAt.call(this,0,this.length(),d,h)},u.prototype.formatAt=function(d,h,f,p){d===0&&h===this.length()?this.format(f,p):c.prototype.formatAt.call(this,d,h,f,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(a.default);r.default=l},function(t,r,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=s(19),l=s(1),c=function(u){i(d,u);function d(h){var f=u.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return d.create=function(h){return document.createTextNode(h)},d.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},d.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},d.prototype.index=function(h,f){return this.domNode===h?f:-1},d.prototype.insertAt=function(h,f,p){p==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,f,p)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(h,f){return[this.domNode,h]},d.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var p=l.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},d.prototype.update=function(h,f){var p=this;h.some(function(y){return y.type==="characterData"&&y.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=l.Scope.INLINE_BLOT,d}(a.default);r.default=c},function(t,r,s){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:a.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var d=u.indexOf(l,c);return d!==-1&&d===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,h=arguments[1],f,p=0;p<d;p++)if(f=u[p],c.call(h,f,p,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,r){var s=-1,i=1,a=0;function l(w,N,E){if(w==N)return w?[[a,w]]:[];(E<0||w.length<E)&&(E=null);var _=h(w,N),A=w.substring(0,_);w=w.substring(_),N=N.substring(_),_=f(w,N);var C=w.substring(w.length-_);w=w.substring(0,w.length-_),N=N.substring(0,N.length-_);var j=c(w,N);return A&&j.unshift([a,A]),C&&j.push([a,C]),y(j),E!=null&&(j=m(j,E)),j=v(j),j}function c(w,N){var E;if(!w)return[[i,N]];if(!N)return[[s,w]];var _=w.length>N.length?w:N,A=w.length>N.length?N:w,C=_.indexOf(A);if(C!=-1)return E=[[i,_.substring(0,C)],[a,A],[i,_.substring(C+A.length)]],w.length>N.length&&(E[0][0]=E[2][0]=s),E;if(A.length==1)return[[s,w],[i,N]];var j=p(w,N);if(j){var k=j[0],T=j[1],P=j[2],R=j[3],M=j[4],V=l(k,P),U=l(T,R);return V.concat([[a,M]],U)}return u(w,N)}function u(w,N){for(var E=w.length,_=N.length,A=Math.ceil((E+_)/2),C=A,j=2*A,k=new Array(j),T=new Array(j),P=0;P<j;P++)k[P]=-1,T[P]=-1;k[C+1]=0,T[C+1]=0;for(var R=E-_,M=R%2!=0,V=0,U=0,W=0,q=0,$=0;$<A;$++){for(var D=-$+V;D<=$-U;D+=2){var B=C+D,H;D==-$||D!=$&&k[B-1]<k[B+1]?H=k[B+1]:H=k[B-1]+1;for(var X=H-D;H<E&&X<_&&w.charAt(H)==N.charAt(X);)H++,X++;if(k[B]=H,H>E)U+=2;else if(X>_)V+=2;else if(M){var K=C+R-D;if(K>=0&&K<j&&T[K]!=-1){var z=E-T[K];if(H>=z)return d(w,N,H,X)}}}for(var G=-$+W;G<=$-q;G+=2){var K=C+G,z;G==-$||G!=$&&T[K-1]<T[K+1]?z=T[K+1]:z=T[K-1]+1;for(var J=z-G;z<E&&J<_&&w.charAt(E-z-1)==N.charAt(_-J-1);)z++,J++;if(T[K]=z,z>E)q+=2;else if(J>_)W+=2;else if(!M){var B=C+R-G;if(B>=0&&B<j&&k[B]!=-1){var H=k[B],X=C+H-B;if(z=E-z,H>=z)return d(w,N,H,X)}}}}return[[s,w],[i,N]]}function d(w,N,E,_){var A=w.substring(0,E),C=N.substring(0,_),j=w.substring(E),k=N.substring(_),T=l(A,C),P=l(j,k);return T.concat(P)}function h(w,N){if(!w||!N||w.charAt(0)!=N.charAt(0))return 0;for(var E=0,_=Math.min(w.length,N.length),A=_,C=0;E<A;)w.substring(C,A)==N.substring(C,A)?(E=A,C=E):_=A,A=Math.floor((_-E)/2+E);return A}function f(w,N){if(!w||!N||w.charAt(w.length-1)!=N.charAt(N.length-1))return 0;for(var E=0,_=Math.min(w.length,N.length),A=_,C=0;E<A;)w.substring(w.length-A,w.length-C)==N.substring(N.length-A,N.length-C)?(E=A,C=E):_=A,A=Math.floor((_-E)/2+E);return A}function p(w,N){var E=w.length>N.length?w:N,_=w.length>N.length?N:w;if(E.length<4||_.length*2<E.length)return null;function A(U,W,q){for(var $=U.substring(q,q+Math.floor(U.length/4)),D=-1,B="",H,X,K,z;(D=W.indexOf($,D+1))!=-1;){var G=h(U.substring(q),W.substring(D)),J=f(U.substring(0,q),W.substring(0,D));B.length<J+G&&(B=W.substring(D-J,D)+W.substring(D,D+G),H=U.substring(0,q-J),X=U.substring(q+G),K=W.substring(0,D-J),z=W.substring(D+G))}return B.length*2>=U.length?[H,X,K,z,B]:null}var C=A(E,_,Math.ceil(E.length/4)),j=A(E,_,Math.ceil(E.length/2)),k;if(!C&&!j)return null;j?C?k=C[4].length>j[4].length?C:j:k=j:k=C;var T,P,R,M;w.length>N.length?(T=k[0],P=k[1],R=k[2],M=k[3]):(R=k[0],M=k[1],T=k[2],P=k[3]);var V=k[4];return[T,P,R,M,V]}function y(w){w.push([a,""]);for(var N=0,E=0,_=0,A="",C="",j;N<w.length;)switch(w[N][0]){case i:_++,C+=w[N][1],N++;break;case s:E++,A+=w[N][1],N++;break;case a:E+_>1?(E!==0&&_!==0&&(j=h(C,A),j!==0&&(N-E-_>0&&w[N-E-_-1][0]==a?w[N-E-_-1][1]+=C.substring(0,j):(w.splice(0,0,[a,C.substring(0,j)]),N++),C=C.substring(j),A=A.substring(j)),j=f(C,A),j!==0&&(w[N][1]=C.substring(C.length-j)+w[N][1],C=C.substring(0,C.length-j),A=A.substring(0,A.length-j))),E===0?w.splice(N-_,E+_,[i,C]):_===0?w.splice(N-E,E+_,[s,A]):w.splice(N-E-_,E+_,[s,A],[i,C]),N=N-E-_+(E?1:0)+(_?1:0)+1):N!==0&&w[N-1][0]==a?(w[N-1][1]+=w[N][1],w.splice(N,1)):N++,_=0,E=0,A="",C="";break}w[w.length-1][1]===""&&w.pop();var k=!1;for(N=1;N<w.length-1;)w[N-1][0]==a&&w[N+1][0]==a&&(w[N][1].substring(w[N][1].length-w[N-1][1].length)==w[N-1][1]?(w[N][1]=w[N-1][1]+w[N][1].substring(0,w[N][1].length-w[N-1][1].length),w[N+1][1]=w[N-1][1]+w[N+1][1],w.splice(N-1,1),k=!0):w[N][1].substring(0,w[N+1][1].length)==w[N+1][1]&&(w[N-1][1]+=w[N+1][1],w[N][1]=w[N][1].substring(w[N+1][1].length)+w[N+1][1],w.splice(N+1,1),k=!0)),N++;k&&y(w)}var x=l;x.INSERT=i,x.DELETE=s,x.EQUAL=a,t.exports=x;function b(w,N){if(N===0)return[a,w];for(var E=0,_=0;_<w.length;_++){var A=w[_];if(A[0]===s||A[0]===a){var C=E+A[1].length;if(N===C)return[_+1,w];if(N<C){w=w.slice();var j=N-E,k=[A[0],A[1].slice(0,j)],T=[A[0],A[1].slice(j)];return w.splice(_,1,k,T),[_+1,w]}else E=C}}throw new Error("cursor_pos is out of bounds!")}function m(w,N){var E=b(w,N),_=E[1],A=E[0],C=_[A],j=_[A+1];if(C==null)return w;if(C[0]!==a)return w;if(j!=null&&C[1]+j[1]===j[1]+C[1])return _.splice(A,2,j,C),S(_,A,2);if(j!=null&&j[1].indexOf(C[1])===0){_.splice(A,2,[j[0],C[1]],[0,C[1]]);var k=j[1].slice(C[1].length);return k.length>0&&_.splice(A+2,0,[j[0],k]),S(_,A,3)}else return w}function v(w){for(var N=!1,E=function(j){return j.charCodeAt(0)>=56320&&j.charCodeAt(0)<=57343},_=function(j){return j.charCodeAt(j.length-1)>=55296&&j.charCodeAt(j.length-1)<=56319},A=2;A<w.length;A+=1)w[A-2][0]===a&&_(w[A-2][1])&&w[A-1][0]===s&&E(w[A-1][1])&&w[A][0]===i&&E(w[A][1])&&(N=!0,w[A-1][1]=w[A-2][1].slice(-1)+w[A-1][1],w[A][1]=w[A-2][1].slice(-1)+w[A][1],w[A-2][1]=w[A-2][1].slice(0,-1));if(!N)return w;for(var C=[],A=0;A<w.length;A+=1)w[A][1].length>0&&C.push(w[A]);return C}function S(w,N,E){for(var _=N+E-1;_>=0&&_>=N-1;_--)if(_+1<w.length){var A=w[_],C=w[_+1];A[0]===C[1]&&w.splice(_,2,[A[0],A[1]+C[1]])}return w}},function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:s,r.shim=s;function s(i){var a=[];for(var l in i)a.push(l);return a}},function(t,r){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=t.exports=s?i:a,r.supported=i;function i(l){return Object.prototype.toString.call(l)=="[object Arguments]"}r.unsupported=a;function a(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(t,r){var s=Object.prototype.hasOwnProperty,i="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function l(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,f;if(this._eventsCount===0)return d;for(f in h=this._events)s.call(h,f)&&d.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d,h){var f=i?i+d:d,p=this._events[f];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var y=0,x=p.length,b=new Array(x);y<x;y++)b[y]=p[y].fn;return b},c.prototype.emit=function(d,h,f,p,y,x){var b=i?i+d:d;if(!this._events[b])return!1;var m=this._events[b],v=arguments.length,S,w;if(m.fn){switch(m.once&&this.removeListener(d,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,f),!0;case 4:return m.fn.call(m.context,h,f,p),!0;case 5:return m.fn.call(m.context,h,f,p,y),!0;case 6:return m.fn.call(m.context,h,f,p,y,x),!0}for(w=1,S=new Array(v-1);w<v;w++)S[w-1]=arguments[w];m.fn.apply(m.context,S)}else{var N=m.length,E;for(w=0;w<N;w++)switch(m[w].once&&this.removeListener(d,m[w].fn,void 0,!0),v){case 1:m[w].fn.call(m[w].context);break;case 2:m[w].fn.call(m[w].context,h);break;case 3:m[w].fn.call(m[w].context,h,f);break;case 4:m[w].fn.call(m[w].context,h,f,p);break;default:if(!S)for(E=1,S=new Array(v-1);E<v;E++)S[E-1]=arguments[E];m[w].fn.apply(m[w].context,S)}}return!0},c.prototype.on=function(d,h,f){var p=new l(h,f||this),y=i?i+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},c.prototype.once=function(d,h,f){var p=new l(h,f||this,!0),y=i?i+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},c.prototype.removeListener=function(d,h,f,p){var y=i?i+d:d;if(!this._events[y])return this;if(!h)return--this._eventsCount===0?this._events=new a:delete this._events[y],this;var x=this._events[y];if(x.fn)x.fn===h&&(!p||x.once)&&(!f||x.context===f)&&(--this._eventsCount===0?this._events=new a:delete this._events[y]);else{for(var b=0,m=[],v=x.length;b<v;b++)(x[b].fn!==h||p&&!x[b].once||f&&x[b].context!==f)&&m.push(x[b]);m.length?this._events[y]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new a:delete this._events[y]}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=i?i+d:d,this._events[h]&&(--this._eventsCount===0?this._events=new a:delete this._events[h])):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=i,c.EventEmitter=c,typeof t<"u"&&(t.exports=c)},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},a=function(){function te(ne,ie){var oe=[],re=!0,Ne=!1,Ae=void 0;try{for(var je=ne[Symbol.iterator](),Nn;!(re=(Nn=je.next()).done)&&(oe.push(Nn.value),!(ie&&oe.length===ie));re=!0);}catch(Qt){Ne=!0,Ae=Qt}finally{try{!re&&je.return&&je.return()}finally{if(Ne)throw Ae}}return oe}return function(ne,ie){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return te(ne,ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function te(ne,ie){for(var oe=0;oe<ie.length;oe++){var re=ie[oe];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(ne,re.key,re)}}return function(ne,ie,oe){return ie&&te(ne.prototype,ie),oe&&te(ne,oe),ne}}(),c=s(3),u=T(c),d=s(2),h=T(d),f=s(0),p=T(f),y=s(5),x=T(y),b=s(10),m=T(b),v=s(9),S=T(v),w=s(36),N=s(37),E=s(13),_=T(E),A=s(26),C=s(38),j=s(39),k=s(40);function T(te){return te&&te.__esModule?te:{default:te}}function P(te,ne,ie){return ne in te?Object.defineProperty(te,ne,{value:ie,enumerable:!0,configurable:!0,writable:!0}):te[ne]=ie,te}function R(te,ne){if(!(te instanceof ne))throw new TypeError("Cannot call a class as a function")}function M(te,ne){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:te}function V(te,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);te.prototype=Object.create(ne&&ne.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ne):te.__proto__=ne)}var U=(0,m.default)("quill:clipboard"),W="__ql-matcher",q=[[Node.TEXT_NODE,qe],[Node.TEXT_NODE,fe],["br",le],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,Oe],["li",ce],["b",J.bind(J,"bold")],["i",J.bind(J,"italic")],["style",ge]],$=[w.AlignAttribute,C.DirectionAttribute].reduce(function(te,ne){return te[ne.keyName]=ne,te},{}),D=[w.AlignStyle,N.BackgroundStyle,A.ColorStyle,C.DirectionStyle,j.FontStyle,k.SizeStyle].reduce(function(te,ne){return te[ne.keyName]=ne,te},{}),B=function(te){V(ne,te);function ne(ie,oe){R(this,ne);var re=M(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,ie,oe));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],q.concat(re.options.matchers).forEach(function(Ne){var Ae=a(Ne,2),je=Ae[0],Nn=Ae[1];!oe.matchVisual&&Nn===ve||re.addMatcher(je,Nn)}),re}return l(ne,[{key:"addMatcher",value:function(oe,re){this.matchers.push([oe,re])}},{key:"convert",value:function(oe){if(typeof oe=="string")return this.container.innerHTML=oe.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[_.default.blotName]){var Ne=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Ne,P({},_.default.blotName,re[_.default.blotName]))}var Ae=this.prepareMatching(),je=a(Ae,2),Nn=je[0],Qt=je[1],ze=G(this.container,Nn,Qt);return K(ze,`
`)&&ze.ops[ze.ops.length-1].attributes==null&&(ze=ze.compose(new h.default().retain(ze.length()-1).delete(1))),U.log("convert",this.container.innerHTML,ze),this.container.innerHTML="",ze}},{key:"dangerouslyPasteHTML",value:function(oe,re){var Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof oe=="string")this.quill.setContents(this.convert(oe),re),this.quill.setSelection(0,x.default.sources.SILENT);else{var Ae=this.convert(re);this.quill.updateContents(new h.default().retain(oe).concat(Ae),Ne),this.quill.setSelection(oe+Ae.length(),x.default.sources.SILENT)}}},{key:"onPaste",value:function(oe){var re=this;if(!(oe.defaultPrevented||!this.quill.isEnabled())){var Ne=this.quill.getSelection(),Ae=new h.default().retain(Ne.index),je=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(x.default.sources.SILENT),setTimeout(function(){Ae=Ae.concat(re.convert()).delete(Ne.length),re.quill.updateContents(Ae,x.default.sources.USER),re.quill.setSelection(Ae.length()-Ne.length,x.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=je,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var oe=this,re=[],Ne=[];return this.matchers.forEach(function(Ae){var je=a(Ae,2),Nn=je[0],Qt=je[1];switch(Nn){case Node.TEXT_NODE:Ne.push(Qt);break;case Node.ELEMENT_NODE:re.push(Qt);break;default:[].forEach.call(oe.container.querySelectorAll(Nn),function(ze){ze[W]=ze[W]||[],ze[W].push(Qt)});break}}),[re,Ne]}}]),ne}(S.default);B.DEFAULTS={matchers:[],matchVisual:!0};function H(te,ne,ie){return(typeof ne>"u"?"undefined":i(ne))==="object"?Object.keys(ne).reduce(function(oe,re){return H(oe,re,ne[re])},te):te.reduce(function(oe,re){return re.attributes&&re.attributes[ne]?oe.push(re):oe.insert(re.insert,(0,u.default)({},P({},ne,ie),re.attributes))},new h.default)}function X(te){if(te.nodeType!==Node.ELEMENT_NODE)return{};var ne="__ql-computed-style";return te[ne]||(te[ne]=window.getComputedStyle(te))}function K(te,ne){for(var ie="",oe=te.ops.length-1;oe>=0&&ie.length<ne.length;--oe){var re=te.ops[oe];if(typeof re.insert!="string")break;ie=re.insert+ie}return ie.slice(-1*ne.length)===ne}function z(te){if(te.childNodes.length===0)return!1;var ne=X(te);return["block","list-item"].indexOf(ne.display)>-1}function G(te,ne,ie){return te.nodeType===te.TEXT_NODE?ie.reduce(function(oe,re){return re(te,oe)},new h.default):te.nodeType===te.ELEMENT_NODE?[].reduce.call(te.childNodes||[],function(oe,re){var Ne=G(re,ne,ie);return re.nodeType===te.ELEMENT_NODE&&(Ne=ne.reduce(function(Ae,je){return je(re,Ae)},Ne),Ne=(re[W]||[]).reduce(function(Ae,je){return je(re,Ae)},Ne)),oe.concat(Ne)},new h.default):new h.default}function J(te,ne,ie){return H(ie,te,!0)}function Q(te,ne){var ie=p.default.Attributor.Attribute.keys(te),oe=p.default.Attributor.Class.keys(te),re=p.default.Attributor.Style.keys(te),Ne={};return ie.concat(oe).concat(re).forEach(function(Ae){var je=p.default.query(Ae,p.default.Scope.ATTRIBUTE);je!=null&&(Ne[je.attrName]=je.value(te),Ne[je.attrName])||(je=$[Ae],je!=null&&(je.attrName===Ae||je.keyName===Ae)&&(Ne[je.attrName]=je.value(te)||void 0),je=D[Ae],je!=null&&(je.attrName===Ae||je.keyName===Ae)&&(je=D[Ae],Ne[je.attrName]=je.value(te)||void 0))}),Object.keys(Ne).length>0&&(ne=H(ne,Ne)),ne}function ee(te,ne){var ie=p.default.query(te);if(ie==null)return ne;if(ie.prototype instanceof p.default.Embed){var oe={},re=ie.value(te);re!=null&&(oe[ie.blotName]=re,ne=new h.default().insert(oe,ie.formats(te)))}else typeof ie.formats=="function"&&(ne=H(ne,ie.blotName,ie.formats(te)));return ne}function le(te,ne){return K(ne,`
`)||ne.insert(`
`),ne}function ge(){return new h.default}function ce(te,ne){var ie=p.default.query(te);if(ie==null||ie.blotName!=="list-item"||!K(ne,`
`))return ne;for(var oe=-1,re=te.parentNode;!re.classList.contains("ql-clipboard");)(p.default.query(re)||{}).blotName==="list"&&(oe+=1),re=re.parentNode;return oe<=0?ne:ne.compose(new h.default().retain(ne.length()-1).retain(1,{indent:oe}))}function fe(te,ne){return K(ne,`
`)||(z(te)||ne.length()>0&&te.nextSibling&&z(te.nextSibling))&&ne.insert(`
`),ne}function ve(te,ne){if(z(te)&&te.nextElementSibling!=null&&!K(ne,`

`)){var ie=te.offsetHeight+parseFloat(X(te).marginTop)+parseFloat(X(te).marginBottom);te.nextElementSibling.offsetTop>te.offsetTop+ie*1.5&&ne.insert(`
`)}return ne}function Oe(te,ne){var ie={},oe=te.style||{};return oe.fontStyle&&X(te).fontStyle==="italic"&&(ie.italic=!0),oe.fontWeight&&(X(te).fontWeight.startsWith("bold")||parseInt(X(te).fontWeight)>=700)&&(ie.bold=!0),Object.keys(ie).length>0&&(ne=H(ne,ie)),parseFloat(oe.textIndent||0)>0&&(ne=new h.default().insert("	").concat(ne)),ne}function qe(te,ne){var ie=te.data;if(te.parentNode.tagName==="O:P")return ne.insert(ie.trim());if(ie.trim().length===0&&te.parentNode.classList.contains("ql-clipboard"))return ne;if(!X(te.parentNode).whiteSpace.startsWith("pre")){var oe=function(Ne,Ae){return Ae=Ae.replace(/[^\u00a0]/g,""),Ae.length<1&&Ne?" ":Ae};ie=ie.replace(/\r\n/g," ").replace(/\n/g," "),ie=ie.replace(/\s\s+/g,oe.bind(oe,!0)),(te.previousSibling==null&&z(te.parentNode)||te.previousSibling!=null&&z(te.previousSibling))&&(ie=ie.replace(/^\s+/,oe.bind(oe,!1))),(te.nextSibling==null&&z(te.parentNode)||te.nextSibling!=null&&z(te.nextSibling))&&(ie=ie.replace(/\s+$/,oe.bind(oe,!1)))}return ne.insert(ie)}r.default=B,r.matchAttributor=Q,r.matchBlot=ee,r.matchNewline=fe,r.matchSpacing=ve,r.matchText=qe},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function y(x,b){for(var m=0;m<b.length;m++){var v=b[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(x,v.key,v)}}return function(x,b,m){return b&&y(x.prototype,b),m&&y(x,m),x}}(),a=function y(x,b,m){x===null&&(x=Function.prototype);var v=Object.getOwnPropertyDescriptor(x,b);if(v===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,b,m)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(m)}},l=s(6),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function f(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var p=function(y){f(x,y);function x(){return d(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"optimize",value:function(m){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),x}(c.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var i=function(){function k(T,P){var R=[],M=!0,V=!1,U=void 0;try{for(var W=T[Symbol.iterator](),q;!(M=(q=W.next()).done)&&(R.push(q.value),!(P&&R.length===P));M=!0);}catch($){V=!0,U=$}finally{try{!M&&W.return&&W.return()}finally{if(V)throw U}}return R}return function(T,P){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return k(T,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function k(T,P){for(var R=0;R<P.length;R++){var M=P[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,P,R){return P&&k(T.prototype,P),R&&k(T,R),T}}(),l=s(2),c=m(l),u=s(0),d=m(u),h=s(5),f=m(h),p=s(10),y=m(p),x=s(9),b=m(x);function m(k){return k&&k.__esModule?k:{default:k}}function v(k,T,P){return T in k?Object.defineProperty(k,T,{value:P,enumerable:!0,configurable:!0,writable:!0}):k[T]=P,k}function S(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function w(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function N(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var E=(0,y.default)("quill:toolbar"),_=function(k){N(T,k);function T(P,R){S(this,T);var M=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,P,R));if(Array.isArray(M.options.container)){var V=document.createElement("div");C(V,M.options.container),P.container.parentNode.insertBefore(V,P.container),M.container=V}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var U;return U=E.error("Container required for toolbar",M.options),w(M,U)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(W){M.addHandler(W,M.options.handlers[W])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(W){M.attach(W)}),M.quill.on(f.default.events.EDITOR_CHANGE,function(W,q){W===f.default.events.SELECTION_CHANGE&&M.update(q)}),M.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var W=M.quill.selection.getRange(),q=i(W,1),$=q[0];M.update($)}),M}return a(T,[{key:"addHandler",value:function(R,M){this.handlers[R]=M}},{key:"attach",value:function(R){var M=this,V=[].find.call(R.classList,function(W){return W.indexOf("ql-")===0});if(V){if(V=V.slice(3),R.tagName==="BUTTON"&&R.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){E.warn("ignoring attaching to disabled format",V,R);return}if(d.default.query(V)==null){E.warn("ignoring attaching to nonexistent format",V,R);return}}var U=R.tagName==="SELECT"?"change":"click";R.addEventListener(U,function(W){var q=void 0;if(R.tagName==="SELECT"){if(R.selectedIndex<0)return;var $=R.options[R.selectedIndex];$.hasAttribute("selected")?q=!1:q=$.value||!1}else R.classList.contains("ql-active")?q=!1:q=R.value||!R.hasAttribute("value"),W.preventDefault();M.quill.focus();var D=M.quill.selection.getRange(),B=i(D,1),H=B[0];if(M.handlers[V]!=null)M.handlers[V].call(M,q);else if(d.default.query(V).prototype instanceof d.default.Embed){if(q=prompt("Enter "+V),!q)return;M.quill.updateContents(new c.default().retain(H.index).delete(H.length).insert(v({},V,q)),f.default.sources.USER)}else M.quill.format(V,q,f.default.sources.USER);M.update(H)}),this.controls.push([V,R])}}},{key:"update",value:function(R){var M=R==null?{}:this.quill.getFormat(R);this.controls.forEach(function(V){var U=i(V,2),W=U[0],q=U[1];if(q.tagName==="SELECT"){var $=void 0;if(R==null)$=null;else if(M[W]==null)$=q.querySelector("option[selected]");else if(!Array.isArray(M[W])){var D=M[W];typeof D=="string"&&(D=D.replace(/\"/g,'\\"')),$=q.querySelector('option[value="'+D+'"]')}$==null?(q.value="",q.selectedIndex=-1):$.selected=!0}else if(R==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var B=M[W]===q.getAttribute("value")||M[W]!=null&&M[W].toString()===q.getAttribute("value")||M[W]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",B)}else q.classList.toggle("ql-active",M[W]!=null)})}}]),T}(b.default);_.DEFAULTS={};function A(k,T,P){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+T),P!=null&&(R.value=P),k.appendChild(R)}function C(k,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(P){var R=document.createElement("span");R.classList.add("ql-formats"),P.forEach(function(M){if(typeof M=="string")A(R,M);else{var V=Object.keys(M)[0],U=M[V];Array.isArray(U)?j(R,V,U):A(R,V,U)}}),k.appendChild(R)})}function j(k,T,P){var R=document.createElement("select");R.classList.add("ql-"+T),P.forEach(function(M){var V=document.createElement("option");M!==!1?V.setAttribute("value",M):V.setAttribute("selected","selected"),R.appendChild(V)}),k.appendChild(R)}_.DEFAULTS={container:null,handlers:{clean:function(){var T=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var R=this.quill.getFormat();Object.keys(R).forEach(function(M){d.default.query(M,d.default.Scope.INLINE)!=null&&T.quill.format(M,!1)})}else this.quill.removeFormat(P,f.default.sources.USER)},direction:function(T){var P=this.quill.getFormat().align;T==="rtl"&&P==null?this.quill.format("align","right",f.default.sources.USER):!T&&P==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",T,f.default.sources.USER)},indent:function(T){var P=this.quill.getSelection(),R=this.quill.getFormat(P),M=parseInt(R.indent||0);if(T==="+1"||T==="-1"){var V=T==="+1"?1:-1;R.direction==="rtl"&&(V*=-1),this.quill.format("indent",M+V,f.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,f.default.sources.USER)},list:function(T){var P=this.quill.getSelection(),R=this.quill.getFormat(P);T==="check"?R.list==="checked"||R.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",T,f.default.sources.USER)}}},r.default=_,r.addControls=C},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function y(x,b){for(var m=0;m<b.length;m++){var v=b[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(x,v.key,v)}}return function(x,b,m){return b&&y(x.prototype,b),m&&y(x,m),x}}(),a=function y(x,b,m){x===null&&(x=Function.prototype);var v=Object.getOwnPropertyDescriptor(x,b);if(v===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,b,m)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(m)}},l=s(28),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function f(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var p=function(y){f(x,y);function x(b,m){d(this,x);var v=h(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,b));return v.label.innerHTML=m,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(S){S.classList.add("ql-primary")}),v}return i(x,[{key:"buildItem",value:function(m){var v=a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"buildItem",this).call(this,m);return v.style.backgroundColor=m.getAttribute("value")||"",v}},{key:"selectItem",value:function(m,v){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,m,v);var S=this.label.querySelector(".ql-color-label"),w=m&&m.getAttribute("data-value")||"";S&&(S.tagName==="line"?S.style.stroke=w:S.style.fill=w)}}]),x}(c.default);r.default=p},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function y(x,b){for(var m=0;m<b.length;m++){var v=b[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(x,v.key,v)}}return function(x,b,m){return b&&y(x.prototype,b),m&&y(x,m),x}}(),a=function y(x,b,m){x===null&&(x=Function.prototype);var v=Object.getOwnPropertyDescriptor(x,b);if(v===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,b,m)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(m)}},l=s(28),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function f(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var p=function(y){f(x,y);function x(b,m){d(this,x);var v=h(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,b));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(S){S.innerHTML=m[S.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return i(x,[{key:"selectItem",value:function(m,v){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,m,v),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),x}(c.default);r.default=p},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function c(u,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,h){return d&&c(u.prototype,d),h&&c(u,h),u}}();function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,d){var h=this;a(this,c),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return i(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var h=d.left+d.width/2-this.root.offsetWidth/2,f=d.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),x=0;if(y.right>p.right&&(x=p.right-y.right,this.root.style.left=h+x+"px"),y.left<p.left&&(x=p.left-y.left,this.root.style.left=h+x+"px"),y.bottom>p.bottom){var b=y.bottom-y.top,m=d.bottom-d.top+b;this.root.style.top=f-m+"px",this.root.classList.add("ql-flip")}return x}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();r.default=l},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function j(k,T){var P=[],R=!0,M=!1,V=void 0;try{for(var U=k[Symbol.iterator](),W;!(R=(W=U.next()).done)&&(P.push(W.value),!(T&&P.length===T));R=!0);}catch(q){M=!0,V=q}finally{try{!R&&U.return&&U.return()}finally{if(M)throw V}}return P}return function(k,T){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return j(k,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function j(k,T,P){k===null&&(k=Function.prototype);var R=Object.getOwnPropertyDescriptor(k,T);if(R===void 0){var M=Object.getPrototypeOf(k);return M===null?void 0:j(M,T,P)}else{if("value"in R)return R.value;var V=R.get;return V===void 0?void 0:V.call(P)}},l=function(){function j(k,T){for(var P=0;P<T.length;P++){var R=T[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}return function(k,T,P){return T&&j(k.prototype,T),P&&j(k,P),k}}(),c=s(3),u=S(c),d=s(8),h=S(d),f=s(43),p=S(f),y=s(27),x=S(y),b=s(15),m=s(41),v=S(m);function S(j){return j&&j.__esModule?j:{default:j}}function w(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function N(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function E(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var _=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],A=function(j){E(k,j);function k(T,P){w(this,k),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=_);var R=N(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T,P));return R.quill.container.classList.add("ql-snow"),R}return l(k,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),v.default),this.tooltip=new C(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(R,M){P.handlers.link.call(P,!M.format.link)})}}]),k}(p.default);A.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var T=this.quill.getSelection();if(T==null||T.length==0)return;var P=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var R=this.quill.theme.tooltip;R.edit("link",P)}else this.quill.format("link",!1)}}}}});var C=function(j){E(k,j);function k(T,P){w(this,k);var R=N(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T,P));return R.preview=R.root.querySelector("a.ql-preview"),R}return l(k,[{key:"listen",value:function(){var P=this;a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(R){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(R){if(P.linkRange!=null){var M=P.linkRange;P.restoreFocus(),P.quill.formatText(M,"link",!1,h.default.sources.USER),delete P.linkRange}R.preventDefault(),P.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(R,M,V){if(R!=null){if(R.length===0&&V===h.default.sources.USER){var U=P.quill.scroll.descendant(x.default,R.index),W=i(U,2),q=W[0],$=W[1];if(q!=null){P.linkRange=new b.Range(R.index-$,q.length());var D=x.default.formats(q.domNode);P.preview.textContent=D,P.preview.setAttribute("href",D),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(f.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=A},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(29),a=re(i),l=s(36),c=s(38),u=s(64),d=s(65),h=re(d),f=s(66),p=re(f),y=s(67),x=re(y),b=s(37),m=s(26),v=s(39),S=s(40),w=s(56),N=re(w),E=s(68),_=re(E),A=s(27),C=re(A),j=s(69),k=re(j),T=s(70),P=re(T),R=s(71),M=re(R),V=s(72),U=re(V),W=s(73),q=re(W),$=s(13),D=re($),B=s(74),H=re(B),X=s(75),K=re(X),z=s(57),G=re(z),J=s(41),Q=re(J),ee=s(28),le=re(ee),ge=s(59),ce=re(ge),fe=s(60),ve=re(fe),Oe=s(61),qe=re(Oe),te=s(108),ne=re(te),ie=s(62),oe=re(ie);function re(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}}a.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":S.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":S.SizeStyle},!0),a.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":v.FontClass,"formats/size":S.SizeClass,"formats/blockquote":h.default,"formats/code-block":D.default,"formats/header":p.default,"formats/list":x.default,"formats/bold":N.default,"formats/code":$.Code,"formats/italic":_.default,"formats/link":C.default,"formats/script":k.default,"formats/strike":P.default,"formats/underline":M.default,"formats/image":U.default,"formats/video":q.default,"formats/list/item":y.ListItem,"modules/formula":H.default,"modules/syntax":K.default,"modules/toolbar":G.default,"themes/bubble":ne.default,"themes/snow":oe.default,"ui/icons":Q.default,"ui/picker":le.default,"ui/icon-picker":ve.default,"ui/color-picker":ce.default,"ui/tooltip":qe.default},!0),r.default=a.default},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var i=function(){function x(b,m){for(var v=0;v<m.length;v++){var S=m[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,m,v){return m&&x(b.prototype,m),v&&x(b,v),b}}(),a=function x(b,m,v){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,m);if(S===void 0){var w=Object.getPrototypeOf(b);return w===null?void 0:x(w,m,v)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(v)}},l=s(0),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function d(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function h(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function f(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var p=function(x){f(b,x);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"add",value:function(v,S){if(S==="+1"||S==="-1"){var w=this.value(v)||0;S=S==="+1"?w+1:w-1}return S===0?(this.remove(v),!0):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,v,S)}},{key:"canAdd",value:function(v,S){return a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,v,S)||a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,v,parseInt(S))}},{key:"value",value:function(v){return parseInt(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,v))||void 0}}]),b}(c.default.Attributor.Class),y=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=y},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(4),a=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(a.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(y,x){for(var b=0;b<x.length;b++){var m=x[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,x,b){return x&&p(y.prototype,x),b&&p(y,b),y}}(),a=s(4),l=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function u(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function d(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function h(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var f=function(p){h(y,p);function y(){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),y}(l.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var i=function(){function w(N,E){for(var _=0;_<E.length;_++){var A=E[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,E,_){return E&&w(N.prototype,E),_&&w(N,_),N}}(),a=function w(N,E,_){N===null&&(N=Function.prototype);var A=Object.getOwnPropertyDescriptor(N,E);if(A===void 0){var C=Object.getPrototypeOf(N);return C===null?void 0:w(C,E,_)}else{if("value"in A)return A.value;var j=A.get;return j===void 0?void 0:j.call(_)}},l=s(0),c=p(l),u=s(4),d=p(u),h=s(25),f=p(h);function p(w){return w&&w.__esModule?w:{default:w}}function y(w,N,E){return N in w?Object.defineProperty(w,N,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[N]=E,w}function x(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}function b(w,N){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:w}function m(w,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);w.prototype=Object.create(N&&N.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(w,N):w.__proto__=N)}var v=function(w){m(N,w);function N(){return x(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return i(N,[{key:"format",value:function(_,A){_===S.blotName&&!A?this.replaceWith(c.default.create(this.statics.scope)):a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,_,A)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(_,A){return this.parent.isolate(this.offset(this.parent),this.length()),_===this.parent.statics.blotName?(this.parent.replaceWith(_,A),this):(this.parent.unwrap(),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,_,A))}}],[{key:"formats",value:function(_){return _.tagName===this.tagName?void 0:a(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,_)}}]),N}(d.default);v.blotName="list-item",v.tagName="LI";var S=function(w){m(N,w),i(N,null,[{key:"create",value:function(_){var A=_==="ordered"?"OL":"UL",C=a(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,A);return(_==="checked"||_==="unchecked")&&C.setAttribute("data-checked",_==="checked"),C}},{key:"formats",value:function(_){if(_.tagName==="OL")return"ordered";if(_.tagName==="UL")return _.hasAttribute("data-checked")?_.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(E){x(this,N);var _=b(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,E)),A=function(j){if(j.target.parentNode===E){var k=_.statics.formats(E),T=c.default.find(j.target);k==="checked"?T.format("list","unchecked"):k==="unchecked"&&T.format("list","checked")}};return E.addEventListener("touchstart",A),E.addEventListener("mousedown",A),_}return i(N,[{key:"format",value:function(_,A){this.children.length>0&&this.children.tail.format(_,A)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(_,A){if(_ instanceof v)a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,_,A);else{var C=A==null?this.length():A.offset(this),j=this.split(C);j.parent.insertBefore(_,j)}}},{key:"optimize",value:function(_){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,_);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&A.domNode.tagName===this.domNode.tagName&&A.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(A.moveChildren(this),A.remove())}},{key:"replace",value:function(_){if(_.statics.blotName!==this.statics.blotName){var A=c.default.create(this.statics.defaultChild);_.moveChildren(A),this.appendChild(A)}a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,_)}}]),N}(f.default);S.blotName="list",S.scope=c.default.Scope.BLOCK_BLOT,S.tagName=["OL","UL"],S.defaultChild="list-item",S.allowedChildren=[v],r.ListItem=v,r.default=S},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(56),a=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(a.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function y(x,b){for(var m=0;m<b.length;m++){var v=b[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(x,v.key,v)}}return function(x,b,m){return b&&y(x.prototype,b),m&&y(x,m),x}}(),a=function y(x,b,m){x===null&&(x=Function.prototype);var v=Object.getOwnPropertyDescriptor(x,b);if(v===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,b,m)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(m)}},l=s(6),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function f(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var p=function(y){f(x,y);function x(){return d(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):a(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),x}(c.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(6),a=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(a.default);h.blotName="strike",h.tagName="S",r.default=h},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(6),a=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(a.default);h.blotName="underline",h.tagName="U",r.default=h},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(m,v){for(var S=0;S<v.length;S++){var w=v[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,v,S){return v&&b(m.prototype,v),S&&b(m,S),m}}(),a=function b(m,v,S){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,v);if(w===void 0){var N=Object.getPrototypeOf(m);return N===null?void 0:b(N,v,S)}else{if("value"in w)return w.value;var E=w.get;return E===void 0?void 0:E.call(S)}},l=s(0),c=d(l),u=s(27);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function f(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function p(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var y=["alt","height","width"],x=function(b){p(m,b);function m(){return h(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"format",value:function(S,w){y.indexOf(S)>-1?w?this.domNode.setAttribute(S,w):this.domNode.removeAttribute(S):a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,S,w)}}],[{key:"create",value:function(S){var w=a(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,S);return typeof S=="string"&&w.setAttribute("src",this.sanitize(S)),w}},{key:"formats",value:function(S){return y.reduce(function(w,N){return S.hasAttribute(N)&&(w[N]=S.getAttribute(N)),w},{})}},{key:"match",value:function(S){return/\.(jpe?g|gif|png)$/.test(S)||/^data:image\/.+;base64/.test(S)}},{key:"sanitize",value:function(S){return(0,u.sanitize)(S,["http","https","data"])?S:"//:0"}},{key:"value",value:function(S){return S.getAttribute("src")}}]),m}(c.default.Embed);x.blotName="image",x.tagName="IMG",r.default=x},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(m,v){for(var S=0;S<v.length;S++){var w=v[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,v,S){return v&&b(m.prototype,v),S&&b(m,S),m}}(),a=function b(m,v,S){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,v);if(w===void 0){var N=Object.getPrototypeOf(m);return N===null?void 0:b(N,v,S)}else{if("value"in w)return w.value;var E=w.get;return E===void 0?void 0:E.call(S)}},l=s(4),c=s(27),u=d(c);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function f(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function p(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var y=["height","width"],x=function(b){p(m,b);function m(){return h(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"format",value:function(S,w){y.indexOf(S)>-1?w?this.domNode.setAttribute(S,w):this.domNode.removeAttribute(S):a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,S,w)}}],[{key:"create",value:function(S){var w=a(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,S);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(S)),w}},{key:"formats",value:function(S){return y.reduce(function(w,N){return S.hasAttribute(N)&&(w[N]=S.getAttribute(N)),w},{})}},{key:"sanitize",value:function(S){return u.default.sanitize(S)}},{key:"value",value:function(S){return S.getAttribute("src")}}]),m}(l.BlockEmbed);x.blotName="video",x.className="ql-video",x.tagName="IFRAME",r.default=x},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var i=function(){function S(w,N){for(var E=0;E<N.length;E++){var _=N[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,N,E){return N&&S(w.prototype,N),E&&S(w,E),w}}(),a=function S(w,N,E){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,N);if(_===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:S(A,N,E)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(E)}},l=s(35),c=p(l),u=s(5),d=p(u),h=s(9),f=p(h);function p(S){return S&&S.__esModule?S:{default:S}}function y(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function x(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function b(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var m=function(S){b(w,S);function w(){return y(this,w),x(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,null,[{key:"create",value:function(E){var _=a(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,E);return typeof E=="string"&&(window.katex.render(E,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",E)),_}},{key:"value",value:function(E){return E.getAttribute("data-value")}}]),w}(c.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var v=function(S){b(w,S),i(w,null,[{key:"register",value:function(){d.default.register(m,!0)}}]);function w(){y(this,w);var N=x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return w}(f.default);r.FormulaBlot=m,r.default=v},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var i=function(){function E(_,A){for(var C=0;C<A.length;C++){var j=A[C];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}return function(_,A,C){return A&&E(_.prototype,A),C&&E(_,C),_}}(),a=function E(_,A,C){_===null&&(_=Function.prototype);var j=Object.getOwnPropertyDescriptor(_,A);if(j===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:E(k,A,C)}else{if("value"in j)return j.value;var T=j.get;return T===void 0?void 0:T.call(C)}},l=s(0),c=x(l),u=s(5),d=x(u),h=s(9),f=x(h),p=s(13),y=x(p);function x(E){return E&&E.__esModule?E:{default:E}}function b(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function m(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function v(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var S=function(E){v(_,E);function _(){return b(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return i(_,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var j=this.domNode.textContent;this.cachedText!==j&&((j.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(j),this.domNode.normalize(),this.attach()),this.cachedText=j)}}]),_}(y.default);S.className="ql-syntax";var w=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),N=function(E){v(_,E),i(_,null,[{key:"register",value:function(){d.default.register(w,!0),d.default.register(S,!0)}}]);function _(A,C){b(this,_);var j=m(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,C));if(typeof j.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return j.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){j.highlight(),k=null},j.options.interval)}),j.highlight(),j}return i(_,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var j=this.quill.getSelection();this.quill.scroll.descendants(S).forEach(function(k){k.highlight(C.options.highlight)}),this.quill.update(d.default.sources.SILENT),j!=null&&this.quill.setSelection(j,d.default.sources.SILENT)}}}]),_}(f.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(E){var _=window.hljs.highlightAuto(E);return _.value}}(),interval:1e3},r.CodeBlock=S,r.CodeToken=w,r.default=N},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var i=function _(A,C,j){A===null&&(A=Function.prototype);var k=Object.getOwnPropertyDescriptor(A,C);if(k===void 0){var T=Object.getPrototypeOf(A);return T===null?void 0:_(T,C,j)}else{if("value"in k)return k.value;var P=k.get;return P===void 0?void 0:P.call(j)}},a=function(){function _(A,C){for(var j=0;j<C.length;j++){var k=C[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,k.key,k)}}return function(A,C,j){return C&&_(A.prototype,C),j&&_(A,j),A}}(),l=s(3),c=b(l),u=s(8),d=b(u),h=s(43),f=b(h),p=s(15),y=s(41),x=b(y);function b(_){return _&&_.__esModule?_:{default:_}}function m(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function v(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function S(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(_){S(A,_);function A(C,j){m(this,A),j.modules.toolbar!=null&&j.modules.toolbar.container==null&&(j.modules.toolbar.container=w);var k=v(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C,j));return k.quill.container.classList.add("ql-bubble"),k}return a(A,[{key:"extendToolbar",value:function(j){this.tooltip=new E(this.quill,this.options.bounds),this.tooltip.root.appendChild(j.container),this.buildButtons([].slice.call(j.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(j.container.querySelectorAll("select")),x.default)}}]),A}(f.default);N.DEFAULTS=(0,c.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){A?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var E=function(_){S(A,_);function A(C,j){m(this,A);var k=v(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C,j));return k.quill.on(d.default.events.EDITOR_CHANGE,function(T,P,R,M){if(T===d.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&M===d.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var V=k.quill.getLines(P.index,P.length);if(V.length===1)k.position(k.quill.getBounds(P));else{var U=V[V.length-1],W=k.quill.getIndex(U),q=Math.min(U.length()-1,P.index+P.length-W),$=k.quill.getBounds(new p.Range(W,q));k.position($)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return a(A,[{key:"listen",value:function(){var j=this;i(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){j.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!j.root.classList.contains("ql-hidden")){var k=j.quill.getSelection();k!=null&&j.position(j.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(j){var k=i(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"position",this).call(this,j),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",k===0)return k;T.style.marginLeft=-1*k-T.offsetWidth/2+"px"}}]),A}(h.BaseTooltip);E.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=E,r.default=N},function(t,r,s){t.exports=s(63)}]).default})})(k5);var mK=k5.exports,gK=Gn&&Gn.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)s.hasOwnProperty(i)&&(r[i]=s[i])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hy=Gn&&Gn.__assign||function(){return hy=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},hy.apply(this,arguments)},yK=Gn&&Gn.__spreadArrays||function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),s=0,e=0;e<t;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,s++)r[s]=i[a];return r},t1=Gn&&Gn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},Yr=t1(L),vK=t1(DC),Xd=t1(pK),C3=t1(mK),xK=function(n){gK(e,n);function e(t){var r=n.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(i,a,l,c){var u,d,h,f;i==="text-change"?(d=(u=r).onEditorChangeText)===null||d===void 0||d.call(u,r.editor.root.innerHTML,a,c,r.unprivilegedEditor):i==="selection-change"&&((f=(h=r).onEditorChangeSelection)===null||f===void 0||f.call(h,a,c,r.unprivilegedEditor))};var s=r.isControlled()?t.value:t.defaultValue;return r.value=s??"",r}return e.prototype.validateProps=function(t){var r;if(Yr.default.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Yr.default.Children.count(t.children)){var s=Yr.default.Children.only(t.children);if(((r=s)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(t,r){var s=this,i;if(this.validateProps(t),!this.editor||this.state.generation!==r.generation)return!0;if("value"in t){var a=this.getEditorContents(),l=(i=t.value,i??"");this.isEqualValue(l,a)||this.setEditorContents(this.editor,l)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),yK(this.cleanProps,this.dirtyProps).some(function(c){return!Xd.default(t[c],s.props[c])})},e.prototype.shouldComponentRegenerate=function(t){var r=this;return this.dirtyProps.some(function(s){return!Xd.default(t[s],r.props[s])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(t,r){var s=this;if(this.editor&&this.shouldComponentRegenerate(t)){var i=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var l=this.regenerationSnapshot,i=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(i),P3(function(){return s.setEditorSelection(u,c)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(t,r){var s=new C3.default(t,r);return r.tabIndex!=null&&this.setEditorTabIndex(s,r.tabIndex),this.hookEditor(s),s},e.prototype.hookEditor=function(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(t){t.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(t){return t&&t.ops},e.prototype.isEqualValue=function(t,r){return this.isDelta(t)&&this.isDelta(r)?Xd.default(t.ops,r.ops):Xd.default(t,r)},e.prototype.setEditorContents=function(t,r){var s=this;this.value=r;var i=this.getEditorSelection();typeof r=="string"?t.setContents(t.clipboard.convert(r)):t.setContents(r),P3(function(){return s.setEditorSelection(t,i)})},e.prototype.setEditorSelection=function(t,r){if(this.selection=r,r){var s=t.getLength();r.index=Math.max(0,Math.min(r.index,s-1)),r.length=Math.max(0,Math.min(r.length,s-1-r.index)),t.setSelection(r)}},e.prototype.setEditorTabIndex=function(t,r){var s,i;!((i=(s=t)===null||s===void 0?void 0:s.scroll)===null||i===void 0)&&i.domNode&&(t.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(t,r){r?t.disable():t.enable()},e.prototype.makeUnprivilegedEditor=function(t){var r=t;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var t=vK.default.findDOMNode(this.editingArea);if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t},e.prototype.renderEditingArea=function(){var t=this,r=this.props,s=r.children,i=r.preserveWhitespace,a=this.state.generation,l={key:a,ref:function(c){t.editingArea=c}};return Yr.default.Children.count(s)?Yr.default.cloneElement(Yr.default.Children.only(s),l):i?Yr.default.createElement("pre",hy({},l)):Yr.default.createElement("div",hy({},l))},e.prototype.render=function(){var t;return Yr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(t=this.props.className,t??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(t,r,s,i){var a,l;if(this.editor){var c=this.isDelta(this.value)?i.getContents():i.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=c,(l=(a=this.props).onChange)===null||l===void 0||l.call(a,t,r,s,i))}},e.prototype.onEditorChangeSelection=function(t,r,s){var i,a,l,c,u,d;if(this.editor){var h=this.getEditorSelection(),f=!h&&t,p=h&&!t;Xd.default(t,h)||(this.selection=t,(a=(i=this.props).onChangeSelection)===null||a===void 0||a.call(i,t,r,s),f?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,t,r,s):p&&((d=(u=this.props).onBlur)===null||d===void 0||d.call(u,h,r,s)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=C3.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Yr.default.Component);function P3(n){Promise.resolve().then(n)}var bK=xK;const n1=vd(bK);function wK({value:n,onChange:e}){const t={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","blockquote"],[{color:[]}],["clean"]]};return o.jsxs("div",{className:"text-editor-container",children:[o.jsx(n1,{theme:"snow",value:n,onChange:e,modules:t,className:"bg-white text-gray-900"}),o.jsx("style",{jsx:!0,children:`
        .text-editor-container :global(.ql-editor) {
          min-height: 200px;
          color: #111827;
        }
        .text-editor-container :global(.ql-editor p) {
          color: #111827;
        }
        .text-editor-container :global(.ql-container) {
          font-size: 1rem;
          border-bottom-left-radius: 0.5rem;
          border-bottom-right-radius: 0.5rem;
        }
        .text-editor-container :global(.ql-toolbar) {
          border-top-left-radius: 0.5rem;
          border-top-right-radius: 0.5rem;
          background-color: #f9fafb;
        }
        .text-editor-container :global(.ql-editor.ql-blank::before) {
          color: #9CA3AF;
        }
      `})]})}function SK(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function L3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(t),!0).forEach(function(r){SK(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function NK(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function AK(n,e){if(n==null)return{};var t=NK(n,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function jK(n,e){return EK(n)||_K(n,e)||kK(n,e)||TK()}function EK(n){if(Array.isArray(n))return n}function _K(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],r=!0,s=!1,i=void 0;try{for(var a=n[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(t.push(l.value),!(e&&t.length===e));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(s)throw i}}return t}}function kK(n,e){if(n){if(typeof n=="string")return R3(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R3(n,e)}}function R3(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function TK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CK(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function D3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(t),!0).forEach(function(r){CK(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function PK(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduceRight(function(s,i){return i(s)},r)}}function oh(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=n.length?n.apply(this,s):function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e.apply(t,[].concat(s,l))}}}function fy(n){return{}.toString.call(n).includes("Object")}function OK(n){return!Object.keys(n).length}function gf(n){return typeof n=="function"}function LK(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function RK(n,e){return fy(e)||Pa("changeType"),Object.keys(e).some(function(t){return!LK(n,t)})&&Pa("changeField"),e}function MK(n){gf(n)||Pa("selectorType")}function DK(n){gf(n)||fy(n)||Pa("handlerType"),fy(n)&&Object.values(n).some(function(e){return!gf(e)})&&Pa("handlersType")}function IK(n){n||Pa("initialIsRequired"),fy(n)||Pa("initialType"),OK(n)&&Pa("initialContent")}function FK(n,e){throw new Error(n[e]||n.default)}var BK={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Pa=oh(FK)(BK),mg={changes:RK,selector:MK,handler:DK,initial:IK};function $K(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mg.initial(n),mg.handler(e);var t={current:n},r=oh(VK)(t,e),s=oh(UK)(t),i=oh(mg.changes)(n),a=oh(zK)(t);function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return mg.selector(u),u(t.current)}function c(u){PK(r,s,i,a)(u)}return[l,c]}function zK(n,e){return gf(e)?e(n.current):e}function UK(n,e){return n.current=D3(D3({},n.current),e),e}function VK(n,e,t){return gf(e)?e(n.current):Object.keys(t).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,n.current[r])}),t}var HK={create:$K},qK={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function WK(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=n.length?n.apply(this,s):function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e.apply(t,[].concat(s,l))}}}function GK(n){return{}.toString.call(n).includes("Object")}function KK(n){return n||I3("configIsRequired"),GK(n)||I3("configType"),n.urls?(XK(),{paths:{vs:n.urls.monacoBase}}):n}function XK(){console.warn(T5.deprecation)}function YK(n,e){throw new Error(n[e]||n.default)}var T5={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},I3=WK(YK)(T5),QK={config:KK},JK=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(i,a){return a(i)},s)}};function C5(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],C5(n[t],e[t]))}),L3(L3({},n),e)}var ZK={type:"cancelation",msg:"operation is manually canceled"};function gb(n){var e=!1,t=new Promise(function(r,s){n.then(function(i){return e?s(ZK):r(i)}),n.catch(s)});return t.cancel=function(){return e=!0},t}var eX=HK.create({config:qK,isInitialized:!1,resolve:null,reject:null,monaco:null}),P5=jK(eX,2),Fm=P5[0],r1=P5[1];function tX(n){var e=QK.config(n),t=e.monaco,r=AK(e,["monaco"]);r1(function(s){return{config:C5(s.config,r),monaco:t}})}function nX(){var n=Fm(function(e){var t=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:t,isInitialized:r,resolve:s}});if(!n.isInitialized){if(r1({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),gb(yb);if(window.monaco&&window.monaco.editor)return O5(window.monaco),n.resolve(window.monaco),gb(yb);JK(rX,iX)(aX)}return gb(yb)}function rX(n){return document.body.appendChild(n)}function sX(n){var e=document.createElement("script");return n&&(e.src=n),e}function iX(n){var e=Fm(function(r){var s=r.config,i=r.reject;return{config:s,reject:i}}),t=sX("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function aX(){var n=Fm(function(t){var r=t.config,s=t.resolve,i=t.reject;return{config:r,resolve:s,reject:i}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){O5(t),n.resolve(t)},function(t){n.reject(t)})}function O5(n){Fm().monaco||r1({monaco:n})}function oX(){return Fm(function(n){var e=n.monaco;return e})}var yb=new Promise(function(n,e){return r1({resolve:n,reject:e})}),L5={config:tX,init:nX,__getMonacoInstance:oX},lX={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},vb=lX,cX={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},uX=cX;function dX({children:n}){return Qe.createElement("div",{style:uX.container},n)}var hX=dX,fX=hX;function pX({width:n,height:e,isEditorReady:t,loading:r,_ref:s,className:i,wrapperProps:a}){return Qe.createElement("section",{style:{...vb.wrapper,width:n,height:e},...a},!t&&Qe.createElement(fX,null,r),Qe.createElement("div",{ref:s,style:{...vb.fullWidth,...!t&&vb.hide},className:i}))}var mX=pX,R5=L.memo(mX);function gX(n){L.useEffect(n,[])}var M5=gX;function yX(n,e,t=!0){let r=L.useRef(!0);L.useEffect(r.current||!t?()=>{r.current=!1}:n,e)}var Wn=yX;function zh(){}function bc(n,e,t,r){return vX(n,r)||xX(n,e,t,r)}function vX(n,e){return n.editor.getModel(D5(n,e))}function xX(n,e,t,r){return n.editor.createModel(e,t,r?D5(n,r):void 0)}function D5(n,e){return n.Uri.parse(e)}function bX({original:n,modified:e,language:t,originalLanguage:r,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:d="Loading...",options:h={},height:f="100%",width:p="100%",className:y,wrapperProps:x={},beforeMount:b=zh,onMount:m=zh}){let[v,S]=L.useState(!1),[w,N]=L.useState(!0),E=L.useRef(null),_=L.useRef(null),A=L.useRef(null),C=L.useRef(m),j=L.useRef(b),k=L.useRef(!1);M5(()=>{let M=L5.init();return M.then(V=>(_.current=V)&&N(!1)).catch(V=>(V==null?void 0:V.type)!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>E.current?R():M.cancel()}),Wn(()=>{if(E.current&&_.current){let M=E.current.getOriginalEditor(),V=bc(_.current,n||"",r||t||"text",i||"");V!==M.getModel()&&M.setModel(V)}},[i],v),Wn(()=>{if(E.current&&_.current){let M=E.current.getModifiedEditor(),V=bc(_.current,e||"",s||t||"text",a||"");V!==M.getModel()&&M.setModel(V)}},[a],v),Wn(()=>{let M=E.current.getModifiedEditor();M.getOption(_.current.editor.EditorOption.readOnly)?M.setValue(e||""):e!==M.getValue()&&(M.executeEdits("",[{range:M.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),M.pushUndoStop())},[e],v),Wn(()=>{var M,V;(V=(M=E.current)==null?void 0:M.getModel())==null||V.original.setValue(n||"")},[n],v),Wn(()=>{let{original:M,modified:V}=E.current.getModel();_.current.editor.setModelLanguage(M,r||t||"text"),_.current.editor.setModelLanguage(V,s||t||"text")},[t,r,s],v),Wn(()=>{var M;(M=_.current)==null||M.editor.setTheme(u)},[u],v),Wn(()=>{var M;(M=E.current)==null||M.updateOptions(h)},[h],v);let T=L.useCallback(()=>{var U;if(!_.current)return;j.current(_.current);let M=bc(_.current,n||"",r||t||"text",i||""),V=bc(_.current,e||"",s||t||"text",a||"");(U=E.current)==null||U.setModel({original:M,modified:V})},[t,e,s,n,r,i,a]),P=L.useCallback(()=>{var M;!k.current&&A.current&&(E.current=_.current.editor.createDiffEditor(A.current,{automaticLayout:!0,...h}),T(),(M=_.current)==null||M.editor.setTheme(u),S(!0),k.current=!0)},[h,u,T]);L.useEffect(()=>{v&&C.current(E.current,_.current)},[v]),L.useEffect(()=>{!w&&!v&&P()},[w,v,P]);function R(){var V,U,W,q;let M=(V=E.current)==null?void 0:V.getModel();l||((U=M==null?void 0:M.original)==null||U.dispose()),c||((W=M==null?void 0:M.modified)==null||W.dispose()),(q=E.current)==null||q.dispose()}return Qe.createElement(R5,{width:p,height:f,isEditorReady:v,loading:d,_ref:A,className:y,wrapperProps:x})}var wX=bX;L.memo(wX);function SX(n){let e=L.useRef();return L.useEffect(()=>{e.current=n},[n]),e.current}var NX=SX,gg=new Map;function AX({defaultValue:n,defaultLanguage:e,defaultPath:t,value:r,language:s,path:i,theme:a="light",line:l,loading:c="Loading...",options:u={},overrideServices:d={},saveViewState:h=!0,keepCurrentModel:f=!1,width:p="100%",height:y="100%",className:x,wrapperProps:b={},beforeMount:m=zh,onMount:v=zh,onChange:S,onValidate:w=zh}){let[N,E]=L.useState(!1),[_,A]=L.useState(!0),C=L.useRef(null),j=L.useRef(null),k=L.useRef(null),T=L.useRef(v),P=L.useRef(m),R=L.useRef(),M=L.useRef(r),V=NX(i),U=L.useRef(!1),W=L.useRef(!1);M5(()=>{let D=L5.init();return D.then(B=>(C.current=B)&&A(!1)).catch(B=>(B==null?void 0:B.type)!=="cancelation"&&console.error("Monaco initialization: error:",B)),()=>j.current?$():D.cancel()}),Wn(()=>{var B,H,X,K;let D=bc(C.current,n||r||"",e||s||"",i||t||"");D!==((B=j.current)==null?void 0:B.getModel())&&(h&&gg.set(V,(H=j.current)==null?void 0:H.saveViewState()),(X=j.current)==null||X.setModel(D),h&&((K=j.current)==null||K.restoreViewState(gg.get(i))))},[i],N),Wn(()=>{var D;(D=j.current)==null||D.updateOptions(u)},[u],N),Wn(()=>{!j.current||r===void 0||(j.current.getOption(C.current.editor.EditorOption.readOnly)?j.current.setValue(r):r!==j.current.getValue()&&(W.current=!0,j.current.executeEdits("",[{range:j.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),j.current.pushUndoStop(),W.current=!1))},[r],N),Wn(()=>{var B,H;let D=(B=j.current)==null?void 0:B.getModel();D&&s&&((H=C.current)==null||H.editor.setModelLanguage(D,s))},[s],N),Wn(()=>{var D;l!==void 0&&((D=j.current)==null||D.revealLine(l))},[l],N),Wn(()=>{var D;(D=C.current)==null||D.editor.setTheme(a)},[a],N);let q=L.useCallback(()=>{var D;if(!(!k.current||!C.current)&&!U.current){P.current(C.current);let B=i||t,H=bc(C.current,r||n||"",e||s||"",B||"");j.current=(D=C.current)==null?void 0:D.editor.create(k.current,{model:H,automaticLayout:!0,...u},d),h&&j.current.restoreViewState(gg.get(B)),C.current.editor.setTheme(a),l!==void 0&&j.current.revealLine(l),E(!0),U.current=!0}},[n,e,t,r,s,i,u,d,h,a,l]);L.useEffect(()=>{N&&T.current(j.current,C.current)},[N]),L.useEffect(()=>{!_&&!N&&q()},[_,N,q]),M.current=r,L.useEffect(()=>{var D,B;N&&S&&((D=R.current)==null||D.dispose(),R.current=(B=j.current)==null?void 0:B.onDidChangeModelContent(H=>{W.current||S(j.current.getValue(),H)}))},[N,S]),L.useEffect(()=>{if(N){let D=C.current.editor.onDidChangeMarkers(B=>{var X;let H=(X=j.current.getModel())==null?void 0:X.uri;if(H&&B.find(K=>K.path===H.path)){let K=C.current.editor.getModelMarkers({resource:H});w==null||w(K)}});return()=>{D==null||D.dispose()}}return()=>{}},[N,w]);function $(){var D,B;(D=R.current)==null||D.dispose(),f?h&&gg.set(i,j.current.saveViewState()):(B=j.current.getModel())==null||B.dispose(),j.current.dispose()}return Qe.createElement(R5,{width:p,height:y,isEditorReady:N,loading:c,_ref:k,className:x,wrapperProps:b})}var jX=AX,EX=L.memo(jX),EA=EX;function _X({value:n,onChange:e}){const[t,r]=L.useState("javascript");return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{value:t,onChange:s=>r(s.target.value),className:"p-2 border rounded",children:[o.jsx("option",{value:"javascript",children:"JavaScript"}),o.jsx("option",{value:"python",children:"Python"}),o.jsx("option",{value:"java",children:"Java"}),o.jsx("option",{value:"cpp",children:"C++"})]}),o.jsx(EA,{height:"200px",language:t,value:n,onChange:e,theme:"vs-dark",options:{minimap:{enabled:!1}}})]})}const gd=async(n,e="auto")=>{var t;try{const r=new FormData;r.append("file",n),r.append("upload_preset","tdc_preset"),r.append("cloud_name","dl4zkgesn");const s=n.type;let i=e;(s.includes("pdf")||s.includes("document")||s.includes("application"))&&(i="raw");const a=await fetch(`https://api.cloudinary.com/v1_1/dl4zkgesn/${i}/upload`,{method:"POST",body:r});if(!a.ok){const c=await a.json();throw console.error("Cloudinary error:",c),new Error(((t=c.error)==null?void 0:t.message)||"Upload failed")}const l=await a.json();return console.log("Upload successful:",l),l.secure_url}catch(r){throw console.error("Error uploading to Cloudinary:",r),r}};function kX({value:n,onChange:e}){const[t,r]=L.useState(!1),[s,i]=L.useState(""),a=async c=>{const u=c.target.files[0];if(u)try{r(!0),i("");const d=await gd(u,"image");e(d)}catch(d){console.error("Error uploading image:",d),i("Failed to upload image. Please try again.")}finally{r(!1)}},l=()=>{e("")};return o.jsxs("div",{className:"space-y-4",children:[n?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:n,alt:"Uploaded content",className:"w-full rounded-lg shadow-md"}),o.jsx("button",{type:"button",onClick:l,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:o.jsx(js,{className:"w-5 h-5"})})]}):o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:o.jsx("div",{className:"flex flex-col items-center",children:t?o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx(Yt,{size:"small"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Uploading image..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(YD,{className:"w-8 h-8 text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Drag and drop an image, or click to select"}),o.jsx("input",{type:"file",accept:"image/*",onChange:a,className:`block w-full text-sm text-gray-500\r
                    file:mr-4 file:py-2 file:px-4\r
                    file:rounded-full file:border-0\r
                    file:text-sm file:font-semibold\r
                    file:bg-blue-50 file:text-blue-700\r
                    hover:file:bg-blue-100`})]})})}),s&&o.jsx("p",{className:"text-sm text-red-500 mt-2",children:s})]})}function TX({value:n,onChange:e}){const[t,r]=L.useState(""),[s,i]=L.useState("");L.useEffect(()=>{if(n){const u=n.split("/").pop();r(`https://www.youtube.com/watch?v=${u}`)}},[n]);const a=u=>{var d,h;try{if(u.includes("youtube.com/watch"))return new URLSearchParams(new URL(u).search).get("v");if(u.includes("youtu.be"))return(d=u.split("youtu.be/")[1])==null?void 0:d.split("?")[0];if(u.includes("youtube.com/embed/"))return(h=u.split("embed/")[1])==null?void 0:h.split("?")[0]}catch(f){return console.error("Error parsing YouTube URL:",f),null}return null},l=()=>{if(console.log("Embed button clicked"),i(""),!t.trim()){console.log("Empty URL"),i("Please enter a YouTube URL");return}try{const u=a(t);if(console.log("Attempting to parse URL:",t),console.log("Extracted Video ID:",u),!u){console.log("Invalid video ID"),i("Please enter a valid YouTube URL");return}const d=`https://www.youtube.com/embed/${u}`;console.log("Generated embed URL:",d),e(d),console.log("Embed URL set successfully")}catch(u){console.error("Error in handleEmbed:",u),i("An error occurred while processing the URL")}},c=u=>{r(u.target.value),i("")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("input",{type:"text",value:t,onChange:c,placeholder:"Paste YouTube video URL here... (e.g., https://www.youtube.com/watch?v=xxxxx)",className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),s&&o.jsxs("div",{className:"mt-2 flex items-center text-red-500 text-sm",children:[o.jsx(i4,{className:"w-4 h-4 mr-1"}),s]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Embed Video"})})]}),n&&o.jsx("div",{className:"relative pt-[56.25%] rounded-lg overflow-hidden bg-gray-100",children:o.jsx("iframe",{src:n,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute top-0 left-0 w-full h-full border-0"})})]})}function CX(){const n=Ue(),{authState:e}=kx(),[t,r]=L.useState("Untitled Post"),[s,i]=L.useState([]),[a,l]=L.useState(!1),[c,u]=L.useState(!1),[d,h]=L.useState([]),[f,p]=L.useState([]),[y,x]=L.useState({url:"",alt:""}),[b,m]=L.useState(!1),[v,S]=L.useState(""),w=["Featured","New","Popular","Trending"],N=["Power BI","Python","Data Science","Machine Learning","SQL","Data Analytics","NumPy","Pandas","Azure","AWS","Database","Big Data","Data Engineering","Data Visualization"];L.useEffect(()=>{(()=>{console.log("Checking auth state:",e),(!e.isAuthenticated||!e.isAdmin)&&(console.log("User not authenticated or not admin"),n("/admin/login"))})()},[e,n]);const E=P=>{i([...s,{type:P,id:Date.now(),content:""}]),l(!1)},_=(P,R)=>{console.log("Updating section:",P,R),i(s.map(M=>M.id===P?{...M,content:R}:M))},A=P=>{i(s.filter(R=>R.id!==P))},C=async P=>{const R=P.target.files[0];if(R)try{m(!0);const M=await gd(R,"image");x({url:M,alt:t||"Blog banner"})}catch(M){console.error("Error uploading banner:",M),alert("Failed to upload banner image. Please try again.")}finally{m(!1)}},j=async P=>{P.preventDefault(),P.stopPropagation();const R=[];if(t.trim()||R.push("Title is required"),v.trim()||R.push("Author name is required"),y.url||R.push("Banner image is required"),d.length===0&&R.push("Please select at least one tag"),f.length===0&&R.push("Please select at least one topic"),s.length===0&&R.push("Please add at least one content section"),R.length>0){alert(R.join(`
`));return}try{console.log("Submitting blog post with data:",{title:t,authorName:v,bannerImage:y,sections:s,tags:d,topics:f});const M=localStorage.getItem("adminToken");if(console.log("Using token:",M),!M){console.log("No admin token found"),n("/admin/login");return}const V=s.map(q=>({type:q.type,content:q.type==="image"?{url:q.content,caption:q.caption||""}:q.content}));console.log("Sending request with token:",M);const U=await fetch(`${de}/api/admin/blog-posts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({title:t.trim(),authorName:v.trim(),bannerImage:y,sections:V,tags:d,topics:f})});console.log("Response status:",U.status);const W=await U.json();if(console.log("Response data:",W),U.ok)alert("Blog post created successfully!"),r(""),i([]),n("/admin/dashboard");else throw new Error(W.message||"Failed to create blog post")}catch(M){console.error("Error creating blog post:",M),alert(M.message||"Failed to create blog post. Please try again.")}},k=()=>{t.trim()||r("Untitled Post"),u(!1)},T=({value:P,onChange:R})=>{const[M,V]=L.useState((P==null?void 0:P.text)||""),[U,W]=L.useState((P==null?void 0:P.url)||""),q=()=>{R({text:M.trim(),url:U.trim()})};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative",children:o.jsx("input",{type:"text",value:M,onChange:$=>V($.target.value),onBlur:q,placeholder:"Enter button text",className:"w-full px-4 py-3 bg-gray-800 text-white placeholder-gray-400 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})}),o.jsx("div",{className:"relative",children:o.jsx("input",{type:"url",value:U,onChange:$=>W($.target.value),onBlur:q,placeholder:"Enter button URL (e.g., https://example.com)",className:"w-full px-4 py-3 bg-gray-800 text-white placeholder-gray-400 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})}),(M||U)&&o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Preview:"}),o.jsx("button",{type:"button",className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:M||"Button Text"})]})]})};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[o.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center py-6",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>n("/admin/dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(yr,{className:"w-6 h-6 text-gray-600"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Blog Post"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:()=>n("/admin/dashboard"),className:"px-5 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),o.jsx(Y.button,{type:"submit",form:"blog-form",whileHover:{scale:1.02},whileTap:{scale:.98},className:`px-5 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 shadow-sm hover:shadow transition-all duration-200
                  ${!y.url||!v.trim()||d.length===0||f.length===0?"bg-gray-400 cursor-not-allowed":""}`,disabled:!y.url||!v.trim()||d.length===0||f.length===0,children:"Publish Post"})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:o.jsxs("form",{id:"blog-form",onSubmit:j,className:"divide-y divide-gray-100",children:[o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"flex items-center justify-between group",children:[c?o.jsx("input",{type:"text",value:t,onChange:P=>r(P.target.value),onBlur:k,onKeyPress:P=>P.key==="Enter"&&k(),autoFocus:!0,className:"w-full text-4xl font-bold text-gray-900 border-b-2 border-purple-500 focus:outline-none bg-gray-50 px-2 py-1 rounded",placeholder:"Enter your post title..."}):o.jsx("h2",{className:"text-4xl font-bold text-gray-900 px-2 py-1",children:t}),o.jsx("button",{type:"button",onClick:()=>c?k():u(!0),className:"ml-4 p-2 text-gray-400 hover:text-purple-600 rounded-full hover:bg-purple-50 transition-colors opacity-0 group-hover:opacity-100",children:c?o.jsx(Y0,{className:"w-5 h-5"}):o.jsx(l4,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Author Name"}),o.jsx("span",{className:"text-red-500 text-sm",children:"*Required"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",value:v,onChange:P=>S(P.target.value),placeholder:"Enter author name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),!v.trim()&&o.jsx("p",{className:"text-sm text-red-500",children:"Please enter the author name"})]})]}),o.jsxs("div",{className:"p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Blog Banner Image"}),o.jsx("span",{className:"text-red-500 text-sm",children:"*Required"})]}),o.jsx("div",{className:"space-y-4",children:y.url?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:y.url,alt:y.alt,className:"w-full h-64 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>x({url:"",alt:""}),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:o.jsx(js,{className:"w-5 h-5"})})]}):o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:o.jsx("div",{className:"flex flex-col items-center",children:b?o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx(Yt,{size:"small"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Uploading banner..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(yE,{className:"w-8 h-8 text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload a banner image for your blog"}),o.jsx("input",{type:"file",accept:"image/*",onChange:C,className:`block w-full text-sm text-gray-500
                              file:mr-4 file:py-2 file:px-4
                              file:rounded-full file:border-0
                              file:text-sm file:font-semibold
                              file:bg-blue-50 file:text-blue-700
                              hover:file:bg-blue-100`})]})})})})]}),o.jsxs("div",{className:"p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tags"}),o.jsx("span",{className:"text-red-500 text-sm",children:"*Required"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(P=>o.jsx("button",{type:"button",onClick:()=>{h(R=>R.includes(P)?R.filter(M=>M!==P):[...R,P])},className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200
                        ${d.includes(P)?"bg-blue-600 text-white shadow-md scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:P},P))}),d.length===0&&o.jsx("p",{className:"text-sm text-red-500",children:"Please select at least one tag"})]})]}),o.jsxs("div",{className:"p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Topics"}),o.jsx("span",{className:"text-red-500 text-sm",children:"*Required"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(P=>o.jsx("button",{type:"button",onClick:()=>{p(R=>R.includes(P)?R.filter(M=>M!==P):[...R,P])},className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200
                        ${f.includes(P)?"bg-blue-600 text-white shadow-md scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:P},P))}),f.length===0&&o.jsx("p",{className:"text-sm text-red-500",children:"Please select at least one topic"})]})]}),o.jsxs("div",{className:"p-8 space-y-8",children:[s.map(P=>o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative bg-gray-50 rounded-xl p-6 border border-gray-200 hover:border-purple-200 transition-colors duration-200",children:[o.jsx("button",{onClick:()=>A(P.id),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-red-500 rounded-full hover:bg-white transition-all duration-200",children:o.jsx(js,{className:"w-5 h-5"})}),o.jsxs("div",{className:"mb-2 text-sm font-medium text-gray-500",children:[P.type==="text"&&"Text Content",P.type==="code"&&"Code Block",P.type==="image"&&"Image Upload",P.type==="video"&&"Video Embed",P.type==="callToAction"&&"Call to Action"]}),P.type==="text"&&o.jsx(wK,{value:P.content,onChange:R=>_(P.id,R)}),P.type==="code"&&o.jsx(_X,{value:P.content,onChange:R=>_(P.id,R)}),P.type==="image"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(kX,{value:P.content,onChange:R=>_(P.id,R)}),o.jsx("input",{type:"text",placeholder:"Add image caption (optional)",value:P.caption||"",onChange:R=>{const M=s.map(V=>V.id===P.id?{...V,caption:R.target.value}:V);i(M)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),P.type==="video"&&o.jsx(TX,{value:P.content,onChange:R=>_(P.id,R)}),P.type==="callToAction"&&o.jsx(T,{value:P.content,onChange:R=>_(P.id,R)})]},P.id)),o.jsxs("div",{className:"relative",children:[o.jsxs(Y.button,{type:"button",onClick:()=>l(!a),className:"flex items-center space-x-2 px-5 py-3 text-purple-600 bg-purple-50 border-2 border-purple-200 rounded-lg hover:bg-purple-100 hover:border-purple-300 transition-all duration-200",children:[o.jsx(Ra,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Add Content"})]}),a&&o.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-xl shadow-xl border border-gray-200 p-3 z-10",children:[{type:"text",icon:XD,label:"Text Content",desc:"Add formatted text content"},{type:"code",icon:Ca,label:"Code Block",desc:"Add code with syntax highlighting"},{type:"image",icon:yE,label:"Image Upload",desc:"Upload and embed images"},{type:"video",icon:Rx,label:"Video Embed",desc:"Embed video content"},{type:"callToAction",icon:BD,label:"Call to Action",desc:"Add a custom action button"}].map(({type:P,icon:R,label:M,desc:V})=>o.jsxs(Y.button,{type:"button",onClick:()=>E(P),whileHover:{x:4},className:"flex items-start space-x-3 w-full p-3 hover:bg-purple-50 rounded-lg text-gray-700 transition-colors duration-200",children:[o.jsx(R,{className:"w-5 h-5 text-purple-500 mt-0.5"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:M}),o.jsx("div",{className:"text-sm text-gray-500",children:V})]})]},P))})]})]}),o.jsx("div",{className:"p-6 border-t border-gray-200",children:o.jsx("button",{type:"submit",className:`w-full px-6 py-3 text-white font-medium rounded-lg transition-all duration-200
                  ${!y.url||!v.trim()||d.length===0||f.length===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:!y.url||!v.trim()||d.length===0||f.length===0,children:"Publish Blog Post"})})]})})})]})}function py({isOpen:n,onClose:e,title:t,children:r}){return n?o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:o.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-75"})}),o.jsxs("div",{className:"inline-block align-bottom bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-700",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:t}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-300 transition-colors",children:o.jsx(js,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"px-6 py-4 bg-gray-800",children:r})]})]})}):null}function PX(){const[n,e]=L.useState([]),[t,r]=L.useState(!0),[s,i]=L.useState(null),a=Ue(),[l,c]=L.useState({show:!1,postId:null}),[u,d]=L.useState({show:!1,message:""});L.useEffect(()=>{h()},[]);const h=async()=>{try{const y=localStorage.getItem("adminToken"),x=await fetch(`${de}/api/blog-posts`,{headers:{Authorization:`Bearer ${y}`}});if(!x.ok)throw new Error("Failed to fetch posts");const b=await x.json();if(b.success){const m=b.posts.map(v=>({...v,views:v.views||0}));e(m)}else throw new Error(b.message||"Failed to fetch posts")}catch(y){console.error("[BlogPostList] Error fetching posts:",y),i("Failed to fetch posts")}finally{r(!1)}},f=y=>{c({show:!0,postId:y})},p=async()=>{try{const y=localStorage.getItem("adminToken"),b=await(await fetch(`${de}/api/blog-posts/${l.postId}`,{method:"DELETE",headers:{Authorization:`Bearer ${y}`}})).json();if(b.success)e(m=>m.filter(v=>v._id!==l.postId)),c({show:!1,postId:null}),d({show:!0,message:"Blog post deleted successfully"});else throw new Error(b.message||"Failed to delete blog post")}catch(y){console.error("Error deleting blog post:",y),d({show:!0,message:`Failed to delete blog post: ${y.message}`})}};return s?o.jsx(fi,{children:o.jsx("div",{className:"text-red-500 text-center p-4",children:s})}):t?o.jsx(fi,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})})}):o.jsxs(fi,{children:[o.jsx("div",{className:"min-h-screen bg-gray-900 p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Blog Posts"}),o.jsxs("button",{onClick:()=>a("/admin/create-post"),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[o.jsx(Ra,{className:"w-5 h-5 mr-2"}),"Create New Post"]})]}),o.jsxs("div",{className:"text-white mb-4",children:["Total Posts: ",n.length]}),o.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Author"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Views"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:n.map(y=>o.jsxs("tr",{className:"hover:bg-gray-700",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-300",children:y.title}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-300",children:y.authorNameFE||"Unknown Author"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-300",children:y.views}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-300",children:new Date(y.createdAt).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>a(`/admin/posts/${y._id}`),className:"text-blue-400 hover:text-blue-300",children:o.jsx(Cl,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>a(`/admin/edit-post/${y._id}`),className:"text-yellow-400 hover:text-yellow-300",children:o.jsx(Ox,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>f(y._id),className:"text-red-400 hover:text-red-300",children:o.jsx(Lx,{className:"w-5 h-5"})})]})})]},y._id))})]})}),n.length===0&&!t&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-400 text-lg",children:"No blog posts found"}),o.jsx("button",{onClick:()=>a("/admin/create-post"),className:"mt-4 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Create Your First Post"})]})]})}),o.jsx(py,{isOpen:l.show,onClose:()=>c({show:!1,postId:null}),title:"Confirm Delete",children:o.jsxs("div",{className:"text-gray-300",children:[o.jsx("p",{className:"mb-4",children:"Are you sure you want to delete this blog post? This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>c({show:!1,postId:null}),className:"px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})}),o.jsx(py,{isOpen:u.show,onClose:()=>d({show:!1,message:""}),title:"Notification",children:o.jsxs("div",{className:"text-gray-300",children:[o.jsx("p",{className:"mb-4",children:u.message}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>d({show:!1,message:""}),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Close"})})]})})]})}function OX(){const[n,e]=L.useState(null),[t,r]=L.useState(null),[s,i]=L.useState(!0),{postId:a}=Ai(),l=Ue();L.useEffect(()=>{c()},[a]);const c=async()=>{try{const y=await(await fetch(`${de}/api/blog-posts/${a}`)).json();y.success&&(e(y.post),r(y.post))}catch(p){console.error("Error fetching post:",p)}finally{i(!1)}},u=(p,y)=>{r(x=>({...x,sections:x.sections.map(b=>b._id===p?{...b,content:y}:b)}))},d=async p=>{try{const y=t.sections.find(v=>v._id===p),x=localStorage.getItem("adminToken"),m=await(await fetch(`${de}/api/blog-posts/${a}/sections/${p}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({content:y.content,type:y.type})})).json();m.success&&(e(m.post),alert("Section saved successfully!"))}catch(y){console.error("Error saving section:",y),alert("Failed to save section")}},h=async p=>{if(window.confirm("Are you sure you want to delete this section?"))try{const y=localStorage.getItem("adminToken"),b=await(await fetch(`${de}/api/blog-posts/${a}/sections/${p}`,{method:"DELETE",headers:{Authorization:`Bearer ${y}`}})).json();b.success&&(r(m=>({...m,sections:m.sections.filter(v=>v._id!==p)})),e(b.post),alert("Section deleted successfully!"))}catch(y){console.error("Error deleting section:",y),alert("Failed to delete section")}},f=(p,y)=>{const x=n.sections.find(m=>m._id===p._id&&m.content!==p.content),b=o.jsxs("div",{className:"flex justify-end space-x-2 mb-2",children:[x&&o.jsxs("button",{onClick:()=>d(p._id),className:"flex items-center px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:[o.jsx(Px,{className:"w-4 h-4 mr-1"}),"Save Changes"]}),o.jsxs("button",{onClick:()=>h(p._id),className:"flex items-center px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:[o.jsx(Lx,{className:"w-4 h-4 mr-1"}),"Delete"]})]});switch(p.type){case"text":return o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2 text-gray-200",children:["Text Section ",y+1]}),b,o.jsx(n1,{theme:"snow",value:p.content,onChange:m=>u(p._id,m),className:"bg-white text-gray-900 rounded-lg",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","code-block"],["clean"]]}})]},p._id);case"code":return o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2 text-gray-200",children:["Code Section ",y+1]}),b,o.jsx("div",{className:"h-[400px] border border-gray-600 rounded-lg overflow-hidden bg-[#1e1e1e]",children:o.jsx(EA,{height:"100%",defaultLanguage:"javascript",theme:"vs-dark",value:p.content,onChange:m=>u(p._id,m),options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on"}})})]},p._id);case"image":return o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2 text-gray-200",children:["Image Section ",y+1]}),b,o.jsx("input",{type:"text",value:p.content,onChange:m=>u(p._id,m.target.value),className:"w-full p-2 bg-white text-gray-900 rounded-lg border border-gray-300",placeholder:"Image URL"}),p.content&&o.jsx("img",{src:p.content,alt:"Preview",className:"mt-2 max-w-full h-auto rounded-lg"})]},p._id);default:return null}};return s?o.jsx(fi,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})})}):t?o.jsx(fi,{children:o.jsx("div",{className:"min-h-screen bg-gray-900 p-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("button",{onClick:()=>l("/admin/posts"),className:"flex items-center mb-6 text-gray-300 hover:text-white transition-colors",children:[o.jsx(yr,{className:"w-5 h-5 mr-2"}),"Back to Posts"]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Edit Blog Post"}),o.jsx("input",{type:"text",value:t.title,onChange:p=>r({...t,title:p.target.value}),className:"w-full p-3 bg-white text-gray-900 rounded-lg border border-gray-300"})]}),o.jsx("div",{className:"space-y-8",children:t.sections.map((p,y)=>f(p,y))}),o.jsx("div",{className:"mt-8 flex justify-end space-x-4",children:o.jsx("button",{onClick:()=>l("/admin/posts"),className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600",children:"Cancel"})})]})})}):o.jsx(fi,{children:o.jsx("div",{className:"text-center text-white",children:"Post not found"})})}function LX(){var d,h;const{postId:n}=Ai(),e=Ue(),[t,r]=L.useState(null),[s,i]=L.useState(!0),[a,l]=L.useState(null);L.useEffect(()=>{c()},[n]);const c=async()=>{try{const p=await(await fetch(`${de}/api/blog-posts/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}})).json();p.success&&r(p.post)}catch(f){console.error("Error fetching post:",f),l("Failed to fetch post")}finally{i(!1)}},u=f=>{switch(f.type){case"text":return o.jsx("div",{className:"prose prose-invert max-w-none",children:o.jsx(n1,{value:f.content,readOnly:!0,theme:"bubble"})});case"code":return o.jsx("pre",{className:"bg-gray-700 text-gray-100 p-4 rounded-lg overflow-x-auto",children:o.jsx("code",{children:f.content})});case"image":return o.jsx("img",{src:f.content,alt:"Blog content",className:"w-full rounded-lg"});case"video":return o.jsx("div",{className:"aspect-w-16 aspect-h-9",children:o.jsx("iframe",{src:f.content,title:"Embedded video",allowFullScreen:!0,className:"w-full rounded-lg"})});default:return null}};return s?o.jsx(fi,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})})}):t?o.jsx(fi,{children:o.jsx("div",{className:"min-h-screen bg-gray-900 p-8",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("button",{onClick:()=>e("/admin/posts"),className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[o.jsx(yr,{className:"w-5 h-5 mr-2"}),"Back to Posts"]}),o.jsxs("button",{onClick:()=>e(`/admin/edit-post/${n}`),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[o.jsx(Ox,{className:"w-5 h-5 mr-2"}),"Edit Post"]})]}),o.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-xl p-8 space-y-8",children:[o.jsxs("div",{className:"border-b border-gray-700 pb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:t.title}),o.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[o.jsxs("span",{children:["By ",(d=t.author)==null?void 0:d.firstName," ",(h=t.author)==null?void 0:h.lastName]}),o.jsx("span",{className:"mx-2",children:""}),o.jsx("span",{children:new Date(t.createdAt).toLocaleDateString()})]})]}),o.jsx("div",{className:"space-y-8",children:t.sections.map((f,p)=>o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Section ",p+1," - ",f.type]})}),u(f)]},f._id))})]})]})})}):null}let RX={data:""},MX=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||RX,DX=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,IX=/\/\*[^]*?\*\/|  +/g,F3=/\n+/g,Di=(n,e)=>{let t="",r="",s="";for(let i in n){let a=n[i];i[0]=="@"?i[1]=="i"?t=i+" "+a+";":r+=i[1]=="f"?Di(a,i):i+"{"+Di(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=Di(a,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Di.p?Di.p(i,a):i+":"+a+";")}return t+(e&&s?e+"{"+s+"}":s)+r},_s={},I5=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+I5(n[t]);return e}return n},FX=(n,e,t,r,s)=>{let i=I5(n),a=_s[i]||(_s[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!_s[a]){let c=i!==n?n:(u=>{let d,h,f=[{}];for(;d=DX.exec(u.replace(IX,""));)d[4]?f.shift():d[3]?(h=d[3].replace(F3," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(F3," ").trim();return f[0]})(n);_s[a]=Di(s?{["@keyframes "+a]:c}:c,t?"":"."+a)}let l=t&&_s.g?_s.g:null;return t&&(_s.g=_s[a]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(_s[a],e,r,l),a},BX=(n,e,t)=>n.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let l=a(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":Di(l,""):l===!1?"":l}return r+s+(a??"")},"");function s1(n){let e=this||{},t=n.call?n(e.p):n;return FX(t.unshift?t.raw?BX(t,[].slice.call(arguments,1),e.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):t,MX(e.target),e.g,e.o,e.k)}let F5,l2,c2;s1.bind({g:1});let wi=s1.bind({k:1});function $X(n,e,t,r){Di.p=e,F5=n,l2=t,c2=r}function Va(n,e){let t=this||{};return function(){let r=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;t.p=Object.assign({theme:l2&&l2()},l),t.o=/ *go\d+/.test(c),l.className=s1.apply(t,r)+(c?" "+c:""),e&&(l.ref=a);let u=n;return n[0]&&(u=l.as||n,delete l.as),c2&&u[0]&&c2(l),F5(u,l)}return e?e(s):s}}var zX=n=>typeof n=="function",u2=(n,e)=>zX(n)?n(e):n,UX=(()=>{let n=0;return()=>(++n).toString()})(),VX=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),HX=20,B5=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,HX)};case 1:return{...n,toasts:n.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:t}=e;return B5(n,{type:n.toasts.find(i=>i.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let s=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},qX=[],xb={toasts:[],pausedAt:void 0},_A=n=>{xb=B5(xb,n),qX.forEach(e=>{e(xb)})},WX=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||UX()}),Bm=n=>(e,t)=>{let r=WX(e,n,t);return _A({type:2,toast:r}),r.id},pt=(n,e)=>Bm("blank")(n,e);pt.error=Bm("error");pt.success=Bm("success");pt.loading=Bm("loading");pt.custom=Bm("custom");pt.dismiss=n=>{_A({type:3,toastId:n})};pt.remove=n=>_A({type:4,toastId:n});pt.promise=(n,e,t)=>{let r=pt.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let i=e.success?u2(e.success,s):void 0;return i?pt.success(i,{id:r,...t,...t==null?void 0:t.success}):pt.dismiss(r),s}).catch(s=>{let i=e.error?u2(e.error,s):void 0;i?pt.error(i,{id:r,...t,...t==null?void 0:t.error}):pt.dismiss(r)}),n};var GX=wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KX=wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XX=wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,YX=Va("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KX} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${XX} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,QX=wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,JX=Va("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${QX} 1s linear infinite;
`,ZX=wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eY=wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tY=Va("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eY} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nY=Va("div")`
  position: absolute;
`,rY=Va("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sY=wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iY=Va("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sY} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aY=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?L.createElement(iY,null,e):e:t==="blank"?null:L.createElement(rY,null,L.createElement(JX,{...r}),t!=="loading"&&L.createElement(nY,null,t==="error"?L.createElement(YX,{...r}):L.createElement(tY,{...r})))},oY=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lY=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,cY="0%{opacity:0;} 100%{opacity:1;}",uY="0%{opacity:1;} 100%{opacity:0;}",dY=Va("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hY=Va("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fY=(n,e)=>{let t=n.includes("top")?1:-1,[r,s]=VX()?[cY,uY]:[oY(t),lY(t)];return{animation:e?`${wi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wi(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};L.memo(({toast:n,position:e,style:t,children:r})=>{let s=n.height?fY(n.position||e||"top-center",n.visible):{opacity:0},i=L.createElement(aY,{toast:n}),a=L.createElement(hY,{...n.ariaProps},u2(n.message,n));return L.createElement(dY,{className:n.className,style:{...s,...t,...n.style}},typeof r=="function"?r({icon:i,message:a}):L.createElement(L.Fragment,null,i,a))});$X(L.createElement);s1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var bb=pt;function pY(){const[n,e]=L.useState([]),[t,r]=L.useState(null),[s,i]=L.useState(!1),[a,l]=L.useState(!1),[c,u]=L.useState(null),[d,h]=L.useState([]),f=async()=>{var m,v;try{const S=localStorage.getItem("token"),w=await lo.get(`${de}/api/admin/users`,{headers:{Authorization:`Bearer ${S}`}});w.data.success?e(w.data.users):pt.error("Failed to fetch users")}catch(S){console.error("Fetch users error:",S),pt.error(((v=(m=S.response)==null?void 0:m.data)==null?void 0:v.message)||"Failed to fetch users")}};L.useEffect(()=>{f()},[]);const p=async m=>{var v,S;try{const w=localStorage.getItem("token"),N=await lo.get(`${de}/api/admin/users/${m._id}`,{headers:{Authorization:`Bearer ${w}`}});N.data.success?(r(N.data.user),i(!0)):pt.error(N.data.message||"Failed to fetch user details")}catch(w){console.error("Edit error:",w),pt.error(((S=(v=w.response)==null?void 0:v.data)==null?void 0:S.message)||"Failed to fetch user details")}},y=async m=>{var v,S;m.preventDefault();try{const w=localStorage.getItem("token"),N=await lo.put(`${de}/api/admin/users/${t._id}`,{firstName:t.firstName,lastName:t.lastName,email:t.email,phoneNumber:t.phoneNumber,isAdmin:t.isAdmin,status:t.status},{headers:{Authorization:`Bearer ${w}`}});N.data.success?(i(!1),r(null),f(),pt.success("User updated successfully")):pt.error(N.data.message||"Failed to update user")}catch(w){console.error("Update error:",w),pt.error(((S=(v=w.response)==null?void 0:v.data)==null?void 0:S.message)||"Failed to update user")}},x=m=>{u(m),l(!0)},b=async()=>{var m,v;try{const S=localStorage.getItem("token");(await lo.delete(`${de}/api/users/${c._id}`,{headers:{Authorization:`Bearer ${S}`}})).data.message&&(l(!1),u(null),f(),pt.success("User deleted successfully"))}catch(S){console.error("Delete error:",S),pt.error(((v=(m=S.response)==null?void 0:m.data)==null?void 0:v.message)||"Failed to delete user")}};return L.useEffect(()=>{(async()=>{try{const v=localStorage.getItem("adminToken"),w=await(await fetch(`${de}/api/logs/all`,{headers:{Authorization:`Bearer ${v}`}})).json();w.success&&h(w.logs)}catch(v){console.error("Error fetching logs:",v)}})()},[]),o.jsx("div",{className:"min-h-screen bg-gray-900 p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Admin Panel"}),o.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:n.map(m=>o.jsxs("tr",{className:"hover:bg-gray-700",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-300",children:`${m.firstName} ${m.lastName}`}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-300",children:m.email}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-300",children:m.phoneNumber}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-300",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m.isAdmin?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m.isAdmin?"Admin":"User"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[o.jsx("button",{onClick:()=>p(m),className:"text-indigo-400 hover:text-indigo-600 mr-4",children:"Edit"}),o.jsx("button",{onClick:()=>x(m),className:"text-red-400 hover:text-red-600",children:"Delete"})]})]},m._id))})]})}),s&&t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center",children:o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-96",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit User"}),o.jsxs("form",{onSubmit:y,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block mb-2",children:"First Name"}),o.jsx("input",{type:"text",value:t.firstName,onChange:m=>r({...t,firstName:m.target.value}),className:"w-full p-2 border rounded"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block mb-2",children:"Last Name"}),o.jsx("input",{type:"text",value:t.lastName,onChange:m=>r({...t,lastName:m.target.value}),className:"w-full p-2 border rounded"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block mb-2",children:"Email"}),o.jsx("input",{type:"email",value:t.email,onChange:m=>r({...t,email:m.target.value}),className:"w-full p-2 border rounded"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block mb-2",children:"Phone Number"}),o.jsx("input",{type:"text",value:t.phoneNumber,onChange:m=>r({...t,phoneNumber:m.target.value}),className:"w-full p-2 border rounded"})]}),o.jsx("div",{className:"mb-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:t.isAdmin,onChange:m=>r({...t,isAdmin:m.target.checked}),className:"mr-2"}),o.jsx("span",{children:"Admin"})]})}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save Changes"})]})]})]})}),a&&c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center",children:o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-96",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Confirm Delete"}),o.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete the account for ",c.firstName," ",c.lastName,"? This action cannot be undone."]}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx("button",{onClick:()=>{l(!1),u(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),o.jsx("button",{onClick:b,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]})]})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"User Login History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full bg-gray-800 rounded-lg overflow-hidden",children:[o.jsx("thead",{className:"bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left",children:"Action"}),o.jsx("th",{className:"px-6 py-3 text-left",children:"Time"}),o.jsx("th",{className:"px-6 py-3 text-left",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left",children:"Device"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-700",children:d.map(m=>{var v,S;return o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-gray-300",children:((v=m.user)==null?void 0:v.email)||((S=m.user)==null?void 0:S.phoneNumber)||"Unknown"}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:m.action}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:new Date(m.timestamp).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-sm ${m.status==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.status})}),o.jsx("td",{className:"px-6 py-4 text-gray-300 text-sm",children:m.deviceInfo})]},m._id)})})]})})]})]})})}const mY=()=>{const{authState:n,setAuthState:e}=kx(),[t,r]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{const i=localStorage.getItem("adminToken");if(i){const l=await(await fetch(`${de}/api/admin/verify`,{headers:{Authorization:`Bearer ${i}`}})).json();l.success?e({isAuthenticated:!0,isAdmin:!0,user:l.admin,token:i}):(localStorage.removeItem("adminToken"),e({isAuthenticated:!1,isAdmin:!1,user:null,token:null}))}}catch(i){console.error("Auth check error:",i),localStorage.removeItem("adminToken"),e({isAuthenticated:!1,isAdmin:!1,user:null,token:null})}finally{r(!1)}})()},[e]),t?o.jsx("div",{children:"Loading..."}):!n.isAuthenticated||!n.isAdmin?o.jsx(CN,{to:"/admin/login",replace:!0}):o.jsxs(PN,{children:[o.jsx(Pe,{index:!0,element:o.jsx(bE,{})}),o.jsx(Pe,{path:"dashboard",element:o.jsx(bE,{})}),o.jsx(Pe,{path:"users",element:o.jsx(nI,{})}),o.jsx(Pe,{path:"users/:userId",element:o.jsx(DF,{})}),o.jsx(Pe,{path:"create-post",element:o.jsx(CX,{})}),o.jsx(Pe,{path:"posts",element:o.jsx(PX,{})}),o.jsx(Pe,{path:"posts/:postId",element:o.jsx(LX,{})}),o.jsx(Pe,{path:"edit-post/:postId",element:o.jsx(OX,{})}),o.jsx(Pe,{path:"panel",element:o.jsx(pY,{})})]})};function gY(){const[n,e]=L.useState({name:"",password:""}),[t,r]=L.useState(!1),[s,i]=L.useState(""),[a,l]=L.useState(!1),c=Ue(),{setAuthState:u}=kx(),d=f=>{const{name:p,value:y}=f.target;e({...n,[p]:y})},h=async f=>{var p,y;f.preventDefault(),l(!0);try{const x=await lo.post(`${de}/api/admin/login`,n);if(x.data.success){const{token:b,admin:m}=x.data;u({isAuthenticated:!0,isAdmin:!0,user:m,token:b}),localStorage.setItem("adminToken",b),c("/admin/dashboard")}else i(x.data.message||"Login failed.")}catch(x){console.error("Admin login error:",x),i(((y=(p=x.response)==null?void 0:p.data)==null?void 0:y.message)||"Login failed.")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Lw,{className:"h-12 w-12 text-indigo-500"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Admin Login"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[o.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"sr-only",children:"Admin Name"}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-white rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Admin Name",value:n.name,onChange:d})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-white rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n.password,onChange:d}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!t),children:t?o.jsx(Q0,{className:"h-5 w-5 text-gray-400"}):o.jsx(Cl,{className:"h-5 w-5 text-gray-400"})})]})]}),s&&o.jsx("div",{className:"text-red-500 text-sm text-center bg-red-100 p-2 rounded",children:s}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:a?o.jsxs("span",{className:"flex items-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]})]})})}const $5=()=>{const n=localStorage.getItem("token");if(n)try{const t=JSON.parse(atob(n.split(".")[1])).exp*1e3,r=Date.now(),s=t-r;return s<0?(localStorage.removeItem("token"),localStorage.removeItem("user"),!1):(s<24*60*60*1e3&&yY(),!0)}catch(e){return console.error("Token validation error:",e),localStorage.removeItem("token"),localStorage.removeItem("user"),!1}return!1},yY=async()=>{try{const n=localStorage.getItem("token"),t=await(await fetch(`${de}/api/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).json();t.success&&t.token&&localStorage.setItem("token",t.token)}catch(n){console.error("Token refresh error:",n)}};var z5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B3=Qe.createContext&&Qe.createContext(z5),vY=["attr","size","title"];function xY(n,e){if(n==null)return{};var t=bY(n,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function bY(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function my(){return my=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},my.apply(this,arguments)}function $3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function gy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(t),!0).forEach(function(r){wY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wY(n,e,t){return e=SY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SY(n){var e=NY(n,"string");return typeof e=="symbol"?e:e+""}function NY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function U5(n){return n&&n.map((e,t)=>Qe.createElement(e.tag,gy({key:t},e.attr),U5(e.child)))}function Ze(n){return e=>Qe.createElement(AY,my({attr:gy({},n.attr)},e),U5(n.child))}function AY(n){var e=t=>{var{attr:r,size:s,title:i}=n,a=xY(n,vY),l=s||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),Qe.createElement("svg",my({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:c,style:gy(gy({color:n.color||t.color},t.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Qe.createElement("title",null,i),n.children)};return B3!==void 0?Qe.createElement(B3.Consumer,null,t=>e(t)):e(z5)}function V5(n){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function z3(n){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function jY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"},child:[]}]})(n)}function EY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"},child:[]}]})(n)}function U3(n){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function V3(n){return Ze({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(n)}function _Y(n){return Ze({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(n)}function kY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function TY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function CY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(n)}function PY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function OY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(n)}function H3(n){return Ze({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(n)}function LY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(n)}function RY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function MY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}function DY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function H5(n){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(n)}function IY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(n)}function Yd(n){return Ze({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function FY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function wb(n){return Ze({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(n)}function q3(n){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(n)}function BY(n){return Ze({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}function $Y(n){return Ze({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(n)}const zY=({title:n,href:e})=>o.jsx("div",{className:"relative group w-full lg:w-auto",children:o.jsx(Ee,{to:e,className:"flex items-center justify-between px-4 py-2 text-gray-700 hover:text-gray-900 cursor-pointer",children:o.jsx("span",{children:n})})});function vr(){const n=Ue(),e=JSON.parse(localStorage.getItem("user")),t=$5(),[r,s]=L.useState(!1),[i,a]=L.useState(!1),l=L.useRef(null);L.useEffect(()=>{function d(h){l.current&&!l.current.contains(h.target)&&a(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const c=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n("/")},u=[{title:"Course",href:"/course"},{title:"Blogs",href:"/blog"},{title:"About Us",href:"/contact"},{title:"Pricing",href:"/pricing"}];return o.jsx("nav",{className:"navbar sticky top-0 z-50 w-full bg-white shadow-md",children:o.jsxs("div",{className:"container flex items-center justify-between px-4 py-2 mx-auto",children:[o.jsx(Ee,{to:"/",className:"flex items-center gap-5",children:o.jsx("img",{src:"https://res.cloudinary.com/dqt4zammn/image/upload/v1741619811/TDC_UPD_LOGO-removebg-preview_yksibf.png",alt:"TDC Logo",className:"h-10 brightness-110 rounded-lg"})}),o.jsx("button",{className:"lg:hidden text-gray-700 p-2",onClick:()=>s(!r),"aria-label":"Toggle menu",children:r?o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o.jsx("div",{className:`
          flex items-center space-x-2
          lg:relative lg:flex lg:flex-row
          absolute top-full left-0 right-0
          bg-white 
          transition-all duration-300 ease-in-out
          ${r?"flex flex-col items-start p-4":"hidden lg:flex"}
          lg:bg-transparent lg:p-0
          ${r?"border-t border-gray-200":""}
        `,children:u.map((d,h)=>o.jsx("div",{className:"w-full lg:w-auto",children:o.jsx(zY,{...d})},h))}),o.jsxs("div",{className:`
          btn-ls flex items-center gap-4
          lg:relative lg:flex
          ${r?"absolute top-full left-0 right-0 p-4 bg-white border-t border-gray-200":"relative"}
          ${r?"flex-col items-start":"flex-row items-center"}
          lg:flex-row lg:bg-transparent lg:p-0 lg:border-0
        `,children:[t&&e?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"relative",ref:l,children:[o.jsx("button",{onClick:()=>a(!i),className:"text-gray-700 hover:text-gray-900 flex items-center gap-2",children:o.jsx(FY,{className:"w-6 h-6"})}),i&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[o.jsx(Ee,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>a(!1),children:"Profile"}),o.jsx(Ee,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>a(!1),children:"Learning Dashboard"}),o.jsx("hr",{className:"my-1"}),o.jsx("button",{onClick:()=>{c(),a(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Logout"})]})]})}):o.jsxs(o.Fragment,{children:[o.jsx(Ee,{to:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Login"}),o.jsx(Ee,{to:"/signup",className:"px-4 py-2 text-sm font-medium text-gray-800 bg-[#ffde58] rounded-md hover:bg-[#ffd025] transition-all duration-300 shadow-md",children:"Sign up"})]}),t&&(e==null?void 0:e.isAdmin)&&o.jsx(Ee,{to:"/admin/users",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:"Admin Panel"})]})]})})}function UY(n={}){const{nonce:e,onScriptLoadSuccess:t,onScriptLoadError:r}=n,[s,i]=L.useState(!1),a=L.useRef(t);a.current=t;const l=L.useRef(r);return l.current=r,L.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=e,c.onload=()=>{var u;i(!0),(u=a.current)===null||u===void 0||u.call(a)},c.onerror=()=>{var u;i(!1),(u=l.current)===null||u===void 0||u.call(l)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[e]),s}const q5=L.createContext(null);function kA({clientId:n,nonce:e,onScriptLoadSuccess:t,onScriptLoadError:r,children:s}){const i=UY({nonce:e,onScriptLoadSuccess:t,onScriptLoadError:r}),a=L.useMemo(()=>({clientId:n,scriptLoadedSuccessfully:i}),[n,i]);return Qe.createElement(q5.Provider,{value:a},s)}function VY(){const n=L.useContext(q5);if(!n)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return n}function HY(n){var e;return(e=n==null?void 0:n.clientId)!==null&&e!==void 0?e:n==null?void 0:n.client_id}const qY={large:40,medium:32,small:20};function TA({onSuccess:n,onError:e,useOneTap:t,promptMomentNotification:r,type:s="standard",theme:i="outline",size:a="large",text:l,shape:c,logo_alignment:u,width:d,locale:h,click_listener:f,containerProps:p,...y}){const x=L.useRef(null),{clientId:b,scriptLoadedSuccessfully:m}=VY(),v=L.useRef(n);v.current=n;const S=L.useRef(e);S.current=e;const w=L.useRef(r);return w.current=r,L.useEffect(()=>{var N,E,_,A,C,j,k,T,P;if(m)return(_=(E=(N=window==null?void 0:window.google)===null||N===void 0?void 0:N.accounts)===null||E===void 0?void 0:E.id)===null||_===void 0||_.initialize({client_id:b,callback:R=>{var M;if(!(R!=null&&R.credential))return(M=S.current)===null||M===void 0?void 0:M.call(S);const{credential:V,select_by:U}=R;v.current({credential:V,clientId:HY(R),select_by:U})},...y}),(j=(C=(A=window==null?void 0:window.google)===null||A===void 0?void 0:A.accounts)===null||C===void 0?void 0:C.id)===null||j===void 0||j.renderButton(x.current,{type:s,theme:i,size:a,text:l,shape:c,logo_alignment:u,width:d,locale:h,click_listener:f}),t&&((P=(T=(k=window==null?void 0:window.google)===null||k===void 0?void 0:k.accounts)===null||T===void 0?void 0:T.id)===null||P===void 0||P.prompt(w.current)),()=>{var R,M,V;t&&((V=(M=(R=window==null?void 0:window.google)===null||R===void 0?void 0:R.accounts)===null||M===void 0?void 0:M.id)===null||V===void 0||V.cancel())}},[b,m,t,s,i,a,l,c,u,d,h]),Qe.createElement("div",{...p,ref:x,style:{height:qY[a],...p==null?void 0:p.style}})}class lh extends Error{}lh.prototype.name="InvalidTokenError";function WY(n){return decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function GY(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return WY(e)}catch{return atob(e)}}function KY(n,e){if(typeof n!="string")throw new lh("Invalid token specified: must be a string");e||(e={});const t=e.header===!0?0:1,r=n.split(".")[t];if(typeof r!="string")throw new lh(`Invalid token specified: missing part #${t+1}`);let s;try{s=GY(r)}catch(i){throw new lh(`Invalid token specified: invalid base64 for part #${t+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new lh(`Invalid token specified: invalid json for part #${t+1} (${i.message})`)}}function XY(){const n=Ue(),[e,t]=L.useState({email:"",password:""}),[r,s]=L.useState(!1),[i,a]=L.useState(!1),[l,c]=L.useState(""),[u,d]=L.useState(null),h=m=>{t({...e,[m.target.name]:m.target.value})},f=m=>{try{console.log("Credential Response:",m);const v=KY(m.credential);d(v),console.log("Logged in user:",v),y({credential:m.credential})}catch(v){console.error("Google login error:",v),c("Failed to process Google login: "+v.message)}},p=()=>{console.log("Google Login Failed"),c("Failed to login with Google")},y=async m=>{try{console.log("Sending credential to backend:",m.credential);const v=await fetch(`${de}/api/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:m.credential})});if(!v.ok){const w=await v.json();throw new Error(w.message||`HTTP error! status: ${v.status}`)}const S=await v.json();console.log("Backend response:",S),S.success?(localStorage.setItem("token",S.token),localStorage.setItem("user",JSON.stringify(S.user)),n("/")):c(S.message||"Login failed")}catch(v){console.error("Error:",v),c("Failed to process Google login: "+v.message)}};L.useEffect(()=>{window.fbAsyncInit=function(){window.FB.init({appId:"614379440989576",cookie:!0,xfbml:!0,version:"v18.0"})},function(m,v,S){var w,N=m.getElementsByTagName(v)[0];m.getElementById(S)||(w=m.createElement(v),w.id=S,w.src="https://connect.facebook.net/en_US/sdk.js",N.parentNode.insertBefore(w,N))}(document,"script","facebook-jssdk")},[]);const x=async()=>{try{if(!window.FB)throw new Error("Facebook SDK not loaded");const m=await new Promise((E,_)=>{window.FB.login(A=>{A.authResponse?E(A):_("User cancelled login or did not fully authorize.")},{scope:"email,public_profile"})}),S=await(await fetch(`https://graph.facebook.com/me?fields=id,first_name,last_name,email&access_token=${m.authResponse.accessToken}`)).json(),w=await fetch(`${de}/api/auth/facebook/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:m.authResponse.accessToken,userData:S})});if(!w.ok){const E=await w.json();throw new Error(E.message||"Failed to login with Facebook")}const N=await w.json();N.success?(localStorage.setItem("token",N.token),localStorage.setItem("user",JSON.stringify(N.user)),n("/")):c(N.message||"Login failed")}catch(m){console.error("Facebook login error:",m),c(typeof m=="string"?m:"Failed to login with Facebook")}},b=async m=>{m.preventDefault(),a(!0),c("");try{const S=await(await fetch(`${de}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();if(console.log("Login Response:",S),S.success){const w={...S.user,isAdmin:S.user.isAdmin};localStorage.setItem("token",S.token),localStorage.setItem("user",JSON.stringify(w)),(await(await fetch(`${de}/api/admin/verify`,{headers:{Authorization:`Bearer ${S.token}`}})).json()).success?n("/admin/users"):n("/")}else c(S.message)}catch(v){console.error("Login error:",v),c("Failed to login. Please try again.")}finally{a(!1)}};return o.jsx(kA,{clientId:"1036131393808-7rgoa59ur5gt62i8uj9k2bn63uqe9eci.apps.googleusercontent.com",children:o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"max-w-md w-full space-y-8",children:o.jsxs(Y.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},onSubmit:b,className:"bg-white p-8 rounded-xl shadow-lg",children:[o.jsxs("div",{children:[o.jsx(Y.div,{initial:{scale:.5},animate:{scale:1},transition:{duration:.5},className:"mx-auto h-12 w-12 relative",children:o.jsx(Lw,{className:"w-12 h-12 text-[#333333]",strokeWidth:1.5})}),o.jsx(Y.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Welcome Back"}),o.jsx(Y.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to continue your learning journey"})]}),o.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[o.jsxs(Y.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:h,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-lg placeholder-gray-500 bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",placeholder:"Enter your email"})]}),o.jsxs(Y.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},className:"relative",children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,value:e.password,onChange:h,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-lg placeholder-gray-500 bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",placeholder:"Enter your password"}),o.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:r?o.jsx(Q0,{className:"h-5 w-5"}):o.jsx(Cl,{className:"h-5 w-5"})})]})]})]}),l&&o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center",children:l}),o.jsx(Y.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},children:o.jsxs("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center mt-5 py-2.5 px-4 border border-transparent rounded-lg text-white bg-[#333333] hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#333333] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:o.jsx(Lw,{className:"h-5 w-5 text-gray-300 group-hover:text-gray-400"})}),i?"Signing in...":"Sign in",o.jsx(Y.span,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:1},className:"ml-2",children:o.jsx(Nl,{className:"h-5 w-5"})})]})}),o.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm",children:o.jsx(Ee,{to:"/forgot-password",className:"font-medium text-[#333333] hover:text-gray-800",children:"Forgot your password?"})}),o.jsx("div",{className:"text-sm",children:o.jsx(Ee,{to:"/signup",className:"font-medium text-[#333333] hover:text-gray-800",children:"Create an account"})})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[u?o.jsxs("div",{children:[o.jsxs("p",{children:["Welcome, ",u.name,"!"]}),o.jsx("img",{src:u.picture,alt:"profile",style:{borderRadius:"50%",width:"50px"}})]}):o.jsx(TA,{clientId:"1036131393808-7rgoa59ur5gt62i8uj9k2bn63uqe9eci.apps.googleusercontent.com",onSuccess:f,onError:p}),o.jsxs(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:x,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[o.jsx(V5,{className:"h-5 w-5 text-blue-600"}),o.jsx("span",{className:"ml-2",children:"Facebook"})]})]})]})]})})})})}function $m(){const n={initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5}};return o.jsx("footer",{className:"bg-[#333333] text-gray-300 py-16",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 lg:gap-12",children:[o.jsxs(Y.div,{...n,children:[o.jsx("h3",{className:"text-lg font-semibold mb-6 text-white border-b border-[#ffde58] pb-2 inline-block",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-3 text-sm",children:[o.jsx("li",{children:o.jsx(Ee,{to:"/about",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"About Us"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/pricing",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Pricing Detail"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/privacy",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/terms",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Terms and Condition"})})]})]}),o.jsxs(Y.div,{...n,transition:{delay:.2},children:[o.jsx("h3",{className:"text-lg font-semibold mb-6 text-white border-b border-[#ffde58] pb-2 inline-block",children:"Resources"}),o.jsxs("ul",{className:"space-y-3 text-sm",children:[o.jsx("li",{children:o.jsx(Ee,{to:"/webinars",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Upcoming Webinar"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/past-webinars",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Past Webinar"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/docs",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Docs"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/blogs",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Blogs"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/ebooks",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Ebooks"})})]})]}),o.jsxs(Y.div,{...n,transition:{delay:.3},children:[o.jsx("h3",{className:"text-lg font-semibold mb-6 text-white border-b border-[#ffde58] pb-2 inline-block",children:"CAREER"}),o.jsxs("ul",{className:"space-y-3 text-sm",children:[o.jsx("li",{children:o.jsx(Ee,{to:"/jobs",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Jobs"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/student-program",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Student Program"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/collaborate",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Collaborate"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/learn-and-earn",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Learn and Earn"})})]})]}),o.jsxs(Y.div,{...n,transition:{delay:.4},children:[o.jsx("h3",{className:"text-lg font-semibold mb-6 text-white border-b border-[#ffde58] pb-2 inline-block",children:"Subjects"}),o.jsxs("ul",{className:"space-y-3 text-sm",children:[o.jsx("li",{children:o.jsx(Ee,{to:"/career-paths",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Career Paths"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/interview-prep",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Interview Prep"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/full-catalog",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Full Catalog"})}),o.jsx("li",{children:o.jsx(Ee,{to:"/roadmap",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"Roadmap"})})]})]}),o.jsxs(Y.div,{...n,transition:{delay:.5},children:[o.jsx("h3",{className:"text-lg font-semibold mb-6 text-white border-b border-[#ffde58] pb-2 inline-block",children:"Community"}),o.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:[{icon:o.jsx(CD,{}),link:"https://facebook.com"},{icon:o.jsx(KD,{}),link:"https://twitter.com"},{icon:o.jsx(DD,{}),link:"https://instagram.com"},{icon:o.jsx($D,{}),link:"https://linkedin.com"},{icon:o.jsx(JD,{}),link:"https://youtube.com"}].map((e,t)=>o.jsx(Y.a,{whileHover:{y:-3,backgroundColor:"#ffde58"},href:e.link,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700/50 p-2.5 rounded-full hover:text-[#333333] transition-all duration-300",children:e.icon},t))}),o.jsxs("div",{className:"space-y-4 text-sm",children:[o.jsxs(Y.div,{className:"flex items-center gap-3 group cursor-pointer",whileHover:{x:3},children:[o.jsx(LN,{className:"text-[#ffde58] group-hover:scale-110 transition-transform duration-300"}),o.jsx("a",{href:"mailto:media@topdatacoach.com",className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"media@topdatacoach.com"})]}),o.jsxs(Y.div,{className:"flex items-center gap-3 group cursor-pointer",whileHover:{x:3},children:[o.jsx(Cx,{className:"text-[#ffde58] group-hover:scale-110 transition-transform duration-300"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"+91 9500125930"}),o.jsx("p",{className:"text-gray-300 hover:text-[#ffde58] transition-colors duration-300",children:"+91 9500120298"})]})]})]})]})]}),o.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-12 pt-8 border-t border-gray-700/50 flex flex-col md:flex-row items-center justify-between",children:[o.jsx("img",{src:"https://res.cloudinary.com/dqt4zammn/image/upload/v1734429178/api5kfd3wfdkakatqsbn.jpg",alt:"TDC Logo",className:"h-10 mb-4 md:mb-0 brightness-110"}),o.jsx("p",{className:"text-sm text-gray-400",children:" 2024 TDC. All rights reserved."})]})]})})}function YY(){return o.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[o.jsx("div",{className:"bg-[#333333] text-white py-10",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-center",children:"Welcome Back"}),o.jsx("p",{className:"text-center mt-2 text-gray-300",children:"Log in to access your account and continue learning"})]})}),o.jsxs("div",{className:"flex-grow container mx-auto px-4 py-8",children:[o.jsx("div",{className:"max-w-md mx-auto",children:o.jsx(XY,{})}),o.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-[#333333] rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Access Courses"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Get instant access to all your enrolled courses"})]}),o.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-[#333333] rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Track Progress"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor your learning journey and achievements"})]}),o.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-[#333333] rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Quick Resume"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Continue where you left off instantly"})]})]})]}),o.jsx($m,{})]})}function QY(){const n=Ue();`${$l().pathname}`;const[t,r]=L.useState(1),[s,i]=L.useState(""),[a,l]=L.useState(!1),[c,u]=L.useState(""),[d,h]=L.useState({firstName:"",lastName:"",email:"",countryCode:"+91",phoneNumber:"",password:""}),[f,p]=L.useState(null),[y,x]=L.useState(!1),[b,m]=L.useState(null),[v,S]=L.useState(!1);L.useEffect(()=>{const P=new URLSearchParams(window.location.search).get("code");P&&A({code:P})},[]),L.useEffect(()=>{window.fbAsyncInit=function(){window.FB.init({appId:"614379440989576",cookie:!0,xfbml:!0,version:"v18.0"})},function(T,P,R){var M,V=T.getElementsByTagName(P)[0];T.getElementById(R)||(M=T.createElement(P),M.id=R,M.src="https://connect.facebook.net/en_US/sdk.js",V.parentNode.insertBefore(M,V))}(document,"script","facebook-jssdk")},[]);const w=T=>{h({...d,[T.target.name]:T.target.value})},N=async T=>{T.preventDefault(),l(!0),u("");try{const R=await(await fetch(`${de}/api/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:`${d.countryCode}${d.phoneNumber}`})})).json();R.success?r(2):u(R.message||"Failed to send OTP")}catch{u("Failed to send OTP. Please try again.")}finally{l(!1)}},E=async T=>{T.preventDefault(),l(!0),u("");try{if(f){const P=JSON.parse(sessionStorage.getItem("tempUser"));if(!P)throw new Error("Temporary user data not found");const R=await fetch(`${de}/api/auth/google/complete-signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tempUser:P,phoneNumber:`${d.countryCode}${d.phoneNumber}`,verificationCode:s})}),M=await R.json();if(!R.ok)throw new Error(M.message||"Failed to complete signup");M.success&&(sessionStorage.removeItem("tempUser"),localStorage.setItem("token",M.token),S(!0),setTimeout(()=>{S(!1),n("/dashboard")},2e3))}}catch(P){console.error("Verification error:",P),u(P.message||"Failed to verify OTP")}finally{l(!1)}},_=async T=>{T.preventDefault(),l(!0),u("");try{const R=await(await fetch(`${de}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json();R.success?(S(!0),setTimeout(()=>{S(!1),n("/login")},2e3)):u(R.message||"Registration failed")}catch{u("Failed to create account. Please try again.")}finally{l(!1)}},A=async T=>{try{console.log("Credential Response:",T),x(!0),m(T)}catch(P){console.error("Google login error:",P),u("Failed to process Google login: "+P.message)}},C=async()=>{try{l(!0),console.log("Sending credential:",b.credential);const T=await fetch(`${de}/api/auth/google/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:b.credential})}),P=await T.json();if(!T.ok)throw new Error(P.message||"Failed to verify Google credential");if(!P.success)throw new Error(P.message);sessionStorage.setItem("tempUser",JSON.stringify(P.tempUser)),p(P.tempUser),h(R=>({...R,firstName:P.tempUser.firstName||"",lastName:P.tempUser.lastName||"",email:P.tempUser.email})),x(!1),r(1)}catch(T){console.error("Registration error:",T),u(T.message)}finally{l(!1)}},j=async()=>{try{const T=await new Promise((P,R)=>{window.FB.login(M=>{M.authResponse?P(M):R("User cancelled login or did not fully authorize.")},{scope:"email,public_profile"})});x(!0),m({type:"facebook",accessToken:T.authResponse.accessToken})}catch(T){console.error("Facebook login error:",T),u(T.message||"Failed to authenticate with Facebook")}},k={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-lg",children:[o.jsxs("div",{children:[o.jsx(Y.div,{initial:{scale:.5},animate:{scale:1},transition:{duration:.5},className:"mx-auto h-12 w-12 relative",children:o.jsx(QD,{className:"w-12 h-12 text-[#333333]",strokeWidth:1.5})}),o.jsx(Y.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Create Your Account"}),o.jsx(Y.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-2 text-center text-sm text-gray-600",children:"Join our learning community today"})]}),o.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6",children:[o.jsx(TA,{clientId:"1036131393808-7rgoa59ur5gt62i8uj9k2bn63uqe9eci.apps.googleusercontent.com",onSuccess:A,onError:()=>{console.error("Google Login Failed"),u("Failed to sign in with Google")},useOneTap:!1,theme:"outline",size:"large",text:"signup_with",shape:"rectangular",redirectUri:`${window.location.origin}/register`}),o.jsxs("button",{onClick:j,className:"mt-3 w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-white bg-[#1877F2] hover:bg-[#166fe5] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1877F2]",children:[o.jsx(V5,{className:"w-5 h-5 mr-2"}),"Sign up with Facebook"]}),o.jsxs("div",{className:"mt-4 relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]})]}),o.jsx(co,{mode:"wait",children:c&&o.jsx(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-red-500 bg-red-50 p-3 rounded-lg text-sm text-center",children:c})}),o.jsx(co,{mode:"wait",children:o.jsxs(Y.div,{initial:"initial",animate:"animate",exit:"exit",variants:k,className:"mt-8",children:[t===1&&o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[!f&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:w,placeholder:"First Name",className:"w-full px-4 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",required:!0})}),o.jsx("div",{children:o.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:w,placeholder:"Last Name",className:"w-full px-4 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",required:!0})})]}),o.jsx("div",{children:o.jsx("input",{type:"email",name:"email",value:d.email,onChange:w,placeholder:"Email Address",className:"w-full px-4 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",required:!0})})]}),o.jsxs("div",{className:"flex",children:[o.jsxs("select",{name:"countryCode",value:d.countryCode,onChange:w,className:"px-3 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",children:[o.jsx("option",{children:"+91"}),o.jsx("option",{children:"+1"}),o.jsx("option",{children:"+44"}),o.jsx("option",{children:"+61"})]}),o.jsx("input",{type:"tel",name:"phoneNumber",value:d.phoneNumber,onChange:w,placeholder:"Phone Number",className:"flex-1 px-4 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",required:!0})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full px-4 py-3 text-white bg-[#333333] rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#333333] transition-colors disabled:opacity-50",children:a?"Sending OTP...":"Send OTP"})]}),t===2&&o.jsxs("form",{onSubmit:E,className:"space-y-6",children:[o.jsx("div",{children:o.jsx("input",{type:"text",value:s,onChange:T=>i(T.target.value),placeholder:"Enter OTP",className:"w-full px-4 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",required:!0})}),o.jsx("button",{type:"submit",disabled:a,className:"w-full px-4 py-3 text-white bg-[#333333] rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#333333] transition-colors disabled:opacity-50",children:a?"Verifying...":"Verify OTP"}),o.jsx("button",{type:"button",onClick:N,disabled:a,className:"w-full text-[#333333] hover:text-gray-700",children:"Resend OTP"})]}),t===3&&o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsx("div",{children:o.jsx("input",{type:"password",name:"password",value:d.password,onChange:w,placeholder:"Create Password",className:"w-full px-4 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",required:!0})}),o.jsx("button",{type:"submit",disabled:a,className:"w-full px-4 py-3 text-white bg-[#333333] rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#333333] transition-colors disabled:opacity-50",children:a?"Creating Account...":"Create Account"})]})]},t)}),o.jsx("div",{className:"text-center",children:o.jsx(Ee,{to:"/login",className:"text-[#333333] hover:text-gray-700",children:"Already have an account? Sign in"})})]}),o.jsx(co,{children:y&&o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs(Y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-6 max-w-md mx-4 shadow-xl",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-[#333333]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Phone Verification Required"})]}),o.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"To complete your registration and secure your account, we need to verify your phone number. This is a one-time process."}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:C,className:"px-6 py-2 bg-[#333333] text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Continue"})]})]})})}),o.jsx(co,{children:v&&o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs(Y.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"bg-white rounded-lg p-8 flex flex-col items-center max-w-sm mx-4",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(Y0,{className:"w-8 h-8 text-green-500"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Aboard!"}),o.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Your account has been created successfully. Redirecting to login..."}),o.jsx("div",{className:"w-8 h-8 border-t-2 border-b-2 border-green-500 rounded-full animate-spin"})]})})})]})}function JY(){return o.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[o.jsx("div",{className:"bg-[#333333] text-white py-12",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-center",children:"Create Your Account"}),o.jsx("p",{className:"text-center mt-2 text-gray-300",children:"Join our community and start your learning journey today"})]})}),o.jsxs("div",{className:"flex-grow container mx-auto px-4 py-8",children:[o.jsx("div",{className:"max-w-md mx-auto",children:o.jsx(QY,{})}),o.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-[#333333] rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Professional Courses"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Access industry-relevant courses designed by experts"})]}),o.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-[#333333] rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Community Support"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Join a community of learners and industry experts"})]}),o.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-[#333333] rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Verified Certificate"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Earn recognized certificates upon course completion"})]})]}),o.jsxs("div",{className:"mt-16 max-w-4xl mx-auto text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-8 text-gray-800",children:"Why Choose TDC?"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Industry-Relevant Content"}),o.jsx("p",{className:"text-gray-600",children:"Our courses are designed and updated regularly to match industry requirements"})]}),o.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Expert Instructors"}),o.jsx("p",{className:"text-gray-600",children:"Learn from industry professionals with years of practical experience"})]}),o.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Flexible Learning"}),o.jsx("p",{className:"text-gray-600",children:"Study at your own pace with lifetime access to course content"})]}),o.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Career Support"}),o.jsx("p",{className:"text-gray-600",children:"Get guidance and support to help you achieve your career goals"})]})]})]})]}),o.jsx($m,{})]})}function ZY(){const n=[{icon:o.jsx(Jn,{className:"w-6 h-6"}),value:"200+",label:"Courses"},{icon:o.jsx(Vr,{className:"w-6 h-6"}),value:"15K+",label:"Students"},{icon:o.jsx(Pl,{className:"w-6 h-6"}),value:"4.9",label:"Rating"},{icon:o.jsx(t4,{className:"w-6 h-6"}),value:"100%",label:"Satisfaction"}];return o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-[#111827] via-[#1f2937] to-[#374151] min-h-[600px]",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-yellow-400 rounded-full opacity-5 blur-3xl"}),o.jsx("div",{className:"absolute top-60 -left-40 w-80 h-80 bg-blue-400 rounded-full opacity-5 blur-3xl"})]}),o.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center lg:text-left",children:[o.jsxs(Y.h1,{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:["Master Modern Tech Skills",o.jsx("span",{className:"text-yellow-400",children:" Online"})]}),o.jsx(Y.p,{className:"text-lg text-gray-300 mb-8 max-w-xl mx-auto lg:mx-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:"Learn from industry experts and advance your career with our comprehensive tech courses. Start your journey today!"}),o.jsxs(Y.div,{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[o.jsxs(Ee,{to:"/courses",className:"inline-flex items-center px-8 py-3 bg-yellow-500 text-gray-900 font-semibold rounded-full hover:bg-yellow-400 transition-all transform hover:scale-105 shadow-lg hover:shadow-yellow-500/30",children:["Explore Courses",o.jsx(Nl,{className:"w-5 h-5 ml-2"})]}),o.jsx(Ee,{to:"/about",className:"inline-flex items-center px-8 py-3 bg-gray-700/50 text-white rounded-full hover:bg-gray-700/70 transition-all backdrop-blur-sm",children:"Learn More"})]}),o.jsx(Y.div,{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 mt-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:n.map((e,t)=>o.jsxs("div",{className:"text-center p-4 rounded-xl bg-gray-800/50 backdrop-blur-sm hover:bg-gray-800/70 transition-all",children:[o.jsx("div",{className:"flex justify-center text-yellow-400 mb-2",children:e.icon}),o.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:e.value}),o.jsx("div",{className:"text-sm text-gray-400",children:e.label})]},t))})]}),o.jsx(Y.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:1},className:"relative hidden lg:block",children:o.jsxs("div",{className:"relative w-full h-[500px]",children:[o.jsx("div",{className:"absolute top-0 right-0 w-72 h-72 bg-yellow-500 rounded-full opacity-5 blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-blue-500 rounded-full opacity-5 blur-3xl"}),o.jsxs(Y.div,{animate:{y:[0,-20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-10 right-10 w-64 bg-gray-800 rounded-xl shadow-2xl p-4 transform rotate-6",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center text-gray-900",children:o.jsx(Jn,{className:"w-6 h-6"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("div",{className:"text-sm font-semibold text-white",children:"Machine Learning"}),o.jsx("div",{className:"text-xs text-gray-400",children:"Machine Learning Course"})]})]}),o.jsx("div",{className:"h-2 bg-gray-700 rounded-full",children:o.jsx("div",{className:"w-3/4 h-full bg-yellow-500 rounded-full"})})]}),o.jsxs(Y.div,{animate:{y:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-20 left-10 w-64 bg-gray-800 rounded-xl shadow-2xl p-4 transform -rotate-3",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white",children:o.jsx(Pl,{className:"w-6 h-6"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("div",{className:"text-sm font-semibold text-white",children:"Data Science"}),o.jsx("div",{className:"text-xs text-gray-400",children:"Advanced Analytics"})]})]}),o.jsx("div",{className:"h-2 bg-gray-700 rounded-full",children:o.jsx("div",{className:"w-1/2 h-full bg-blue-500 rounded-full"})})]})]})})]})})]})}const eQ=[{icon:Ow,title:"Hands-On Learning",description:"Escape the digital world and immerse yourself in learning with our comprehensive physical materials, including textbooks, workbooks, and project guides.",bgColor:"bg-[#f0f7ff]",iconColor:"text-[#0066ff]"},{icon:GD,title:"Personalized Mentorship",description:"Benefit from weekly calls with experienced mentors who will help you refine your skills, validate your ideas, and guide you toward a successful career.",bgColor:"bg-[#fdf2ff]",iconColor:"text-[#9333ea]"},{icon:LD,title:"Accelerated Learning",description:"Skip the setup and dive straight into coding with our pre-configured practice labs. Maximize your learning time and gain hands-on experience from day one.",bgColor:"bg-[#f0fff4]",iconColor:"text-[#22c55e]"},{icon:ND,title:"Interactive Live Classes",description:"Experience focused learning with our interactive live classes. Get your questions answered instantly and accelerate your learning with real-time instructor support.",bgColor:"bg-[#fff7ed]",iconColor:"text-[#f97316]"}];function tQ(){return L.useState(!1),o.jsx("section",{className:"py-16 bg-[#fcfcf8]",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-[#333333] mb-4",children:"What TDC offers you?"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Discover our comprehensive learning solutions designed to accelerate your tech career"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8",children:[o.jsx("div",{className:"lg:col-span-7 grid grid-cols-1 sm:grid-cols-2 gap-6",children:eQ.map((n,e)=>o.jsxs(Y.div,{className:`${n.bgColor} rounded-xl p-6 h-[260px] flex flex-col justify-between hover:shadow-lg transition-shadow duration-300`,whileHover:{scale:1.02},children:[o.jsxs("div",{children:[o.jsx("div",{className:`${n.iconColor} mb-3`,children:o.jsx(n.icon,{className:"w-8 h-8",strokeWidth:1.5})}),o.jsx("h3",{className:"text-lg font-semibold text-[#333333] mb-2",children:n.title}),o.jsx("p",{className:"text-gray-600 text-sm",children:n.description})]}),o.jsxs(Ee,{to:"#",className:"inline-flex items-center text-[#333333] font-medium hover:gap-2 transition-all duration-300 mt-2",children:["Explore More",o.jsx("span",{className:"ml-2",children:""})]})]},e))}),o.jsx("div",{className:"hidden lg:block lg:col-span-5",children:o.jsx("div",{className:"h-full w-full rounded-2xl overflow-hidden",children:o.jsx("img",{src:"https://res.cloudinary.com/dqt4zammn/image/upload/v1735478059/TDCoffers_s7c0vs.jpg",alt:"Student with Laptop",className:"w-full h-[540px] object-contain rounded-2xl",style:{objectPosition:"center",backgroundColor:"#fcfcf8"}})})})]})]})})}function nQ(){const[n,e]=L.useState([]),[t,r]=L.useState(!0),[s,i]=L.useState(0),a=L.useRef(null),l=Ue(),[c,u]=L.useState(0);L.useEffect(()=>{(async()=>{try{const _=await(await fetch(`${de}/api/courses`)).json();_.success&&e(_.courses)}catch(E){console.error("Error fetching courses:",E)}finally{r(!1)}})()},[]),L.useEffect(()=>{a.current&&u(a.current.scrollWidth-a.current.offsetWidth)},[n]);const d=()=>window.innerWidth>=1280?4:window.innerWidth>=1024?3:window.innerWidth>=768?2:1,[h,f]=L.useState(d()),[p,y]=L.useState(100/h);L.useEffect(()=>{const N=()=>{const E=d();f(E),y(100/E)};return window.addEventListener("resize",N),N(),()=>window.removeEventListener("resize",N)},[]);const x=Math.max(0,n.length-h),b=s>0,m=s<x,v=()=>{m&&i(N=>Math.min(N+1,x))},S=()=>{b&&i(N=>Math.max(N-1,0))},w=N=>{l(`/course/${N}`)};return t?o.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading latest courses..."})]}):o.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-gray-50",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Latest Courses"}),o.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Explore our newest courses designed to help you master skills and advance your career."})]}),o.jsxs("div",{className:"relative max-w-[1400px] mx-auto px-4",children:[o.jsx(co,{children:b&&o.jsx(Y.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},onClick:S,className:"absolute -left-4 top-1/2 -translate-y-1/2 z-10 p-3 rounded-full bg-white shadow-lg hover:shadow-xl hover:bg-gray-50 transform hover:scale-105 transition-all","aria-label":"Previous slide",children:o.jsx(ON,{className:"w-6 h-6 text-gray-800"})})}),o.jsx(co,{children:m&&o.jsx(Y.button,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.2},onClick:v,className:"absolute -right-4 top-1/2 -translate-y-1/2 z-10 p-3 rounded-full bg-white shadow-lg hover:shadow-xl hover:bg-gray-50 transform hover:scale-105 transition-all","aria-label":"Next slide",children:o.jsx(Tm,{className:"w-6 h-6 text-gray-800"})})}),o.jsx("div",{className:"overflow-hidden",children:o.jsx(Y.div,{ref:a,className:"flex",initial:{x:0},animate:{x:`-${s*p}%`},transition:{type:"spring",stiffness:300,damping:30},children:n.map((N,E)=>o.jsx(Y.div,{className:"flex-none",style:{width:`${p}%`,padding:"0 12px"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05,duration:.4},whileHover:{y:-5},children:o.jsxs("div",{onClick:()=>w(N._id),className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl cursor-pointer h-full transition-all duration-300",children:[o.jsxs("div",{className:"h-48 bg-blue-100 relative overflow-hidden",children:[N.image?o.jsx(Y.img,{src:N.image,alt:N.title,className:"w-full h-full object-cover",whileHover:{scale:1.05},transition:{duration:.4}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-r from-blue-500 to-purple-600",children:o.jsx("h3",{className:"text-2xl font-bold text-white",children:N.title.substring(0,1)})}),o.jsxs("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 rounded-lg px-3 py-1 text-sm font-medium text-blue-600 flex items-center",children:[o.jsx(Pl,{className:"w-4 h-4 mr-1 text-yellow-500"}),N.rating||"4.5"]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-semibold rounded-full",children:N.category||"Development"}),o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs font-semibold rounded-full",children:N.level||"Beginner"})]}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:N.title}),o.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:N.description}),o.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[o.jsx(Cm,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:N.duration||"8 weeks"}),o.jsx("span",{className:"mx-2",children:""}),o.jsx(Vr,{className:"w-4 h-4 mr-1"}),o.jsxs("span",{children:[N.students||0," students"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center mr-2 overflow-hidden",children:N.instructor&&N.instructor.image?o.jsx("img",{src:N.instructor.image,alt:N.instructor.name,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-sm font-medium",children:N.instructor?N.instructor.name.charAt(0):"T"})}),o.jsx("span",{className:"text-sm font-medium",children:N.instructor?N.instructor.name:"TDC"})]}),o.jsx(Y.button,{className:"text-blue-600 hover:text-blue-700",whileHover:{scale:1.2},whileTap:{scale:.9},children:o.jsx(SD,{className:"w-5 h-5"})})]})]})]})},N._id))})})]})]})})}function rQ(){const n=[{icon:o.jsx(Ca,{className:"w-8 h-8"}),title:"Interactive Coding Labs",description:"Practice coding in real-time with our interactive labs. Get instant feedback and improve your skills.",color:"bg-blue-50"},{icon:o.jsx(Rx,{className:"w-8 h-8"}),title:"Live Expert Sessions",description:"Join live sessions with industry experts. Learn from their experiences and get your questions answered.",color:"bg-green-50"},{icon:o.jsx(c4,{className:"w-8 h-8"}),title:"Skill Challenges",description:"Test your knowledge with daily challenges. Earn badges and showcase your achievements.",color:"bg-yellow-50"},{icon:o.jsx(Vr,{className:"w-8 h-8"}),title:"Peer Learning",description:"Connect with fellow learners. Collaborate on projects and grow together.",color:"bg-purple-50"},{icon:o.jsx(n4,{className:"w-8 h-8"}),title:"AI Learning Path",description:"Personalized learning paths powered by AI. Learn at your own pace and style.",color:"bg-pink-50"},{icon:o.jsx(Jn,{className:"w-8 h-8"}),title:"Industry Projects",description:"Work on real-world projects. Build a portfolio that stands out.",color:"bg-orange-50"}];return o.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Why Choose TDC?"}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover our unique approach to tech education that sets us apart"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:t*.1},whileHover:{scale:1.05},className:`${e.color} p-6 rounded-xl shadow-sm hover:shadow-md transition-all duration-300`,children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"text-gray-800",children:e.icon}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 ml-3",children:e.title})]}),o.jsx("p",{className:"text-gray-600",children:e.description}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{className:"text-white-600 hover:text-blue-700 font-medium",children:"Learn more "})})]},t))}),o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mt-16 text-center",children:o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-50 px-4 py-2 rounded-full",children:[o.jsx("span",{className:"text-blue-600 font-medium",children:"New!"}),o.jsx("span",{className:"text-gray-700",children:"AI-powered personalized learning paths now available"})]})})]})})}function sQ(){const n=[{name:"Vikram singh",role:"Data Engineer",company:"Microsoft",image:"https://res.cloudinary.com/dl4zkgesn/image/upload/v1741770120/hjjxjzntawgedqnjv8zi.jpg",story:"From a non-tech background to landing my dream job at Microsoft in just 8 months!",rating:5},{name:"Sofia Williams",role:"Data Scientist",company:"Amazon",image:"https://res.cloudinary.com/dl4zkgesn/image/upload/v1741770226/sofia_williams_hiwpta.jpg",story:"TDC's AI course helped me transition from analytics to data science seamlessly.",rating:5},{name:"Sneha Nair",role:"Cloud Engineer",company:"Google",image:"https://res.cloudinary.com/dl4zkgesn/image/upload/v1741770278/sneha_nair_mkgsd7.jpg",story:"The hands-on projects and mentorship were game-changers in my career.",rating:5}];return L.useEffect(()=>{fetch(`${de}/student/success`,{method:"GET"}).then(e=>e.json()).then(e=>{})},[]),o.jsx("section",{className:"py-20 bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Success Stories"}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Join thousands of successful students who transformed their careers with TDC"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map((e,t)=>o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:t*.2},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[o.jsxs("div",{className:"relative h-48",children:[o.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:[o.jsx("h3",{className:"text-white font-semibold",children:e.name}),o.jsx("div",{className:"flex items-center text-yellow-400",children:[...Array(e.rating)].map((r,s)=>o.jsx(Pl,{size:16,fill:"currentColor"},s))})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(r4,{className:"w-5 h-5 text-blue-600 mr-2"}),o.jsxs("span",{className:"text-gray-600",children:[e.role," at ",e.company]})]}),o.jsx("p",{className:"text-gray-600",children:e.story})]})]},t))}),o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-16 text-center",children:o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-50 px-6 py-3 rounded-full",children:[o.jsx(t4,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"text-gray-700 font-medium",children:"Join 10,000+ successful graduates"})]})})]})})}function iQ(){const n=L.useRef(null),{scrollYProgress:e}=SA({target:n,offset:["start end","end start"]}),t=Pc(e,[0,1],[100,-100]),r=Pc(e,[0,.5,1],[0,1,0]),s=[{icon:o.jsx(Vr,{className:"w-8 h-8"}),value:"500+",label:"Active Learners",color:"bg-blue-500",count:500},{icon:o.jsx(Jn,{className:"w-8 h-8"}),value:"200+",label:"Expert-Led Courses",color:"bg-green-500",count:200},{icon:o.jsx(c4,{className:"w-8 h-8"}),value:"95%",label:"Success Rate",color:"bg-yellow-500",count:95},{icon:o.jsx(Cm,{className:"w-8 h-8"}),value:"24/7",label:"Learning Support",color:"bg-purple-500",count:24}],[i,a]=L.useState(s.map(l=>({...l,animatedValue:0})));return L.useEffect(()=>{(()=>{const c=[];return i.forEach((u,d)=>{const h=u.count;let f=u.label==="Active Learners"?0:1;const y=Math.abs(Math.floor(2*1e3/h)),x=setInterval(()=>{f<h?(f++,a(b=>{const m=[...b];return m[d].animatedValue=f,m})):clearInterval(x)},y);c.push(x)}),()=>c.forEach(clearInterval)})()},[]),o.jsx("section",{ref:n,className:"py-20 bg-white overflow-hidden",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4",children:o.jsx(Y.div,{style:{y:t,opacity:r},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((l,c)=>o.jsxs(Y.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.1,delay:c*.1},className:"relative group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-100 to-gray-50 rounded-2xl transform group-hover:scale-105 transition-transform duration-300"}),o.jsxs("div",{className:"relative p-8 text-center",children:[o.jsx("div",{className:`inline-flex p-3 rounded-lg ${l.color} bg-opacity-10 mb-4`,children:o.jsx("div",{className:`text-${l.color.split("-")[1]}-500`,children:l.icon})}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:l.label==="Success Rate"?`${l.animatedValue}%`:l.label==="Learning Support"?`${l.animatedValue}/7`:l.animatedValue.toLocaleString()}),o.jsx("p",{className:"text-gray-600",children:l.label})]})]},c))})})})}function aQ(){const[n,e]=L.useState("Analyst"),t=[{id:"Analyst",label:"Analyst"},{id:"Transitioner",label:"Transitioner"},{id:"Specialist",label:"Specialist"},{id:"Executive",label:"Executive"}],r={Analyst:{title:"Analyst",description:"Lacks practical skills for entry-level jobs. Solution: TopDataCoach's recorded courses and mentorship build a portfolio and provide job-ready skills.",image:"https://res.cloudinary.com/dqt4zammn/image/upload/v1734429178/api5kfd3wfdkakatqsbn.jpg",icon:o.jsx(Ca,{className:"w-6 h-6"}),buttonText:"Explore Analyst"},Transitioner:{title:"Transitioner",description:"Can't demonstrate proficiency to employers. Solution: TopDataCoach's mentor courses and internships offer real-world project experience and personalized feedback.",image:"https://res.cloudinary.com/dqt4zammn/image/upload/v1734429178/api5kfd3wfdkakatqsbn.jpg",icon:o.jsx(ID,{className:"w-6 h-6"}),buttonText:"Start Transitioner"},Specialist:{title:"Specialist",description:"Needs to upskill for career advancement. Solution: TopDataCoach's specialized architecture and domain courses enhance expertise and open new opportunities.",image:"https://res.cloudinary.com/dqt4zammn/image/upload/v1734429178/api5kfd3wfdkakatqsbn.jpg",icon:o.jsx(xE,{className:"w-6 h-6"}),buttonText:"Practice Specialist"},Executive:{title:"Specialist",description:"Requires data literacy for strategic decisions. Solution: TopDataCoach's mentorship program develops leadership and data skills through non-profit projects.",image:"https://res.cloudinary.com/dqt4zammn/image/upload/v1734429178/api5kfd3wfdkakatqsbn.jpg",icon:o.jsx(xE,{className:"w-6 h-6"}),buttonText:"Practice Specialist"}};return o.jsx("section",{className:"py-16 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsx(Y.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl font-bold text-center text-gray-900 mb-8",children:"Learn. Practice. Earn. Have Fun!"}),o.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:t.map(s=>o.jsx("button",{onClick:()=>e(s.id),className:`px-6 py-3 rounded-md text-sm font-medium transition-colors
                ${n===s.id?"bg-[#333333] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:s.label},s.id))}),o.jsx(co,{mode:"wait",children:r[n]&&o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"order-2 md:order-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r[n].icon,o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r[n].title})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:r[n].description}),o.jsx("button",{className:"px-6 py-3 bg-[#333333] text-white rounded-md hover:bg-gray-700 transition-colors",children:r[n].buttonText})]}),o.jsx(Y.div,{className:"order-1 md:order-2",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},children:o.jsx("img",{src:r[n].image,alt:r[n].title,className:"w-full rounded-lg shadow-lg"})})]},n)})]})})}function oQ(){return console.log("Home component rendered"),o.jsxs("div",{className:"home-container",children:[o.jsx(ZY,{}),o.jsx(tQ,{}),o.jsx(nQ,{}),o.jsx(aQ,{}),o.jsx(rQ,{}),o.jsx(sQ,{}),o.jsx(iQ,{}),o.jsx($m,{})]})}function lQ(){const n="",e=()=>{window.open(`https://wa.me/${n}`,"_blank")},t={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},r=[{icon:OY,count:"10,000+",label:"Students Trained"},{icon:LY,count:"500+",label:"Courses"},{icon:BY,count:"50+",label:"Expert Mentors"},{icon:H5,count:"95%",label:"Success Rate"}],s=async i=>{i.preventDefault();const a=new FormData(i.target),l={name:a.get("name"),email:a.get("email"),subject:a.get("subject"),message:a.get("message")};try{(await fetch(`${de}/api/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok?(alert("Message sent successfully!"),i.target.reset()):alert("Failed to send message. Please try again.")}catch(c){console.error("Error sending message:",c),alert("Error sending message. Please try again.")}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[o.jsxs("div",{className:"relative bg-[#333333] text-white overflow-hidden",children:[o.jsx(Y.div,{initial:{opacity:0},animate:{opacity:.1},className:"absolute inset-0 grid grid-cols-6 gap-2 p-2 pointer-events-none",children:[...Array(24)].map((i,a)=>o.jsx("div",{className:"h-32 bg-white/5 rounded-lg"},a))}),o.jsxs("div",{className:"relative container mx-auto px-4 py-24",children:[o.jsx(Y.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-5xl font-bold text-center mb-6",children:"Let's Connect"}),o.jsx(Y.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center text-xl text-gray-300 max-w-2xl mx-auto",children:"Transform your learning journey with TDC. We're here to guide you every step of the way."})]})]}),o.jsx("div",{className:"container mx-auto px-4 py-16",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:r.map((i,a)=>o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"bg-white rounded-xl shadow-lg p-6 text-center transform hover:scale-105 transition-transform duration-300",children:[o.jsx(i.icon,{className:"text-4xl text-[#333333] mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-2",children:i.count}),o.jsx("p",{className:"text-gray-600",children:i.label})]},a))})}),o.jsx(Y.div,{initial:"initial",animate:"animate",variants:t,className:"container mx-auto px-4 py-16 bg-gradient-to-r from-gray-50 to-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("h2",{className:"text-4xl font-bold text-center mb-12 text-[#333333]",children:["About ",o.jsx("span",{className:"text-indigo-600",children:"TDC"})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 transform hover:shadow-2xl transition-shadow duration-300",children:o.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"prose max-w-none",children:[o.jsx("p",{className:"text-[#333333] text-lg leading-relaxed mb-8",children:"TDC is an IIT-M & IIM-A Incubated Ed-tech company that focuses on providing personalized learning solutions for its learners. Our mission is to make quality education accessible to everyone through innovative technology and expert guidance."}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs(Y.div,{whileHover:{scale:1.03},className:"bg-gradient-to-br from-gray-50 to-gray-100 p-6 rounded-xl border border-gray-200",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4 text-[#333333]",children:"Our Vision"}),o.jsx("p",{className:"text-[#333333]",children:"To revolutionize education through technology and make quality learning accessible to all."})]}),o.jsxs(Y.div,{whileHover:{scale:1.03},className:"bg-gradient-to-br from-gray-50 to-gray-100 p-6 rounded-xl border border-gray-200",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4 text-[#333333]",children:"Our Values"}),o.jsx("p",{className:"text-[#333333]",children:"Innovation, Excellence, Accessibility, and Student Success drive everything we do."})]})]})]})})]})}),o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"container mx-auto px-4 py-16",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-[#333333]",children:"Watch Our Introduction"}),o.jsx("div",{className:"relative pt-[56.25%] rounded-xl overflow-hidden shadow-xl",children:o.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:"https://www.youtube.com/embed/UjxTZJ6UaLY",title:"TDC Introduction",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}),o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"container mx-auto px-4 py-16",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-[#333333]",children:"Send Us a Message"}),o.jsxs(Y.form,{onSubmit:s,className:"bg-white rounded-xl shadow-xl p-8 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[o.jsx("label",{className:"block text-sm font-medium text-[#333333] mb-2",children:"Your Name"}),o.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#333333] focus:border-transparent transition-all duration-300",placeholder:"John Doe"})]}),o.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:[o.jsx("label",{className:"block text-sm font-medium text-[#333333] mb-2",children:"Your Email"}),o.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#333333] focus:border-transparent transition-all duration-300",placeholder:"john@example.com"})]})]}),o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[o.jsx("label",{className:"block text-sm font-medium text-[#333333] mb-2",children:"Subject"}),o.jsx("input",{type:"text",name:"subject",required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#333333] focus:border-transparent transition-all duration-300",placeholder:"How can we help you?"})]}),o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[o.jsx("label",{className:"block text-sm font-medium text-[#333333] mb-2",children:"Message"}),o.jsx("textarea",{name:"message",required:!0,rows:"4",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#333333] focus:border-transparent transition-all duration-300",placeholder:"Your message here..."})]}),o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"flex justify-end",children:o.jsxs("button",{type:"submit",className:"px-6 py-3 bg-[#333333] text-white rounded-lg hover:bg-gray-700 transition-colors duration-300 flex items-center space-x-2",children:[o.jsx(PY,{className:"w-5 h-5"}),o.jsx("span",{children:"Send Message"})]})})]})]})}),o.jsx("div",{className:"container mx-auto px-4 py-16",children:o.jsx("div",{className:"grid md:grid-cols-1 gap-12",children:o.jsx(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"space-y-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 hover:shadow-2xl transition-shadow duration-300",children:[o.jsx("h3",{className:"text-3xl font-bold mb-8 text-[#333333] border-b pb-4",children:"Get in Touch"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs(Y.div,{whileHover:{x:10},className:"flex items-start space-x-4 p-4 rounded-lg hover:bg-gray-50 transition-colors duration-300",children:[o.jsx(RY,{className:"text-[#333333] text-3xl mt-1"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-[#333333] text-lg",children:"Address"}),o.jsxs("p",{className:"text-[#333333] mt-2",children:["IITM Research Park, Taramani,",o.jsx("br",{}),"Chennai, Tamil Nadu 600113",o.jsx("br",{}),"India"]})]})]}),o.jsxs(Y.div,{whileHover:{x:10},className:"flex items-center space-x-4 p-4 rounded-lg hover:bg-gray-50 transition-colors duration-300",children:[o.jsx(MY,{className:"text-[#333333] text-3xl"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-[#333333] text-lg",children:"Phone"}),o.jsx("p",{className:"text-[#333333] mt-2",children:"+91 950 0120 298"})]})]}),o.jsxs(Y.div,{whileHover:{x:10},className:"flex items-center space-x-4 p-4 rounded-lg hover:bg-gray-50 transition-colors duration-300",children:[o.jsx(z3,{className:"text-[#333333] text-3xl"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-[#333333] text-lg",children:"WhatsApp"}),o.jsxs("p",{className:"text-[#333333] mt-2",children:["+91 ",n]})]})]})]})]})})})}),o.jsx(Y.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1,rotate:10},whileTap:{scale:.9},onClick:e,className:"fixed bottom-8 right-8 bg-green-500 text-white p-4 rounded-full shadow-lg z-50 cursor-pointer hover:bg-green-600 transition-colors duration-300",children:o.jsx(z3,{className:"text-3xl"})}),o.jsx($m,{})]})}function cQ({children:n}){const[e,t]=L.useState(!0),[r,s]=L.useState(!1);return L.useEffect(()=>{(async()=>{const a=$5();s(a),t(!1)})()},[]),e?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"})}):r?n:o.jsx(CN,{to:"/login",replace:!0})}const uQ="https://res.cloudinary.com/dqt4zammn/image/upload/v1736175847/Pngtree_man_avatar_image_for_profile_13001882_blg3md.png";function dQ(){const n=Ue(),[e,t]=L.useState(!0),[r,s]=L.useState(""),[i,a]=L.useState(""),[l,c]=L.useState(uQ),[u,d]=L.useState({firstName:"",lastName:"",email:"",phoneNumber:""}),[h,f]=L.useState({dob:"",city:"",country:"",education:"",department:"",occupation:"",pincode:"",address:""});L.useEffect(()=>{p()},[]);const p=async()=>{try{const m=localStorage.getItem("token");if(!m){n("/login");return}const S=await(await fetch(`${de}/api/user-profile`,{headers:{Authorization:`Bearer ${m}`}})).json();S.success&&S.user&&d({firstName:S.user.firstName,lastName:S.user.lastName,email:S.user.email,phoneNumber:S.user.phoneNumber});const N=await(await fetch(`${de}/api/profile`,{headers:{Authorization:`Bearer ${m}`}})).json();N.success&&N.profile&&f({dob:new Date(N.profile.dob).toISOString().split("T")[0],city:N.profile.city||"",country:N.profile.country||"",education:N.profile.education||"",department:N.profile.department||"",occupation:N.profile.occupation||"",pincode:N.profile.pincode||"",address:N.profile.address||""})}catch(m){console.error("Error:",m),s("Failed to fetch user data")}finally{t(!1)}},y=async m=>{m.preventDefault(),s(""),a("");try{const v=localStorage.getItem("token"),w=await(await fetch(`${de}/api/profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({name:`${u.firstName} ${u.lastName}`,email:u.email,phone:u.phoneNumber,...h})})).json();w.success?a("Profile updated successfully!"):s(w.message||"Failed to update profile")}catch{s("An error occurred while updating profile")}},x=m=>{f(v=>({...v,[m.target.name]:m.target.value}))},b=m=>{const v=m.target.files[0];if(v){const S=new FileReader;S.onloadend=()=>{c(S.result)},S.readAsDataURL(v)}};return e?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:"relative h-80 w-full",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1707343843437-caacff5cfa74?q=80&w=2940&auto=format&fit=crop",alt:"Cover",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-gray-50"})]}),o.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"relative -mt-24",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),o.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-indigo-600 p-2 rounded-full text-white cursor-pointer shadow-lg hover:bg-indigo-700 transition-colors",children:o.jsx(AD,{className:"w-4 h-4"})}),o.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:b})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Name"}),o.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[u.firstName," ",u.lastName]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),o.jsx("p",{className:"text-gray-900",children:u.email})]})]})]})}),r&&o.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-md",children:r}),i&&o.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded-md",children:i}),o.jsxs("form",{onSubmit:y,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Cx,{className:"w-4 h-4 mr-2"}),"Phone Number"]}),o.jsx("input",{type:"tel",value:u.phoneNumber,disabled:!0,className:"w-full p-2 border text-black border-gray-300 rounded-md bg-gray-50"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Cc,{className:"w-4 h-4 mr-2"}),"Date of Birth"]}),o.jsx("input",{type:"date",name:"dob",value:h.dob,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ig,{className:"w-4 h-4 mr-2"}),"City"]}),o.jsx("input",{type:"text",name:"city",value:h.city,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[o.jsx(RD,{className:"w-4 h-4 mr-2"}),"Country"]}),o.jsx("input",{type:"text",name:"country",value:h.country,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Education"]}),o.jsx("input",{type:"text",name:"education",value:h.education,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Department"]}),o.jsx("input",{type:"text",name:"department",value:h.department,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ig,{className:"w-4 h-4 mr-2"}),"Address"]}),o.jsx("textarea",{name:"address",value:h.address,onChange:x,rows:3,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",placeholder:"Enter your full address"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ig,{className:"w-4 h-4 mr-2"}),"Pincode"]}),o.jsx("input",{type:"text",name:"pincode",value:h.pincode,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",placeholder:"Enter your pincode"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[o.jsx(r4,{className:"w-4 h-4 mr-2"}),"Occupation"]}),o.jsx("input",{type:"text",name:"occupation",value:h.occupation,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),o.jsx("div",{className:"md:col-span-2 flex justify-end space-x-3",children:o.jsx(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"px-4 py-2 text-#333333 text-white rounded-md hover:bg-indigo-700",children:"Save Changes"})})]})]})})})]})}function hQ(){const n=Ue(),[e,t]=L.useState(1),[r,s]=L.useState(""),[i,a]=L.useState("+91"),[l,c]=L.useState(""),[u,d]=L.useState(""),[h,f]=L.useState(""),[p,y]=L.useState(!1),[x,b]=L.useState(""),[m,v]=L.useState(null),[S,w]=L.useState(!1),[N,E]=L.useState(!1),_=async j=>{j.preventDefault(),y(!0),b("");try{const T=await(await fetch(`${de}/api/forgot-password/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:`${i}${r}`})})).json();T.success?t(2):b(T.message||"Failed to send OTP")}catch{b("Failed to send OTP. Please try again.")}finally{y(!1)}},A=async j=>{j.preventDefault(),y(!0),b("");try{const T=await(await fetch(`${de}/api/forgot-password/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:`${i}${r}`,otp:l})})).json();T.success?(v(T.userId),t(3)):b(T.message||"Invalid OTP")}catch{b("Failed to verify OTP. Please try again.")}finally{y(!1)}},C=async j=>{if(j.preventDefault(),y(!0),b(""),u!==h){b("Passwords do not match"),y(!1);return}try{const T=await(await fetch(`${de}/api/forgot-password/reset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:m,newPassword:u})})).json();T.success?n("/login"):b(T.message||"Failed to reset password")}catch{b("Failed to reset password. Please try again.")}finally{y(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-lg",children:[o.jsx("div",{children:o.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Reset Password"})}),x&&o.jsx("div",{className:"text-red-500 bg-red-50 p-3 rounded-lg text-sm text-center",children:x}),e===1&&o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsxs("div",{className:"flex",children:[o.jsxs("select",{value:i,onChange:j=>a(j.target.value),className:"px-3 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",children:[o.jsx("option",{children:"+91"}),o.jsx("option",{children:"+1"}),o.jsx("option",{children:"+44"}),o.jsx("option",{children:"+61"})]}),o.jsx("input",{type:"tel",value:r,onChange:j=>s(j.target.value),placeholder:"Phone Number",className:"flex-1 px-4 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",required:!0})]}),o.jsx("button",{type:"submit",disabled:p,className:"w-full px-4 py-3 text-white bg-[#333333] rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#333333] transition-colors disabled:opacity-50",children:p?"Sending OTP...":"Send OTP"})]}),e===2&&o.jsxs("form",{onSubmit:A,className:"space-y-6",children:[o.jsx("input",{type:"text",value:l,onChange:j=>c(j.target.value),placeholder:"Enter OTP",className:"w-full px-4 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",required:!0}),o.jsx("button",{type:"submit",disabled:p,className:"w-full px-4 py-3 text-white bg-[#333333] rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#333333] transition-colors disabled:opacity-50",children:p?"Verifying...":"Verify OTP"})]}),e===3&&o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:S?"text":"password",value:u,onChange:j=>d(j.target.value),placeholder:"Enter New Password",className:"w-full px-4 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",required:!0}),o.jsx("button",{type:"button",onClick:()=>w(!S),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:S?o.jsx(Q0,{size:20}):o.jsx(Cl,{size:20})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:N?"text":"password",value:h,onChange:j=>f(j.target.value),placeholder:"Confirm New Password",className:"w-full px-4 py-3 text-gray-700 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#333333] focus:border-transparent",required:!0}),o.jsx("button",{type:"button",onClick:()=>E(!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:N?o.jsx(Q0,{size:20}):o.jsx(Cl,{size:20})})]}),o.jsx("button",{type:"submit",disabled:p,className:"w-full px-4 py-3 text-white bg-[#333333] rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#333333] transition-colors disabled:opacity-50",children:p?"Resetting Password...":"Reset Password"})]})]})})}function fQ(){return o.jsxs("div",{className:"w-full min-h-screen",children:[o.jsx(vr,{}),o.jsxs(PN,{children:[o.jsx(Pe,{path:"/login",element:o.jsx(YY,{})}),o.jsx(Pe,{path:"/signup",element:o.jsx(JY,{})}),o.jsx(Pe,{path:"/",element:o.jsx(oQ,{})}),o.jsx(Pe,{path:"/contact",element:o.jsx(lQ,{})}),o.jsx(Pe,{path:"/forgot-password",element:o.jsx(hQ,{})}),o.jsx(Pe,{path:"/profile",element:o.jsx(cQ,{children:o.jsx(dQ,{})})}),o.jsx(Pe,{path:"*",element:o.jsx(CN,{to:"/",replace:!0})})]})]})}function pQ(){var E,_;const[n,e]=L.useState([]),[t,r]=L.useState(!0),[s,i]=L.useState({tag:"all",topic:"all"});L.useState(!1);const a=Ue(),[l,c]=L.useState(1),[u]=L.useState(9),d=["all","Featured","New","Popular","Trending"],h=["all","Power BI","Python","Data Science","Machine Learning","SQL","Data Analytics","NumPy","Pandas","Azure","AWS","Database","Big Data","Data Engineering","Data Visualization"];L.useEffect(()=>{(async()=>{try{const j=await(await fetch(`${de}/api/blog-posts`)).json();j.success&&e(j.posts)}catch(C){console.error("Error fetching blogs:",C)}finally{r(!1)}})()},[]);const f=n.filter(A=>{var k,T;const C=s.tag==="all"||((k=A.tags)==null?void 0:k.includes(s.tag)),j=s.topic==="all"||((T=A.topics)==null?void 0:T.includes(s.topic));return C&&j}),p=l*u,y=p-u,x=f.slice(y,p),b=Math.ceil(f.length/u),m=A=>{c(A),window.scrollTo({top:0,behavior:"smooth"})};L.useEffect(()=>{c(1)},[s]);const v=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),S=A=>{if(console.log("Blog data:",A),A.bannerImage)return console.log("Banner image found:",A.bannerImage),A.bannerImage.url;if(A.sections&&Array.isArray(A.sections)){const C=A.sections.find(j=>j.type==="image"&&j.content);if(C)return console.log("Image section found:",C),typeof C.content=="object"?C.content.url:C.content}return"https://via.placeholder.com/800x600/333333/FFFFFF?text=No+Image"},w=()=>{i({tag:"all",topic:"all"})},N=()=>b<=1?null:o.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-12",children:[o.jsx("button",{onClick:()=>m(l-1),disabled:l===1,className:`p-2 rounded-lg transition-colors duration-200 
            ${l===1?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(ON,{className:"w-5 h-5"})}),[...Array(b)].map((A,C)=>{const j=C+1;return j===1||j===b||j>=l-1&&j<=l+1?o.jsx("button",{onClick:()=>m(j),className:`px-4 py-2 rounded-lg transition-all duration-200
                  ${l===j?"bg-blue-600 text-white shadow-md scale-105":"text-gray-600 hover:bg-gray-100"}`,children:j},j):j===l-2||j===l+2?o.jsx("span",{className:"px-2",children:"..."},j):null}),o.jsx("button",{onClick:()=>m(l+1),disabled:l===b,className:`p-2 rounded-lg transition-colors duration-200 
            ${l===b?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(Tm,{className:"w-5 h-5"})})]});return t?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef] flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):o.jsxs(o.Fragment,{children:[o.jsx(vr,{}),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef]",children:[o.jsx("div",{className:"bg-gradient-to-r from-[#333333] to-[#111827] text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[o.jsx("h1",{className:"text-5xl font-bold text-center mb-6",children:"TDC Blog"}),o.jsx("p",{className:"text-xl text-center max-w-2xl mx-auto text-gray-300",children:"Latest insights and tutorials from our data experts"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:o.jsxs("div",{className:"flex flex-col space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(PD,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),(s.tag!=="all"||s.topic!=="all")&&o.jsxs("button",{onClick:w,className:"text-sm text-gray-600 hover:text-gray-900 flex items-center space-x-1",children:[o.jsx(js,{className:"w-4 h-4"}),o.jsx("span",{children:"Clear filters"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filter by Tags"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(A=>o.jsx("button",{onClick:()=>i(C=>({...C,tag:A})),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200
                        ${s.tag===A?"bg-blue-600 text-white shadow-md scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:A==="all"?"All Tags":A},A))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filter by Topics"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(A=>o.jsx("button",{onClick:()=>i(C=>({...C,topic:A})),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200
                        ${s.topic===A?"bg-blue-600 text-white shadow-md scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:A==="all"?"All Topics":A},A))})]}),(s.tag!=="all"||s.topic!=="all")&&o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:"Active filters:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tag!=="all"&&o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full",children:s.tag}),s.topic!=="all"&&o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full",children:s.topic})]})]})})]})}),o.jsxs("div",{className:"mb-6 text-gray-600",children:["Showing ",y+1,"-",Math.min(p,f.length)," of ",f.length," posts"]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-6 mb-12",children:[x[0]&&o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"col-span-12 md:col-span-8 cursor-pointer",onClick:()=>a(`/blog/${x[0]._id}`),children:o.jsxs("div",{className:"relative h-[600px] rounded-xl overflow-hidden group",children:[o.jsx("img",{src:S(x[0]),alt:x[0].title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent",children:o.jsxs("div",{className:"absolute bottom-0 p-8",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[(E=x[0].tags)==null?void 0:E.map(A=>o.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-full",children:A},A)),(_=x[0].topics)==null?void 0:_.map(A=>o.jsx("span",{className:"px-3 py-1 bg-gray-700 text-white text-sm rounded-full",children:A},A))]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-300 mb-4",children:[o.jsx("span",{className:"bg-blue-600 px-3 py-1 rounded-full",children:"Featured"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Cc,{className:"w-4 h-4 mr-2"}),v(x[0].createdAt)]})]}),o.jsx("h2",{className:"text-4xl font-bold mb-4 group-hover:text-blue-400 transition-colors",children:x[0].title}),o.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2",children:x[0].description}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fg,{className:"w-4 h-4 mr-1"}),o.jsx("span",{className:"text-gray-300",children:x[0].authorNameFE||"Admin"})]})]})})]})}),o.jsx("div",{className:"col-span-12 md:col-span-4 space-y-6",children:x.slice(1,3).map((A,C)=>o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer hover:shadow-xl transition-all duration-300",onClick:()=>a(`/blog/${A._id}`),children:[o.jsx("div",{className:"relative h-48",children:o.jsx("img",{src:S(A),alt:A.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[o.jsx(WD,{className:"w-4 h-4"}),o.jsx("span",{children:A.category||"Technology"})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:A.title}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Cc,{className:"w-4 h-4 mr-1"}),v(A.createdAt)]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fg,{className:"w-4 h-4 mr-1"}),A.authorNameFE||"Unknown Author"]})]})]})]},A._id))})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:x.slice(3).map((A,C)=>o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",onClick:()=>a(`/blog/${A._id}`),children:[o.jsx("div",{className:"relative h-48",children:o.jsx("img",{src:S(A),alt:A.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[o.jsx(Cc,{className:"w-4 h-4"}),o.jsx("span",{children:v(A.createdAt)})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:A.title}),o.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:A.description}),o.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fg,{className:"w-4 h-4 mr-1"}),A.authorNameFE||"Unknown Author"]})}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsx(Nl,{className:"w-5 h-5 text-blue-600"})})]})]},A._id))}),o.jsx(N,{})]})]})]})]})}const mQ=()=>{const{id:n}=Ai(),[e,t]=L.useState(null),[r,s]=L.useState(!0),i=Ue();L.useRef(!1),L.useEffect(()=>{(async()=>{if(n)try{const d=await(await fetch(`${de}/api/blog-posts/${n}`)).json();if(d.success){t(d.post);const h=`blog_${n}_viewed_at`,f=sessionStorage.getItem(h),p=new Date().toISOString(),x=await(await fetch(`${de}/api/blog-posts/${n}/increment-view`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lastViewedAt:f})})).json();x.success&&(sessionStorage.setItem(h,p),t(b=>({...b,views:x.newCount})))}}catch(u){console.error("Error loading blog post:",u)}finally{s(!1)}})()},[n]);const a=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),l=c=>{switch(c.type){case"text":return o.jsx("div",{className:"prose max-w-none",children:o.jsx(n1,{value:c.content,readOnly:!0,theme:"bubble"})});case"code":return o.jsx("pre",{className:"bg-gray-900 text-white p-4 rounded-lg overflow-x-auto",children:o.jsx("code",{children:c.content})});case"image":return o.jsxs("figure",{className:"my-8",children:[o.jsx("img",{src:c.content.url||c.content,alt:c.content.caption||"Blog image",className:"w-full rounded-lg shadow-lg"}),c.content.caption&&o.jsx("figcaption",{className:"mt-2 text-center text-sm text-gray-600",children:c.content.caption})]});case"video":return o.jsx("div",{className:"relative pb-[56.25%] h-0",children:o.jsx("iframe",{src:c.content,className:"absolute top-0 left-0 w-full h-full rounded-lg",allowFullScreen:!0})});case"callToAction":return o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx("a",{href:c.content.url,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:c.content.text})});default:return null}};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):e?o.jsxs(o.Fragment,{children:[o.jsx(vr,{}),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef]",children:[o.jsx("div",{className:"bg-gradient-to-r from-[#333333] to-[#111827] text-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("button",{onClick:()=>i("/blog"),className:"flex items-center text-gray-200 hover:text-white transition-colors mb-8 group",children:[o.jsx(yr,{className:"w-5 h-5 mr-2 transform group-hover:-translate-x-1 transition-transform"}),"Back to Blogs"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:e.title}),o.jsxs("div",{className:"flex items-center space-x-6 text-gray-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Cc,{className:"w-5 h-5 mr-2"}),a(e.createdAt)]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fg,{className:"w-5 h-5 mr-2"}),e.authorNameFE||"Unknown Author"]})]}),o.jsxs("div",{className:"text-sm text-gray-500 mt-4",children:["Views: ",e.views||0]})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12",children:o.jsx("div",{className:"space-y-12 prose prose-lg max-w-none",children:o.jsx("div",{className:"prose-headings:text-[#111827] prose-p:text-[#333333]",children:e.sections.map((c,u)=>o.jsx("div",{className:"blog-section",children:l(c)},u))})})}),o.jsx("div",{className:"mt-12 flex justify-between items-center",children:o.jsxs("button",{onClick:()=>i("/blog"),className:"flex items-center text-[#333333] hover:text-[#111827] transition-colors group",children:[o.jsx(yr,{className:"w-5 h-5 mr-2 transform group-hover:-translate-x-1 transition-transform"}),"Back to All Posts"]})})]})]})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("p",{className:"text-gray-600",children:"Blog post not found."})})};function gQ(){const[n,e]=L.useState("all"),[t,r]=L.useState("all"),[s,i]=L.useState(""),[a,l]=L.useState([]),[c,u]=L.useState(!0),d=Ue(),h=[{id:"all",name:"All Courses",icon:Jn},{id:"data-analytics",name:"Data Analytics",icon:Ca},{id:"data-science",name:"Data Science",icon:Ca},{id:"database",name:"Database",icon:Ow},{id:"cloud",name:"Cloud",icon:Ow}],f=[{id:"all",name:"All Levels"},{id:"beginner",name:"Self learning  "},{id:"intermediate",name:"Mentored Course"},{id:"advanced",name:"Live courses"}];L.useEffect(()=>{p()},[]);const p=async()=>{try{const v=await(await fetch(`${de}/api/courses`)).json();v.success&&l(v.courses)}catch(m){console.error("Error fetching courses:",m)}finally{u(!1)}},y=a.filter(m=>{var _,A,C,j,k,T,P;const v=(_=m.category)==null?void 0:_.toLowerCase().replace(/\s+/g,"-"),S=n==="all"||v===n.toLowerCase(),w=t==="all"||((A=m.level)==null?void 0:A.toLowerCase())===t.toLowerCase(),N=s.toLowerCase(),E=!s||((C=m.title)==null?void 0:C.toLowerCase().includes(N))||((j=m.description)==null?void 0:j.toLowerCase().includes(N))||((T=(k=m.instructor)==null?void 0:k.name)==null?void 0:T.toLowerCase().includes(N))||((P=m.category)==null?void 0:P.toLowerCase().includes(N));return S&&w&&E});L.useEffect(()=>{console.log("Selected Category:",n),console.log("Selected Level:",t),console.log("Search Query:",s),console.log("Filtered Courses:",y)},[n,t,s,y]);const x={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},b={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return c?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef] flex flex-col items-center justify-center",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading courses..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(vr,{}),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef]",children:[o.jsx("div",{className:"relative bg-gradient-to-r from-[#333333] to-[#111827] text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[o.jsx("h1",{className:"text-5xl font-bold text-center mb-6",children:"Master Your Skills with Our Courses"}),o.jsx("p",{className:"text-xl text-center max-w-2xl mx-auto text-gray-100 mb-8",children:"Explore our comprehensive courses designed to take you from beginner to expert."}),o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsx("input",{type:"text",placeholder:"Search for courses...",value:s,onChange:m=>i(m.target.value),className:"w-full px-6 py-4 rounded-full bg-white bg-opacity-10 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-white focus:bg-opacity-20 transition-all"})})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-12",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 text-[#111827]",children:"Categories"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:h.map(m=>{const v=m.icon;return o.jsxs("button",{onClick:()=>e(m.id),className:`flex items-center px-4 py-3 rounded-lg transition-all duration-300 ${n===m.id?"bg-[#111827] text-white shadow-lg":"bg-white text-[#333333] hover:bg-gray-100"}`,children:[o.jsx(v,{className:"w-5 h-5 mr-2"}),m.name]},m.id)})})]}),o.jsxs("div",{className:"md:w-64",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 text-[#111827]",children:"Level"}),o.jsx("div",{className:"flex flex-col gap-2",children:f.map(m=>o.jsx("button",{onClick:()=>r(m.id),className:`px-4 py-2 rounded-lg transition-all duration-300 ${t===m.id?"bg-[#111827] text-white shadow-lg":"bg-white text-[#333333] hover:bg-gray-100"}`,children:m.name},m.id))})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:o.jsx(Y.div,{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",variants:x,initial:"hidden",animate:"visible",children:y.map(m=>o.jsxs(Y.div,{variants:b,className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer transform hover:-translate-y-1 w-full",onClick:()=>d(`/course/${m._id}`),children:[o.jsxs("div",{className:"relative h-44",children:[o.jsx("img",{src:m.image||"/default-course-image.jpg",alt:m.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full text-sm font-medium text-[#111827]",children:m.level})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("img",{src:m.instructor.image||"/default-avatar.jpg",alt:m.instructor.name,className:"w-8 h-8 rounded-full mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600",children:"Instructor"}),o.jsx("p",{className:"font-medium text-[#111827] text-sm",children:m.instructor.name})]})]}),o.jsx("h2",{className:"text-xl font-bold text-[#111827] mb-2",children:m.title}),o.jsx("p",{className:"text-[#333333] mb-4 text-sm line-clamp-2",children:m.description}),o.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:m.resources.map((v,S)=>o.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[v.type==="video"&&o.jsx(Rx,{className:"w-3 h-3 mr-1"}),v.type==="exercise"&&o.jsx(Ca,{className:"w-3 h-3 mr-1"}),v.type==="quiz"&&o.jsx(Jn,{className:"w-3 h-3 mr-1"}),v.type==="download"&&o.jsx(Tx,{className:"w-3 h-3 mr-1"}),v.count," ",v.type,"s"]},S))}),o.jsxs("div",{className:"flex items-center justify-between mt-4 mb-3",children:[o.jsx("div",{className:"font-bold text-lg text-[#111827]",children:m.price>0?`${m.price}`:"Free"}),m.price>0&&o.jsx("button",{onClick:v=>{v.stopPropagation(),d(`/checkout/${m._id}`)},className:"bg-[#ffd025] text-[#222222] px-4 py-2 rounded-lg font-medium hover:bg-[#ffd025]/90 transition-all",children:"Buy Now"})]}),m.progress>0&&o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-3",children:o.jsx("div",{className:"bg-green-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${m.progress}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-[#333333]",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Cm,{className:"w-3 h-3 mr-1"}),m.duration]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vr,{className:"w-3 h-3 mr-1"}),m.students]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Pl,{className:"w-3 h-3 mr-1 text-yellow-400"}),m.rating]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(RN,{className:"w-3 h-3 mr-1"}),m.reviews]})]}),o.jsx(Tm,{className:"w-4 h-4"})]})]})]},m._id))})})]})]})}const yQ=({title:n,description:e,keywords:t,image:r="https://yourdomain.com/default-og-image.jpg",url:s,type:i="website"})=>{const a="Top Data Coach - Learn Tech Skills Online",l=n?`${n} | ${a}`:a;return o.jsxs(y8,{children:[o.jsx("title",{children:l}),o.jsx("meta",{name:"description",content:e}),o.jsx("meta",{name:"keywords",content:t}),o.jsx("meta",{property:"og:title",content:l}),o.jsx("meta",{property:"og:description",content:e}),o.jsx("meta",{property:"og:image",content:r}),o.jsx("meta",{property:"og:url",content:s}),o.jsx("meta",{property:"og:type",content:i}),o.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),o.jsx("meta",{name:"twitter:title",content:l}),o.jsx("meta",{name:"twitter:description",content:e}),o.jsx("meta",{name:"twitter:image",content:r}),o.jsx("meta",{name:"robots",content:"index, follow"}),o.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),o.jsx("link",{rel:"canonical",href:s})]})};function vQ(){const{id:n}=Ai(),e=Ue(),[t,r]=L.useState(null),[s,i]=L.useState(!0);L.useState(0);const[a,l]=L.useState(!1);return L.useEffect(()=>{const c=async()=>{try{const d=localStorage.getItem("token"),h=d?{Authorization:`Bearer ${d}`}:{},p=await(await fetch(`${de}/api/courses/${n}`,{headers:h})).json();if(p.success&&(r(p.course),l(p.isPurchased),console.log("Course purchase status:",p.isPurchased),p.isPurchased)){const y={...p.course,modules:p.course.modules.map(x=>({...x,isLocked:!1,lessons:x.lessons.map(b=>({...b,isLocked:!1}))}))};r(y)}}catch(d){console.error("Error fetching course details:",d)}finally{i(!1)}},u=async()=>{try{const d=localStorage.getItem("token");if(!d)return;const h=await fetch(`${de}/api/enrollments/${n}`,{headers:{Authorization:`Bearer ${d}`}});if(h.ok){const f=await h.json();f.success&&f.enrollment&&(l(!0),console.log("Found enrollment with status:",f.enrollment.status))}}catch(d){console.error("Error checking enrollment status:",d)}};c(),u()},[n]),s||!t?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef] flex flex-col items-center justify-center",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading course details..."})]}):o.jsxs(o.Fragment,{children:[t&&o.jsx(yQ,{title:t.title,description:t.description,keywords:`${t.title}, online course, programming, ${t.category}`,image:t.image,url:`https://yourdomain.com/course/${n}`,type:"article"}),o.jsx(vr,{}),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef]",children:[o.jsx("div",{className:"relative bg-gradient-to-r from-[#333333] to-[#111827] text-white py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("button",{onClick:()=>e("/course"),className:"text-gray-300 hover:text-white mb-8 flex items-center",children:" Back to Courses"}),o.jsx("h1",{className:"text-4xl font-bold mb-4",children:t.title}),o.jsx("p",{className:"text-xl text-gray-300 mb-8",children:t.description}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-4",children:o.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"30%"}})}),o.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[o.jsx("span",{children:"30% Complete"}),o.jsx("button",{className:"bg-blue-600 px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Continue Learning"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-6 text-sm",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Cm,{className:"w-5 h-5 mr-2"}),t.duration]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vr,{className:"w-5 h-5 mr-2"}),t.students," students"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Pl,{className:"w-5 h-5 mr-2 text-yellow-400"}),t.rating]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(RN,{className:"w-5 h-5 mr-2"}),t.reviews," reviews"]})]}),o.jsxs("div",{className:"mt-8 flex items-center",children:[o.jsx("img",{src:t.instructor.image||"/default-avatar.jpg",alt:t.instructor.name,className:"w-12 h-12 rounded-full mr-4"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:t.instructor.name}),o.jsx("div",{className:"text-gray-300",children:t.instructor.title})]})]}),o.jsxs("div",{className:"mt-8 flex items-center space-x-4",children:[o.jsx("div",{className:"text-3xl font-bold text-white",children:t.price>0?`${t.price}`:"Free"}),t.price>0&&o.jsx("button",{onClick:()=>e(`/checkout/${t._id}`),className:"bg-[#ffd025] text-[#222222] px-8 py-3 rounded-lg font-semibold hover:bg-[#ffd025]/90 transition-all",children:"Buy Now"})]}),o.jsx("div",{className:"mt-8 grid grid-cols-4 gap-4",children:t.resources.map((c,u)=>o.jsxs("div",{className:"text-center",children:[c.type==="video"&&o.jsx(Rx,{className:"w-6 h-6 mx-auto mb-2"}),c.type==="exercise"&&o.jsx(Ca,{className:"w-6 h-6 mx-auto mb-2"}),c.type==="quiz"&&o.jsx(Jn,{className:"w-6 h-6 mx-auto mb-2"}),c.type==="download"&&o.jsx(Tx,{className:"w-6 h-6 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold",children:c.count}),o.jsxs("div",{className:"text-sm text-gray-300",children:[c.type,"s"]})]},u))})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-[#111827] mb-6",children:"Course Curriculum"}),o.jsx("div",{className:"space-y-4",children:t.modules.map((c,u)=>o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold text-[#111827]",children:["Module ",u+1,": ",c.title]}),!a&&c.isLocked&&o.jsxs("span",{className:"text-[#111827] flex items-center",children:[o.jsx(J0,{className:"w-4 h-4 mr-1"}),"Locked"]})]}),o.jsx("div",{className:"mt-3 space-y-2",children:c.lessons.map((d,h)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:"text-sm font-medium text-[#111827] mr-3",children:[h+1,"."]}),o.jsx("span",{className:"text-[#111827]",children:d.title})]}),!a&&d.isLocked?o.jsxs("span",{className:"text-[#111827] flex items-center text-sm",children:[o.jsx(J0,{className:"w-4 h-4 mr-1"}),"Locked"]}):o.jsx(Ee,{to:`/course/${n}/modules/${c._id}/lessons/${d._id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Watch"})]},d._id))})]},c._id))})]})]})]})}function W5({value:n,onChange:e,language:t="javascript"}){return o.jsx("div",{className:"h-64 border border-gray-700 rounded-lg overflow-hidden",children:o.jsx(EA,{height:"100%",defaultLanguage:t,theme:"vs-dark",value:n,onChange:e,options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2}})})}const xQ="modulepreload",bQ=function(n){return"/"+n},W3={},ch=function(e,t,r){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=bQ(i),i in W3)return;W3[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":xQ,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};var Uh={};Uh.d=(n,e)=>{for(var t in e)Uh.o(e,t)&&!Uh.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Uh.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var be=globalThis.pdfjsLib={};Uh.d(be,{AbortException:()=>Vl,AnnotationEditorLayer:()=>SS,AnnotationEditorParamsType:()=>xe,AnnotationEditorType:()=>Se,AnnotationEditorUIManager:()=>Ml,AnnotationLayer:()=>vZ,AnnotationMode:()=>Ii,ColorPicker:()=>by,DOMSVGFactory:()=>zA,DrawLayer:()=>ES,FeatureTest:()=>bn,GlobalWorkerOptions:()=>ci,ImageKind:()=>Kg,InvalidPDFException:()=>K5,MissingPDFException:()=>Ul,OPS:()=>Ar,OutputScale:()=>m2,PDFDataRangeTransport:()=>HO,PDFDateString:()=>RA,PDFWorker:()=>Lc,PasswordResponses:()=>AQ,PermissionFlag:()=>NQ,PixelsPerInch:()=>Da,RenderingCancelledException:()=>OA,TextLayer:()=>V2,UnexpectedResponseException:()=>l1,Util:()=>he,VerbosityLevel:()=>i1,XfaLayer:()=>WO,build:()=>JJ,createValidAbsoluteUrl:()=>kQ,fetchData:()=>u1,getDocument:()=>VJ,getFilenameFromUrl:()=>IQ,getPdfFilenameFromUrl:()=>FQ,getXfaPageViewport:()=>BQ,isDataScheme:()=>d1,isPdfFile:()=>LA,noContextMenu:()=>xr,normalizeUnicode:()=>RQ,setLayerDimensions:()=>Rl,shadow:()=>Ce,version:()=>QJ});const dn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),G5=[1,0,0,1,0,0],d2=[.001,0,0,.001,0,0],wQ=1e7,Sb=1.35,Hn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ii={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},SQ="pdfjs_internal_editor_",Se={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},xe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},NQ={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},en={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Kg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},At={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Qd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},i1={ERRORS:0,WARNINGS:1,INFOS:5},Ar={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},AQ={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let a1=i1.WARNINGS;function jQ(n){Number.isInteger(n)&&(a1=n)}function EQ(){return a1}function o1(n){a1>=i1.INFOS&&console.log(`Info: ${n}`)}function _e(n){a1>=i1.WARNINGS&&console.log(`Warning: ${n}`)}function Ye(n){throw new Error(n)}function Ct(n,e){n||Ye(e)}function _Q(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function kQ(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=LQ(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(_Q(r))return r}catch{}return null}function Ce(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Ha=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class h2 extends Ha{constructor(e,t){super(e,"PasswordException"),this.code=t}}class f2 extends Ha{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class K5 extends Ha{constructor(e){super(e,"InvalidPDFException")}}class Ul extends Ha{constructor(e){super(e,"MissingPDFException")}}class l1 extends Ha{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class TQ extends Ha{constructor(e){super(e,"FormatError")}}class Vl extends Ha{constructor(e){super(e,"AbortException")}}function X5(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ye("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let s=0;s<e;s+=t){const i=Math.min(s+t,e),a=n.subarray(s,i);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function c1(n){typeof n!="string"&&Ye("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function CQ(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function CA(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function PQ(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function OQ(){try{return new Function(""),!0}catch{return!1}}class bn{static get isLittleEndian(){return Ce(this,"isLittleEndian",PQ())}static get isEvalSupported(){return Ce(this,"isEvalSupported",OQ())}static get isOffscreenCanvasSupported(){return Ce(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ce(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ce(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Ce(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Nb=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Ic,Xg,vf,p2;class he{static makeHexColor(e,t,r){return`#${Nb[e]}${Nb[t]}${Nb[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[r,s]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,i=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[s,i]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],s[0],i[0],a[0]),Math.min(r[1],s[1],i[1],a[1]),Math.max(r[0],s[0],i[0],a[0]),Math.max(r[1],s[1],i[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],l=(r+a)/2,c=Math.sqrt((r+a)**2-4*(r*a-i*s))/2,u=l+c||1,d=l-c||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[r,i,s,a]}static bezierBoundingBox(e,t,r,s,i,a,l,c,u){return u?(u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],t,c)):u=[Math.min(e,l),Math.min(t,c),Math.max(e,l),Math.max(t,c)],F(this,vf,p2).call(this,e,r,i,l,t,s,a,c,3*(-e+3*(r-i)+l),6*(e-2*r+i),3*(r-e),u),F(this,vf,p2).call(this,e,r,i,l,t,s,a,c,3*(-t+3*(s-a)+c),6*(t-2*s+a),3*(s-t),u),u}}Ic=new WeakSet,Xg=function(e,t,r,s,i,a,l,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,y=h*(h*(h*e+3*u*t)+3*f*r)+p*s,x=h*(h*(h*i+3*u*a)+3*f*l)+p*c;d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],x),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],x)},vf=new WeakSet,p2=function(e,t,r,s,i,a,l,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&F(this,Ic,Xg).call(this,e,t,r,s,i,a,l,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const y=Math.sqrt(p),x=2*u;F(this,Ic,Xg).call(this,e,t,r,s,i,a,l,c,(-d+y)/x,f),F(this,Ic,Xg).call(this,e,t,r,s,i,a,l,c,(-d-y)/x,f)},O(he,Ic),O(he,vf);function LQ(n){return decodeURIComponent(escape(n))}let Ab=null,G3=null;function RQ(n){return Ab||(Ab=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,G3=new Map([["","t"]])),n.replaceAll(Ab,(e,t,r)=>t?t.normalize("NFKC"):G3.get(r))}function MQ(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return X5(n)}const PA="pdfjs_internal_id_",ks={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function DQ(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(X5(n))}const Cs="http://www.w3.org/2000/svg",no=class no{};me(no,"CSS",96),me(no,"PDF",72),me(no,"PDF_TO_CSS_UNITS",no.CSS/no.PDF);let Da=no;async function u1(n,e="text"){if(uh(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}r(new Error(s.statusText))}},s.send(null)})}class zm{constructor({viewBox:e,scale:t,rotation:r,offsetX:s=0,offsetY:i=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=s,this.offsetY=i;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,h,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,f=-f);let p,y,x,b;u===0?(p=Math.abs(c-e[1])*t+s,y=Math.abs(l-e[0])*t+i,x=(e[3]-e[1])*t,b=(e[2]-e[0])*t):(p=Math.abs(l-e[0])*t+s,y=Math.abs(c-e[1])*t+i,x=(e[2]-e[0])*t,b=(e[3]-e[1])*t),this.transform=[u*t,d*t,h*t,f*t,p-u*t*l-h*t*c,y-d*t*l-f*t*c],this.width=x,this.height=b}get rawDims(){const{viewBox:e}=this;return Ce(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}={}){return new zm({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}convertToViewportPoint(e,t){return he.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=he.applyTransform([e[0],e[1]],this.transform),r=he.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return he.applyInverseTransform([e,t],this.transform)}}class OA extends Ha{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function d1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function LA(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function IQ(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function FQ(n,e="document.pdf"){if(typeof n!="string")return e;if(d1(n))return _e('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(n);let i=r.exec(s[1])||r.exec(s[2])||r.exec(s[3]);if(i&&(i=i[0],i.includes("%")))try{i=r.exec(decodeURIComponent(i))[0]}catch{}return i||e}class K3{constructor(){me(this,"started",Object.create(null));me(this,"times",[])}time(e){e in this.started&&_e(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||_e(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:s,end:i}of this.times)e.push(`${r.padEnd(t)} ${i-s}ms
`);return e.join("")}}function uh(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function xr(n){n.preventDefault()}function X3(n){console.log("Deprecated API usage: "+n)}var xf;class RA{static toDateObject(e){if(!e||typeof e!="string")return null;g(this,xf)||I(this,xf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=g(this,xf).exec(e);if(!t)return null;const r=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,l+=h):u==="+"&&(a-=d,l-=h),new Date(Date.UTC(r,s,i,a,l,c))}}xf=new WeakMap,O(RA,xf,void 0);function BQ(n,{scale:e=1,rotation:t=0}){const{width:r,height:s}=n.attributes.style,i=[0,0,parseInt(r),parseInt(s)];return new zm({viewBox:i,scale:e,rotation:t})}function MA(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(_e(`Not a valid color format: "${n}"`),[0,0,0])}function $Q(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,MA(r))}e.remove()}function at(n){const{a:e,b:t,c:r,d:s,e:i,f:a}=n.getTransform();return[e,t,r,s,i,a]}function Ts(n){const{a:e,b:t,c:r,d:s,e:i,f:a}=n.getTransform().invertSelf();return[e,t,r,s,i,a]}function Rl(n,e,t=!1,r=!0){if(e instanceof zm){const{pageWidth:s,pageHeight:i}=e.rawDims,{style:a}=n,l=bn.isCSSRoundSupported,c=`var(--scale-factor) * ${s}px`,u=`var(--scale-factor) * ${i}px`,d=l?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,h=l?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}class m2{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Fi,ho,jr,fo,bf,wf,Sy,Y5,Ny,Q5,Ay,J5,Fc,Yg,jy,Z5,Sf,y2;const Os=class Os{constructor(e){O(this,Ny);O(this,Ay);O(this,Fc);O(this,jy);O(this,Sf);O(this,Fi,null);O(this,ho,null);O(this,jr,void 0);O(this,fo,null);O(this,bf,null);I(this,jr,e),g(Os,wf)||I(Os,wf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=I(this,Fi,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=g(this,jr)._uiManager._signal;e.addEventListener("contextmenu",xr,{signal:t}),e.addEventListener("pointerdown",F(Os,Sy,Y5),{signal:t});const r=I(this,fo,document.createElement("div"));r.className="buttons",e.append(r);const s=g(this,jr).toolbarPosition;if(s){const{style:i}=e,a=g(this,jr)._uiManager.direction==="ltr"?1-s[0]:s[0];i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return F(this,jy,Z5).call(this),e}get div(){return g(this,Fi)}hide(){var e;g(this,Fi).classList.add("hidden"),(e=g(this,ho))==null||e.hideDropdown()}show(){var e;g(this,Fi).classList.remove("hidden"),(e=g(this,bf))==null||e.shown()}async addAltText(e){const t=await e.render();F(this,Fc,Yg).call(this,t),g(this,fo).prepend(t,g(this,Sf,y2)),I(this,bf,e)}addColorPicker(e){I(this,ho,e);const t=e.renderButton();F(this,Fc,Yg).call(this,t),g(this,fo).prepend(t,g(this,Sf,y2))}remove(){var e;g(this,Fi).remove(),(e=g(this,ho))==null||e.destroy(),I(this,ho,null)}};Fi=new WeakMap,ho=new WeakMap,jr=new WeakMap,fo=new WeakMap,bf=new WeakMap,wf=new WeakMap,Sy=new WeakSet,Y5=function(e){e.stopPropagation()},Ny=new WeakSet,Q5=function(e){g(this,jr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Ay=new WeakSet,J5=function(e){g(this,jr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Fc=new WeakSet,Yg=function(e){const t=g(this,jr)._uiManager._signal;e.addEventListener("focusin",F(this,Ny,Q5).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",F(this,Ay,J5).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",xr,{signal:t})},jy=new WeakSet,Z5=function(){const{editorType:e,_uiManager:t}=g(this,jr),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",g(Os,wf)[e]),F(this,Fc,Yg).call(this,r),r.addEventListener("click",s=>{t.delete()},{signal:t._signal}),g(this,fo).append(r)},Sf=new WeakSet,y2=function(){const e=document.createElement("div");return e.className="divider",e},O(Os,Sy),O(Os,wf,null);let g2=Os;var Nf,po,mo,Ey,eO,_y,tO,ky,nO;class zQ{constructor(e){O(this,Ey);O(this,_y);O(this,ky);O(this,Nf,null);O(this,po,null);O(this,mo,void 0);I(this,mo,e)}show(e,t,r){const[s,i]=F(this,_y,tO).call(this,t,r),{style:a}=g(this,po)||I(this,po,F(this,Ey,eO).call(this));e.append(g(this,po)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,po).remove()}}Nf=new WeakMap,po=new WeakMap,mo=new WeakMap,Ey=new WeakSet,eO=function(){const e=I(this,po,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",xr,{signal:g(this,mo)._signal});const t=I(this,Nf,document.createElement("div"));return t.className="buttons",e.append(t),F(this,ky,nO).call(this),e},_y=new WeakSet,tO=function(e,t){let r=0,s=0;for(const i of e){const a=i.y+i.height;if(a<r)continue;const l=i.x+(t?i.width:0);if(a>r){s=l,r=a;continue}t?l>s&&(s=l):l<s&&(s=l)}return[t?1-s:s,r]},ky=new WeakSet,nO=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=g(this,mo)._signal;e.addEventListener("contextmenu",xr,{signal:r}),e.addEventListener("click",()=>{g(this,mo).highlightSelection("floating_button")},{signal:r}),g(this,Nf).append(e)};function yy(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function UQ(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Ty;class VQ{constructor(){O(this,Ty,0)}get id(){return`${SQ}${fn(this,Ty)._++}`}}Ty=new WeakMap;var Bc,Af,nn,$c,Qg;const HA=class HA{constructor(){O(this,$c);O(this,Bc,MQ());O(this,Af,0);O(this,nn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const i=s.decode().then(()=>(r.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ce(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:r,size:s,type:i}=e;return F(this,$c,Qg).call(this,`${t}_${r}_${s}_${i}`,e)}async getFromUrl(e){return F(this,$c,Qg).call(this,e,e)}async getFromBlob(e,t){const r=await t;return F(this,$c,Qg).call(this,e,r)}async getFromId(e){g(this,nn)||I(this,nn,new Map);const t=g(this,nn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){g(this,nn)||I(this,nn,new Map);let r=g(this,nn).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),r={bitmap:s.transferToImageBitmap(),id:`image_${g(this,Bc)}_${fn(this,Af)._++}`,refCounter:1,isSvg:!1},g(this,nn).set(e,r),g(this,nn).set(r.id,r),r}getSvgUrl(e){const t=g(this,nn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;g(this,nn)||I(this,nn,new Map);const t=g(this,nn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=i.convertToBlob()}(s=r.close)==null||s.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${g(this,Bc)}_`)}};Bc=new WeakMap,Af=new WeakMap,nn=new WeakMap,$c=new WeakSet,Qg=async function(e,t){g(this,nn)||I(this,nn,new Map);let r=g(this,nn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${g(this,Bc)}_${fn(this,Af)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(r.url=t,s=await u1(t,"blob")):t instanceof File?s=r.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const i=HA._isSVGFittingCanvas,a=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,u()},a.onload=async()=>{const h=r.svgUrl=a.result;l.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},l.onerror=a.onerror=d});a.readAsDataURL(s),await c}else r.bitmap=await createImageBitmap(s);r.refCounter=1}catch(s){console.error(s),r=null}return g(this,nn).set(e,r),r&&g(this,nn).set(r.id,r),r};let v2=HA;var Lt,Bi,jf,Rt;class HQ{constructor(e=128){O(this,Lt,[]);O(this,Bi,!1);O(this,jf,void 0);O(this,Rt,-1);I(this,jf,e)}add({cmd:e,undo:t,post:r,mustExec:s,type:i=NaN,overwriteIfSameType:a=!1,keepUndo:l=!1}){if(s&&e(),g(this,Bi))return;const c={cmd:e,undo:t,post:r,type:i};if(g(this,Rt)===-1){g(this,Lt).length>0&&(g(this,Lt).length=0),I(this,Rt,0),g(this,Lt).push(c);return}if(a&&g(this,Lt)[g(this,Rt)].type===i){l&&(c.undo=g(this,Lt)[g(this,Rt)].undo),g(this,Lt)[g(this,Rt)]=c;return}const u=g(this,Rt)+1;u===g(this,jf)?g(this,Lt).splice(0,1):(I(this,Rt,u),u<g(this,Lt).length&&g(this,Lt).splice(u)),g(this,Lt).push(c)}undo(){if(g(this,Rt)===-1)return;I(this,Bi,!0);const{undo:e,post:t}=g(this,Lt)[g(this,Rt)];e(),t==null||t(),I(this,Bi,!1),I(this,Rt,g(this,Rt)-1)}redo(){if(g(this,Rt)<g(this,Lt).length-1){I(this,Rt,g(this,Rt)+1),I(this,Bi,!0);const{cmd:e,post:t}=g(this,Lt)[g(this,Rt)];e(),t==null||t(),I(this,Bi,!1)}}hasSomethingToUndo(){return g(this,Rt)!==-1}hasSomethingToRedo(){return g(this,Rt)<g(this,Lt).length-1}destroy(){I(this,Lt,null)}}Lt=new WeakMap,Bi=new WeakMap,jf=new WeakMap,Rt=new WeakMap;var Cy,rO;class Um{constructor(e){O(this,Cy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=bn.platform;for(const[r,s,i={}]of e)for(const a of r){const l=a.startsWith("mac+");t&&l?(this.callbacks.set(a.slice(4),{callback:s,options:i}),this.allKeys.add(a.split("+").at(-1))):!t&&!l&&(this.callbacks.set(a,{callback:s,options:i}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(F(this,Cy,rO).call(this,t));if(!r)return;const{callback:s,options:{bubbles:i=!1,args:a=[],checker:l=null}}=r;l&&!l(e,t)||(s.bind(e,...a,t)(),i||(t.stopPropagation(),t.preventDefault()))}}Cy=new WeakSet,rO=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Py=class Py{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return $Q(e),Ce(this,"_colors",e)}convert(e){const t=MA(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,s]of this._colors)if(s.every((i,a)=>i===t[a]))return Py._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?he.makeHexColor(...t):e}};me(Py,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let x2=Py;var zc,Dn,jt,Vt,Uc,Ms,Vc,Er,$i,Hc,go,Zr,_r,yo,Ef,_f,qc,kf,es,zi,Wc,Ui,ts,Oy,Vi,Tf,Hi,vo,Cf,Pf,Mt,Ie,Ds,xo,Of,Lf,qi,ns,Is,Rf,ar,Gc,Jg,Mf,b2,Ly,sO,Ry,iO,Kc,Zg,My,aO,Dy,oO,Iy,lO,Df,w2,Fy,cO,If,S2,Ff,N2,By,uO,Ht,pn,rs,Ci,$y,dO,zy,hO,Bf,A2,Uy,fO,bo,dh,$f,j2;const wc=class wc{constructor(e,t,r,s,i,a,l,c,u,d,h){O(this,Gc);O(this,Mf);O(this,Ly);O(this,Ry);O(this,Kc);O(this,My);O(this,Dy);O(this,Iy);O(this,Df);O(this,Fy);O(this,If);O(this,Ff);O(this,By);O(this,Ht);O(this,rs);O(this,$y);O(this,zy);O(this,Bf);O(this,Uy);O(this,bo);O(this,$f);O(this,zc,new AbortController);O(this,Dn,null);O(this,jt,new Map);O(this,Vt,new Map);O(this,Uc,null);O(this,Ms,null);O(this,Vc,null);O(this,Er,new HQ);O(this,$i,null);O(this,Hc,0);O(this,go,new Set);O(this,Zr,null);O(this,_r,null);O(this,yo,new Set);O(this,Ef,!1);O(this,_f,!1);O(this,qc,!1);O(this,kf,null);O(this,es,null);O(this,zi,null);O(this,Wc,null);O(this,Ui,!1);O(this,ts,null);O(this,Oy,new VQ);O(this,Vi,!1);O(this,Tf,!1);O(this,Hi,null);O(this,vo,null);O(this,Cf,null);O(this,Pf,null);O(this,Mt,Se.NONE);O(this,Ie,new Set);O(this,Ds,null);O(this,xo,null);O(this,Of,null);O(this,Lf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});O(this,qi,[0,0]);O(this,ns,null);O(this,Is,null);O(this,Rf,null);O(this,ar,null);const f=this._signal=g(this,zc).signal;I(this,Is,e),I(this,Rf,t),I(this,Uc,r),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:f}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),s._on("setpreference",this.onSetPreference.bind(this),{signal:f}),s._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:f}),F(this,My,aO).call(this),F(this,By,uO).call(this),F(this,Df,w2).call(this),I(this,Ms,i.annotationStorage),I(this,kf,i.filterFactory),I(this,xo,a),I(this,Wc,l||null),I(this,Ef,c),I(this,_f,u),I(this,qc,d),I(this,Pf,h||null),this.viewParameters={realScale:Da.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=wc.prototype,t=a=>g(a,Is).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Ce(this,"_keyboardManager",new Um([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&g(a,Is).contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&g(a,Is).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,r,s;(e=g(this,ar))==null||e.resolve(),I(this,ar,null),(t=g(this,zc))==null||t.abort(),I(this,zc,null),this._signal=null;for(const i of g(this,Vt).values())i.destroy();g(this,Vt).clear(),g(this,jt).clear(),g(this,yo).clear(),I(this,Dn,null),g(this,Ie).clear(),g(this,Er).destroy(),(r=g(this,Uc))==null||r.destroy(),(s=g(this,ts))==null||s.hide(),I(this,ts,null),g(this,es)&&(clearTimeout(g(this,es)),I(this,es,null)),g(this,ns)&&(clearTimeout(g(this,ns)),I(this,ns,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return g(this,Pf)}get useNewAltTextFlow(){return g(this,_f)}get useNewAltTextWhenAddingImage(){return g(this,qc)}get hcmFilter(){return Ce(this,"hcmFilter",g(this,xo)?g(this,kf).addHCMFilter(g(this,xo).foreground,g(this,xo).background):"none")}get direction(){return Ce(this,"direction",getComputedStyle(g(this,Is)).direction)}get highlightColors(){return Ce(this,"highlightColors",g(this,Wc)?new Map(g(this,Wc).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ce(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){I(this,Cf,e)}editAltText(e,t=!1){var r;(r=g(this,Uc))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":I(this,qc,t);break}}onPageChanging({pageNumber:e}){I(this,Hc,e-1)}focusMainContainer(){g(this,Is).focus()}findParent(e,t){for(const r of g(this,Vt).values()){const{x:s,y:i,width:a,height:l}=r.div.getBoundingClientRect();if(e>=s&&e<=s+a&&t>=i&&t<=i+l)return r}return null}disableUserSelect(e=!1){g(this,Rf).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,yo).add(e)}removeShouldRescale(e){g(this,yo).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Da.PDF_TO_CSS_UNITS;for(const t of g(this,yo))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:a}=t,l=t.toString(),u=F(this,Gc,Jg).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;t.empty();const h=F(this,Mf,b2).call(this,u),f=g(this,Mt)===Se.NONE,p=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:a,text:l}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(Se.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&g(this,Ms)&&!g(this,Ms).has(e.id)&&g(this,Ms).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,g(this,Ui)&&(I(this,Ui,!1),F(this,Kc,Zg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of g(this,Ie))if(t.div.contains(e)){I(this,vo,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!g(this,vo))return;const[e,t]=g(this,vo);I(this,vo,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){F(this,Df,w2).call(this),F(this,If,S2).call(this)}removeEditListeners(){F(this,Fy,cO).call(this),F(this,Ff,N2).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of g(this,_r))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of g(this,_r))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=g(this,Dn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of g(this,Ie)){const i=s.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const a of g(this,_r))if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(i){_e(`paste: "${i.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const s=this.currentLayer;try{const i=[];for(const c of r){const u=await s.deserialize(c);if(!u)return;i.push(u)}const a=()=>{for(const c of i)F(this,Bf,A2).call(this,c);F(this,$f,j2).call(this,i)},l=()=>{for(const c of i)c.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(i){_e(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,Mt)!==Se.NONE&&!this.isEditorHandlingKeyboard&&wc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,Ui)&&(I(this,Ui,!1),F(this,Kc,Zg).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(F(this,Dy,oO).call(this),F(this,If,S2).call(this),F(this,Ht,pn).call(this,{isEditing:g(this,Mt)!==Se.NONE,isEmpty:F(this,bo,dh).call(this),hasSomethingToUndo:g(this,Er).hasSomethingToUndo(),hasSomethingToRedo:g(this,Er).hasSomethingToRedo(),hasSelectedEditor:!1})):(F(this,Iy,lO).call(this),F(this,Ff,N2).call(this),F(this,Ht,pn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,_r)){I(this,_r,e);for(const t of g(this,_r))F(this,rs,Ci).call(this,t.defaultPropertiesToUpdate)}}getId(){return g(this,Oy).id}get currentLayer(){return g(this,Vt).get(g(this,Hc))}getLayer(e){return g(this,Vt).get(e)}get currentPageIndex(){return g(this,Hc)}addLayer(e){g(this,Vt).set(e.pageIndex,e),g(this,Vi)?e.enable():e.disable()}removeLayer(e){g(this,Vt).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){if(g(this,Mt)!==e&&!(g(this,ar)&&(await g(this,ar).promise,!g(this,ar)))){if(I(this,ar,Promise.withResolvers()),I(this,Mt,e),e===Se.NONE){this.setEditingState(!1),F(this,zy,hO).call(this),g(this,ar).resolve();return}this.setEditingState(!0),await F(this,$y,dO).call(this),this.unselectAll();for(const s of g(this,Vt).values())s.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),g(this,ar).resolve();return}for(const s of g(this,jt).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();g(this,ar).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==g(this,Mt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(g(this,_r)){switch(e){case xe.CREATE:this.currentLayer.addNewEditor();return;case xe.HIGHLIGHT_DEFAULT_COLOR:(r=g(this,Cf))==null||r.updateColor(t);break;case xe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,Of)||I(this,Of,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of g(this,Ie))s.updateParams(e,t);for(const s of g(this,_r))s.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var i;for(const a of g(this,jt).values())a.editorType===e&&a.show(t);(((i=g(this,Of))==null?void 0:i.get(xe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&F(this,rs,Ci).call(this,[[xe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(g(this,Tf)!==e){I(this,Tf,e);for(const t of g(this,Vt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of g(this,jt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return g(this,jt).get(e)}addEditor(e){g(this,jt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(g(this,es)&&clearTimeout(g(this,es)),I(this,es,setTimeout(()=>{this.focusMainContainer(),I(this,es,null)},0))),g(this,jt).delete(e.id),this.unselect(e),(!e.annotationElementId||!g(this,go).has(e.annotationElementId))&&((t=g(this,Ms))==null||t.remove(e.id))}addDeletedAnnotationElement(e){g(this,go).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,go).has(e)}removeDeletedAnnotationElement(e){g(this,go).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,Dn)!==e&&(I(this,Dn,e),e&&F(this,rs,Ci).call(this,e.propertiesToUpdate))}updateUI(e){g(this,Uy,fO)===e&&F(this,rs,Ci).call(this,e.propertiesToUpdate)}toggleSelected(e){if(g(this,Ie).has(e)){g(this,Ie).delete(e),e.unselect(),F(this,Ht,pn).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,Ie).add(e),e.select(),F(this,rs,Ci).call(this,e.propertiesToUpdate),F(this,Ht,pn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of g(this,Ie))t!==e&&t.unselect();g(this,Ie).clear(),g(this,Ie).add(e),e.select(),F(this,rs,Ci).call(this,e.propertiesToUpdate),F(this,Ht,pn).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,Ie).has(e)}get firstSelectedEditor(){return g(this,Ie).values().next().value}unselect(e){e.unselect(),g(this,Ie).delete(e),F(this,Ht,pn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,Ie).size!==0}get isEnterHandled(){return g(this,Ie).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,Er).undo(),F(this,Ht,pn).call(this,{hasSomethingToUndo:g(this,Er).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:F(this,bo,dh).call(this)})}redo(){g(this,Er).redo(),F(this,Ht,pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,Er).hasSomethingToRedo(),isEmpty:F(this,bo,dh).call(this)})}addCommands(e){g(this,Er).add(e),F(this,Ht,pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:F(this,bo,dh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...g(this,Ie)],t=()=>{for(const s of e)s.remove()},r=()=>{for(const s of e)F(this,Bf,A2).call(this,s)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=g(this,Dn))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,Dn)||this.hasSelection}selectAll(){for(const e of g(this,Ie))e.commit();F(this,$f,j2).call(this,g(this,jt).values())}unselectAll(){if(!(g(this,Dn)&&(g(this,Dn).commitOrRemove(),g(this,Mt)!==Se.NONE))&&this.hasSelection){for(const e of g(this,Ie))e.unselect();g(this,Ie).clear(),F(this,Ht,pn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;g(this,qi)[0]+=e,g(this,qi)[1]+=t;const[s,i]=g(this,qi),a=[...g(this,Ie)],l=1e3;g(this,ns)&&clearTimeout(g(this,ns)),I(this,ns,setTimeout(()=>{I(this,ns,null),g(this,qi)[0]=g(this,qi)[1]=0,this.addCommands({cmd:()=>{for(const c of a)g(this,jt).has(c.id)&&c.translateInPage(s,i)},undo:()=>{for(const c of a)g(this,jt).has(c.id)&&c.translateInPage(-s,-i)},mustExec:!1})},l));for(const c of a)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),I(this,Zr,new Map);for(const e of g(this,Ie))g(this,Zr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,Zr))return!1;this.disableUserSelect(!1);const e=g(this,Zr);I(this,Zr,null);let t=!1;for(const[{x:s,y:i,pageIndex:a},l]of e)l.newX=s,l.newY=i,l.newPageIndex=a,t||(t=s!==l.savedX||i!==l.savedY||a!==l.savedPageIndex);if(!t)return!1;const r=(s,i,a,l)=>{if(g(this,jt).has(s.id)){const c=g(this,Vt).get(l);c?s._setParentAndPosition(c,i,a):(s.pageIndex=l,s.x=i,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:i,newY:a,newPageIndex:l}]of e)r(s,i,a,l)},undo:()=>{for(const[s,{savedX:i,savedY:a,savedPageIndex:l}]of e)r(s,i,a,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(g(this,Zr))for(const r of g(this,Zr).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,Ie).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,Dn)===e}getActive(){return g(this,Dn)}getMode(){return g(this,Mt)}get imageManager(){return Ce(this,"imageManager",new v2)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:s,width:i,height:a}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,h,f)=>({x:(d-s)/a,y:1-(u+h-r)/i,width:f/a,height:h/i});break;case"180":l=(u,d,h,f)=>({x:1-(u+h-r)/i,y:1-(d+f-s)/a,width:h/i,height:f/a});break;case"270":l=(u,d,h,f)=>({x:1-(d+f-s)/a,y:(u-r)/i,width:f/a,height:h/i});break;default:l=(u,d,h,f)=>({x:(u-r)/i,y:(d-s)/a,width:h/i,height:f/a});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:y,height:x}of h.getClientRects())y===0||x===0||c.push(l(f,p,y,x))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(g(this,Vc)||I(this,Vc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=g(this,Vc))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=g(this,Vc))==null?void 0:s.get(e.data.id);if(!t)return;const r=g(this,Ms).getRawValue(t);r&&(g(this,Mt)===Se.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};zc=new WeakMap,Dn=new WeakMap,jt=new WeakMap,Vt=new WeakMap,Uc=new WeakMap,Ms=new WeakMap,Vc=new WeakMap,Er=new WeakMap,$i=new WeakMap,Hc=new WeakMap,go=new WeakMap,Zr=new WeakMap,_r=new WeakMap,yo=new WeakMap,Ef=new WeakMap,_f=new WeakMap,qc=new WeakMap,kf=new WeakMap,es=new WeakMap,zi=new WeakMap,Wc=new WeakMap,Ui=new WeakMap,ts=new WeakMap,Oy=new WeakMap,Vi=new WeakMap,Tf=new WeakMap,Hi=new WeakMap,vo=new WeakMap,Cf=new WeakMap,Pf=new WeakMap,Mt=new WeakMap,Ie=new WeakMap,Ds=new WeakMap,xo=new WeakMap,Of=new WeakMap,Lf=new WeakMap,qi=new WeakMap,ns=new WeakMap,Is=new WeakMap,Rf=new WeakMap,ar=new WeakMap,Gc=new WeakSet,Jg=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Mf=new WeakSet,b2=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of g(this,Vt).values())if(r.hasTextLayer(e))return r;return null},Ly=new WeakSet,sO=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=F(this,Gc,Jg).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(g(this,ts)||I(this,ts,new zQ(this)),g(this,ts).show(r,s,this.direction==="ltr"))},Ry=new WeakSet,iO=function(){var i,a,l;const e=document.getSelection();if(!e||e.isCollapsed){g(this,Ds)&&((i=g(this,ts))==null||i.hide(),I(this,Ds,null),F(this,Ht,pn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===g(this,Ds))return;const s=F(this,Gc,Jg).call(this,e).closest(".textLayer");if(!s){g(this,Ds)&&((a=g(this,ts))==null||a.hide(),I(this,Ds,null),F(this,Ht,pn).call(this,{hasSelectedText:!1}));return}if((l=g(this,ts))==null||l.hide(),I(this,Ds,t),F(this,Ht,pn).call(this,{hasSelectedText:!0}),!(g(this,Mt)!==Se.HIGHLIGHT&&g(this,Mt)!==Se.NONE)&&(g(this,Mt)===Se.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),I(this,Ui,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=g(this,Mt)===Se.HIGHLIGHT?F(this,Mf,b2).call(this,s):null;c==null||c.toggleDrawing();const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&F(this,Kc,Zg).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},Kc=new WeakSet,Zg=function(e=""){g(this,Mt)===Se.HIGHLIGHT?this.highlightSelection(e):g(this,Ef)&&F(this,Ly,sO).call(this)},My=new WeakSet,aO=function(){document.addEventListener("selectionchange",F(this,Ry,iO).bind(this),{signal:this._signal})},Dy=new WeakSet,oO=function(){if(g(this,zi))return;I(this,zi,new AbortController);const e=this.combinedSignal(g(this,zi));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Iy=new WeakSet,lO=function(){var e;(e=g(this,zi))==null||e.abort(),I(this,zi,null)},Df=new WeakSet,w2=function(){if(g(this,Hi))return;I(this,Hi,new AbortController);const e=this.combinedSignal(g(this,Hi));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Fy=new WeakSet,cO=function(){var e;(e=g(this,Hi))==null||e.abort(),I(this,Hi,null)},If=new WeakSet,S2=function(){if(g(this,$i))return;I(this,$i,new AbortController);const e=this.combinedSignal(g(this,$i));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Ff=new WeakSet,N2=function(){var e;(e=g(this,$i))==null||e.abort(),I(this,$i,null)},By=new WeakSet,uO=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ht=new WeakSet,pn=function(e){Object.entries(e).some(([r,s])=>g(this,Lf)[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Lf),e)}),g(this,Mt)===Se.HIGHLIGHT&&e.hasSelectedEditor===!1&&F(this,rs,Ci).call(this,[[xe.HIGHLIGHT_FREE,!0]]))},rs=new WeakSet,Ci=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},$y=new WeakSet,dO=async function(){if(!g(this,Vi)){I(this,Vi,!0);const e=[];for(const t of g(this,Vt).values())e.push(t.enable());await Promise.all(e);for(const t of g(this,jt).values())t.enable()}},zy=new WeakSet,hO=function(){if(this.unselectAll(),g(this,Vi)){I(this,Vi,!1);for(const e of g(this,Vt).values())e.disable();for(const e of g(this,jt).values())e.disable()}},Bf=new WeakSet,A2=function(e){const t=g(this,Vt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Uy=new WeakSet,fO=function(){let e=null;for(e of g(this,Ie));return e},bo=new WeakSet,dh=function(){if(g(this,jt).size===0)return!0;if(g(this,jt).size===1)for(const e of g(this,jt).values())return e.isEmpty();return!1},$f=new WeakSet,j2=function(e){for(const t of g(this,Ie))t.unselect();g(this,Ie).clear();for(const t of e)t.isEmpty()||(g(this,Ie).add(t),t.select());F(this,Ht,pn).call(this,{hasSelectedEditor:this.hasSelection})},me(wc,"TRANSLATE_SMALL",1),me(wc,"TRANSLATE_BIG",10);let Ml=wc;var Dt,ss,kr,Xc,is,In,Yc,as,En,Fs,wo,os,Wi,So,hh,Qc,e0;const mn=class mn{constructor(e){O(this,So);O(this,Qc);O(this,Dt,null);O(this,ss,!1);O(this,kr,null);O(this,Xc,null);O(this,is,null);O(this,In,null);O(this,Yc,!1);O(this,as,null);O(this,En,null);O(this,Fs,null);O(this,wo,null);O(this,os,!1);I(this,En,e),I(this,os,e._uiManager.useNewAltTextFlow),g(mn,Wi)||I(mn,Wi,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){mn._l10n??(mn._l10n=e)}async render(){const e=I(this,kr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=I(this,Xc,document.createElement("span"));e.append(t),g(this,os)?(e.classList.add("new"),e.setAttribute("data-l10n-id",g(mn,Wi).missing),t.setAttribute("data-l10n-id",g(mn,Wi)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=g(this,En)._uiManager._signal;e.addEventListener("contextmenu",xr,{signal:r}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const s=i=>{i.preventDefault(),g(this,En)._uiManager.editAltText(g(this,En)),g(this,os)&&g(this,En)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,So,hh)}})};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(I(this,Yc,!0),s(i))},{signal:r}),await F(this,Qc,e0).call(this),e}finish(){g(this,kr)&&(g(this,kr).focus({focusVisible:g(this,Yc)}),I(this,Yc,!1))}isEmpty(){return g(this,os)?g(this,Dt)===null:!g(this,Dt)&&!g(this,ss)}hasData(){return g(this,os)?g(this,Dt)!==null||!!g(this,Fs):this.isEmpty()}get guessedText(){return g(this,Fs)}async setGuessedText(e){g(this,Dt)===null&&(I(this,Fs,e),I(this,wo,await mn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),F(this,Qc,e0).call(this))}toggleAltTextBadge(e=!1){var t;if(!g(this,os)||g(this,Dt)){(t=g(this,as))==null||t.remove(),I(this,as,null);return}if(!g(this,as)){const r=I(this,as,document.createElement("div"));r.className="noAltTextBadge",g(this,En).div.append(r)}g(this,as).classList.toggle("hidden",!e)}serialize(e){let t=g(this,Dt);return!e&&g(this,Fs)===t&&(t=g(this,wo)),{altText:t,decorative:g(this,ss),guessedText:g(this,Fs),textWithDisclaimer:g(this,wo)}}get data(){return{altText:g(this,Dt),decorative:g(this,ss)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:s,cancel:i=!1}){r&&(I(this,Fs,r),I(this,wo,s)),!(g(this,Dt)===e&&g(this,ss)===t)&&(i||(I(this,Dt,e),I(this,ss,t)),F(this,Qc,e0).call(this))}toggle(e=!1){g(this,kr)&&(!e&&g(this,In)&&(clearTimeout(g(this,In)),I(this,In,null)),g(this,kr).disabled=!e)}shown(){g(this,En)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,So,hh)}})}destroy(){var e,t;(e=g(this,kr))==null||e.remove(),I(this,kr,null),I(this,Xc,null),I(this,is,null),(t=g(this,as))==null||t.remove(),I(this,as,null)}};Dt=new WeakMap,ss=new WeakMap,kr=new WeakMap,Xc=new WeakMap,is=new WeakMap,In=new WeakMap,Yc=new WeakMap,as=new WeakMap,En=new WeakMap,Fs=new WeakMap,wo=new WeakMap,os=new WeakMap,Wi=new WeakMap,So=new WeakSet,hh=function(){return g(this,Dt)&&"added"||g(this,Dt)===null&&this.guessedText&&"review"||"missing"},Qc=new WeakSet,e0=async function(){var s,i,a;const e=g(this,kr);if(!e)return;if(g(this,os)){if(e.classList.toggle("done",!!g(this,Dt)),e.setAttribute("data-l10n-id",g(mn,Wi)[g(this,So,hh)]),(s=g(this,Xc))==null||s.setAttribute("data-l10n-id",g(mn,Wi)[`${g(this,So,hh)}-label`]),!g(this,Dt)){(i=g(this,is))==null||i.remove();return}}else{if(!g(this,Dt)&&!g(this,ss)){e.classList.remove("done"),(a=g(this,is))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=g(this,is);if(!t){I(this,is,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${g(this,En).id}`;const l=100,c=g(this,En)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(g(this,In)),I(this,In,null)},{once:!0}),e.addEventListener("mouseenter",()=>{I(this,In,setTimeout(()=>{I(this,In,null),g(this,is).classList.add("show"),g(this,En)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;g(this,In)&&(clearTimeout(g(this,In)),I(this,In,null)),(u=g(this,is))==null||u.classList.remove("show")},{signal:c})}g(this,ss)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=g(this,Dt)),t.parentNode||e.append(t);const r=g(this,En).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},O(mn,Wi,null),me(mn,"_l10n",null);let vy=mn;var No,Tr,st,Jc,Ao,qt,jo,Gi,zf,Eo,Ki,Uf,_o,Bs,ls,Zc,eu,or,Vf,Vy,Hf,E2,qf,_2,Wf,k2,Hy,pO,qy,mO,Gf,T2,Kf,C2,Xf,P2,Wy,gO,Yf,O2,Gy,yO,Ky,vO,Xy,xO,Qf,L2,ko,fh;const De=class De{constructor(e){O(this,Hf);O(this,Wf);O(this,Hy);O(this,qy);O(this,Gf);O(this,Kf);O(this,Xf);O(this,Wy);O(this,Yf);O(this,Gy);O(this,Ky);O(this,Xy);O(this,Qf);O(this,ko);O(this,No,null);O(this,Tr,null);O(this,st,null);O(this,Jc,!1);O(this,Ao,!1);O(this,qt,null);O(this,jo,null);O(this,Gi,null);O(this,zf,"");O(this,Eo,!1);O(this,Ki,null);O(this,Uf,!1);O(this,_o,!1);O(this,Bs,!1);O(this,ls,null);O(this,Zc,0);O(this,eu,0);O(this,or,null);me(this,"_editToolbar",null);me(this,"_initialOptions",Object.create(null));me(this,"_initialData",null);me(this,"_isVisible",!0);me(this,"_uiManager",null);me(this,"_focusEventsAllowed",!0);O(this,Vf,!1);O(this,Vy,De._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:s,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,s],this.pageTranslation=[i,a];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=De.prototype._resizeWithKeyboard,t=Ml.TRANSLATE_SMALL,r=Ml.TRANSLATE_BIG;return Ce(this,"_resizerKeyboardManager",new Um([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],De.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ce(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new qQ({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(De._l10n??(De._l10n=e),De._l10nResizer||(De._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),De._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);De._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ye("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,Vf)}set _isDraggable(e){var t;I(this,Vf,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,Vy)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):F(this,ko,fh).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,Eo)?I(this,Eo,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,s){const[i,a]=this.parentDimensions;[r,s]=this.screenToPageTranslation(r,s),this.x=(e+r)/i,this.y=(t+s)/a,this.fixAndSetPosition()}translate(e,t){F(this,Hf,E2).call(this,this.parentDimensions,e,t)}translateInPage(e,t){g(this,Ki)||I(this,Ki,[this.x,this.y]),F(this,Hf,E2).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){g(this,Ki)||I(this,Ki,[this.x,this.y]);const[r,s]=this.parentDimensions;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:a}=this;const[l,c]=this.getBaseTranslation();i+=l,a+=c,this.div.style.left=`${(100*i).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,Ki)&&(g(this,Ki)[0]!==this.x||g(this,Ki)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=De,s=r/e,i=r/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:s,y:i,width:a,height:l}=this;if(a*=t,l*=r,s*=t,i*=r,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-a,s)),i=Math.max(0,Math.min(r-l,i));break;case 90:s=Math.max(0,Math.min(t-l,s)),i=Math.min(r,Math.max(a,i));break;case 180:s=Math.min(t,Math.max(a,s)),i=Math.min(r,Math.max(l,i));break;case 270:s=Math.min(t,Math.max(l,s)),i=Math.max(0,Math.min(r-a,i));break}this.x=s/=t,this.y=i/=r;const[c,u]=this.getBaseTranslation();s+=c,i+=u;const{style:d}=this.div;d.left=`${(100*s).toFixed(2)}%`,d.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return F(r=De,qf,_2).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return F(r=De,qf,_2).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,s]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,g(this,Ao)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,s=r.endsWith("%"),i=!g(this,Ao)&&t.endsWith("%");if(s&&i)return;const[a,l]=this.parentDimensions;s||(e.width=`${(100*parseFloat(r)/a).toFixed(2)}%`),!g(this,Ao)&&!i&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=g(this,st))==null||e.finish()}async addEditToolbar(){return this._editToolbar||g(this,_o)?this._editToolbar:(this._editToolbar=new g2(this),this.div.append(this._editToolbar.render()),g(this,st)&&await this._editToolbar.addAltText(g(this,st)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=g(this,st))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,st)||(vy.initialize(De._l10n),I(this,st,new vy(this)),g(this,No)&&(g(this,st).data=g(this,No),I(this,No,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=g(this,st))==null?void 0:e.data}set altTextData(e){g(this,st)&&(g(this,st).data=e)}get guessedAltText(){var e;return(e=g(this,st))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=g(this,st))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=g(this,st))==null?void 0:t.serialize(e)}hasAltText(){return!!g(this,st)&&!g(this,st).isEmpty()}hasAltTextData(){var e;return((e=g(this,st))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,Jc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),F(this,Yf,O2).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),yy(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=bn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(I(this,Eo,!0),this._isDraggable){F(this,Wy,gO).call(this,e);return}F(this,Xf,P2).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,ls)&&clearTimeout(g(this,ls)),I(this,ls,setTimeout(()=>{var e;I(this,ls,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const s=this.parentScale,[i,a]=this.pageDimensions,[l,c]=this.pageTranslation,u=e/s,d=t/s,h=this.x*i,f=this.y*a,p=this.width*i,y=this.height*a;switch(r){case 0:return[h+u+l,a-f-d-y+c,h+u+p+l,a-f-d+c];case 90:return[h+d+l,a-f+u+c,h+d+y+l,a-f+u+p+c];case 180:return[h-u-p+l,a-f+d+c,h-u+l,a-f+d+y+c];case 270:return[h-d-y+l,a-f-u-p+c,h-d+l,a-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,s,i,a]=e,l=i-r,c=a-s;switch(this.rotation){case 0:return[r,t-a,l,c];case 90:return[r,t-s,c,l];case 180:return[i,t-s,l,c];case 270:return[i,t-a,c,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){I(this,_o,!0)}disableEditMode(){I(this,_o,!1)}isInEditMode(){return g(this,_o)}shouldGetKeyboardEvents(){return g(this,Bs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){F(this,Yf,O2).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Ye("An editor must be serializable")}static async deserialize(e,t,r){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});s.rotation=e.rotation,I(s,No,e.accessibilityData);const[i,a]=s.pageDimensions,[l,c,u,d]=s.getRectInCurrentCoords(e.rect,a);return s.x=l/i,s.y=c/a,s.width=u/i,s.height=d/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=g(this,Gi))==null||e.abort(),I(this,Gi,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,ls)&&(clearTimeout(g(this,ls)),I(this,ls,null)),F(this,ko,fh).call(this),this.removeEditToolbar(),g(this,or)){for(const t of g(this,or).values())clearTimeout(t);I(this,or,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(F(this,Hy,pO).call(this),g(this,qt).classList.remove("hidden"),yy(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),I(this,jo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=g(this,qt).children;if(!g(this,Tr)){I(this,Tr,Array.from(t));const a=F(this,Gy,yO).bind(this),l=F(this,Ky,vO).bind(this),c=this._uiManager._signal;for(const u of g(this,Tr)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:c}),u.addEventListener("blur",l,{signal:c}),u.addEventListener("focus",F(this,Xy,xO).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",De._l10nResizer[d])}}const r=g(this,Tr)[0];let s=0;for(const a of t){if(a===r)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(g(this,Tr).length/4);if(i!==s){if(i<s)for(let l=0;l<s-i;l++)g(this,qt).append(g(this,qt).firstChild);else if(i>s)for(let l=0;l<i-s;l++)g(this,qt).firstChild.before(g(this,qt).lastChild);let a=0;for(const l of t){const u=g(this,Tr)[a++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",De._l10nResizer[u])}}F(this,Qf,L2).call(this,0),I(this,Bs,!0),g(this,qt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){g(this,Bs)&&F(this,Kf,C2).call(this,g(this,zf),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){F(this,ko,fh).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,i;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(r=g(this,st))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,s,i;(e=g(this,qt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(i=g(this,st))==null||i.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,Uf)}set isEditing(e){I(this,Uf,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){I(this,Ao,!0);const r=e/t,{style:s}=this.div;s.aspectRatio=r,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){g(this,or)||I(this,or,new Map);const{action:r}=e;let s=g(this,or).get(r);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),g(this,or).delete(r),g(this,or).size===0&&I(this,or,null)},De._telemetryTimeout),g(this,or).set(r,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),I(this,Jc,!1)}disable(){this.div&&(this.div.tabIndex=-1),I(this,Jc,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};No=new WeakMap,Tr=new WeakMap,st=new WeakMap,Jc=new WeakMap,Ao=new WeakMap,qt=new WeakMap,jo=new WeakMap,Gi=new WeakMap,zf=new WeakMap,Eo=new WeakMap,Ki=new WeakMap,Uf=new WeakMap,_o=new WeakMap,Bs=new WeakMap,ls=new WeakMap,Zc=new WeakMap,eu=new WeakMap,or=new WeakMap,Vf=new WeakMap,Vy=new WeakMap,Hf=new WeakSet,E2=function([e,t],r,s){[r,s]=this.screenToPageTranslation(r,s),this.x+=r/e,this.y+=s/t,this.fixAndSetPosition()},qf=new WeakSet,_2=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Wf=new WeakSet,k2=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},Hy=new WeakSet,pO=function(){if(g(this,qt))return;I(this,qt,document.createElement("div")),g(this,qt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const s=document.createElement("div");g(this,qt).append(s),s.classList.add("resizer",r),s.setAttribute("data-resizer-name",r),s.addEventListener("pointerdown",F(this,qy,mO).bind(this,r),{signal:t}),s.addEventListener("contextmenu",xr,{signal:t}),s.tabIndex=-1}this.div.prepend(g(this,qt))},qy=new WeakSet,mO=function(e,t){var y;t.preventDefault();const{isMac:r}=bn.platform;if(t.button!==0||t.ctrlKey&&r)return;(y=g(this,st))==null||y.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F(this,Kf,C2).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",xr,{signal:a});const l=this.x,c=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var x;i.abort(),this.parent.togglePointerEvents(!0),(x=g(this,st))==null||x.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=h,this.div.style.cursor=f,F(this,Gf,T2).call(this,l,c,u,d)};window.addEventListener("pointerup",p,{signal:a}),window.addEventListener("blur",p,{signal:a})},Gf=new WeakSet,T2=function(e,t,r,s){const i=this.x,a=this.y,l=this.width,c=this.height;i===e&&a===t&&l===r&&c===s||this.addCommands({cmd:()=>{this.width=l,this.height=c,this.x=i,this.y=a;const[u,d]=this.parentDimensions;this.setDims(u*l,d*c),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=s,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*r,d*s),this.fixAndSetPosition()},mustExec:!0})},Kf=new WeakSet,C2=function(e,t){const[r,s]=this.parentDimensions,i=this.x,a=this.y,l=this.width,c=this.height,u=De.MIN_SIZE/r,d=De.MIN_SIZE/s,h=U=>Math.round(U*1e4)/1e4,f=F(this,Wf,k2).call(this,this.rotation),p=(U,W)=>[f[0]*U+f[2]*W,f[1]*U+f[3]*W],y=F(this,Wf,k2).call(this,360-this.rotation),x=(U,W)=>[y[0]*U+y[2]*W,y[1]*U+y[3]*W];let b,m,v=!1,S=!1;switch(e){case"topLeft":v=!0,b=(U,W)=>[0,0],m=(U,W)=>[U,W];break;case"topMiddle":b=(U,W)=>[U/2,0],m=(U,W)=>[U/2,W];break;case"topRight":v=!0,b=(U,W)=>[U,0],m=(U,W)=>[0,W];break;case"middleRight":S=!0,b=(U,W)=>[U,W/2],m=(U,W)=>[0,W/2];break;case"bottomRight":v=!0,b=(U,W)=>[U,W],m=(U,W)=>[0,0];break;case"bottomMiddle":b=(U,W)=>[U/2,W],m=(U,W)=>[U/2,0];break;case"bottomLeft":v=!0,b=(U,W)=>[0,W],m=(U,W)=>[U,0];break;case"middleLeft":S=!0,b=(U,W)=>[0,W/2],m=(U,W)=>[U,W/2];break}const w=b(l,c),N=m(l,c);let E=p(...N);const _=h(i+E[0]),A=h(a+E[1]);let C=1,j=1,[k,T]=this.screenToPageTranslation(t.movementX,t.movementY);if([k,T]=x(k/r,T/s),v){const U=Math.hypot(l,c);C=j=Math.max(Math.min(Math.hypot(N[0]-w[0]-k,N[1]-w[1]-T)/U,1/l,1/c),u/l,d/c)}else S?C=Math.max(u,Math.min(1,Math.abs(N[0]-w[0]-k)))/l:j=Math.max(d,Math.min(1,Math.abs(N[1]-w[1]-T)))/c;const P=h(l*C),R=h(c*j);E=p(...m(P,R));const M=_-E[0],V=A-E[1];this.width=P,this.height=R,this.x=M,this.y=V,this.setDims(r*P,s*R),this.fixAndSetPosition()},Xf=new WeakSet,P2=function(e){const{isMac:t}=bn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Wy=new WeakSet,gO=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const r=new AbortController,s=this._uiManager.combinedSignal(r);if(t){this.div.classList.add("moving"),I(this,Zc,e.clientX),I(this,eu,e.clientY);const a=l=>{const{clientX:c,clientY:u}=l,[d,h]=this.screenToPageTranslation(c-g(this,Zc),u-g(this,eu));I(this,Zc,c),I(this,eu,u),this._uiManager.dragSelectedEditors(d,h)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:s})}const i=()=>{r.abort(),t&&this.div.classList.remove("moving"),I(this,Eo,!1),this._uiManager.endDragSession()||F(this,Xf,P2).call(this,e)};window.addEventListener("pointerup",i,{signal:s}),window.addEventListener("blur",i,{signal:s})},Yf=new WeakSet,O2=function(){if(g(this,Gi)||!this.div)return;I(this,Gi,new AbortController);const e=this._uiManager.combinedSignal(g(this,Gi));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Gy=new WeakSet,yO=function(e){De._resizerKeyboardManager.exec(this,e)},Ky=new WeakSet,vO=function(e){var t;g(this,Bs)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==g(this,qt)&&F(this,ko,fh).call(this)},Xy=new WeakSet,xO=function(e){I(this,zf,g(this,Bs)?e:"")},Qf=new WeakSet,L2=function(e){if(g(this,Tr))for(const t of g(this,Tr))t.tabIndex=e},ko=new WeakSet,fh=function(){if(I(this,Bs,!1),F(this,Qf,L2).call(this,-1),g(this,jo)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:s}=g(this,jo);F(this,Gf,T2).call(this,e,t,r,s),I(this,jo,null)}},O(De,qf),me(De,"_l10n",null),me(De,"_l10nResizer",null),me(De,"_borderLineWidth",-1),me(De,"_colorManager",new x2),me(De,"_zIndex",1),me(De,"_telemetryTimeout",1e3);let Be=De;class qQ extends Be{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Y3=3285377520,rr=4294901760,Qr=65535;class bO{constructor(e){this.h1=e?e&4294967295:Y3,this.h2=e?e&4294967295:Y3}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let x=0,b=e.length;x<b;x++){const m=e.charCodeAt(x);m<=255?t[r++]=m:(t[r++]=m>>>8,t[r++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=r>>2,i=r-s*4,a=new Uint32Array(t.buffer,0,s);let l=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&Qr,y=f&Qr;for(let x=0;x<s;x++)x&1?(l=a[x],l=l*h&rr|l*p&Qr,l=l<<15|l>>>17,l=l*f&rr|l*y&Qr,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(c=a[x],c=c*h&rr|c*p&Qr,c=c<<15|c>>>17,c=c*f&rr|c*y&Qr,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(l=0,i){case 3:l^=t[s*4+2]<<16;case 2:l^=t[s*4+1]<<8;case 1:l^=t[s*4],l=l*h&rr|l*p&Qr,l=l<<15|l>>>17,l=l*f&rr|l*y&Qr,s&1?u^=l:d^=l}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&rr|e*36045&Qr,t=t*4283543511&rr|((t<<16|e>>>16)*2950163797&rr)>>>16,e^=t>>>1,e=e*444984403&rr|e*60499&Qr,t=t*3301882366&rr|((t<<16|e>>>16)*3120437893&rr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const R2=Object.freeze({map:null,hash:"",transfer:void 0});var To,Co,It,Yy,wO;class DA{constructor(){O(this,Yy);O(this,To,!1);O(this,Co,null);O(this,It,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=g(this,It).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return g(this,It).get(e)}remove(e){if(g(this,It).delete(e),g(this,It).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of g(this,It).values())if(t instanceof Be)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=g(this,It).get(e);let s=!1;if(r!==void 0)for(const[i,a]of Object.entries(t))r[i]!==a&&(s=!0,r[i]=a);else s=!0,g(this,It).set(e,t);s&&F(this,Yy,wO).call(this),t instanceof Be&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return g(this,It).has(e)}getAll(){return g(this,It).size>0?CA(g(this,It)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return g(this,It).size}resetModified(){g(this,To)&&(I(this,To,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new SO(this)}get serializable(){if(g(this,It).size===0)return R2;const e=new Map,t=new bO,r=[],s=Object.create(null);let i=!1;for(const[a,l]of g(this,It)){const c=l instanceof Be?l.serialize(!1,s):l;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),i||(i=!!c.bitmap))}if(i)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:R2}get editorStats(){let e=null;const t=new Map;for(const r of g(this,It).values()){if(!(r instanceof Be))continue;const s=r.telemetryFinalData;if(!s)continue;const{type:i}=s;t.has(i)||t.set(i,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const a=e[i]||(e[i]=new Map);for(const[l,c]of Object.entries(s)){if(l==="type")continue;let u=a.get(l);u||(u=new Map,a.set(l,u));const d=u.get(c)??0;u.set(c,d+1)}}for(const[r,s]of t)e[r]=s.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){I(this,Co,null)}get modifiedIds(){if(g(this,Co))return g(this,Co);const e=[];for(const t of g(this,It).values())!(t instanceof Be)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return I(this,Co,{ids:new Set(e),hash:e.join(",")})}}To=new WeakMap,Co=new WeakMap,It=new WeakMap,Yy=new WeakSet,wO=function(){g(this,To)||(I(this,To,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Jf;class SO extends DA{constructor(t){super();O(this,Jf,void 0);const{map:r,hash:s,transfer:i}=t.serializable,a=structuredClone(r,i?{transfer:i}:null);I(this,Jf,{map:a,hash:s,transfer:i})}get print(){Ye("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,Jf)}get modifiedIds(){return Ce(this,"modifiedIds",{ids:new Set,hash:""})}}Jf=new WeakMap;var tu;class WQ{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){O(this,tu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,tu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||g(this,tu).has(e.loadedName))){if(Ct(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:i}=e,a=new FontFace(r,s,i);this.addNativeFontFace(a);try{await a.load(),g(this,tu).add(r),t==null||t(e)}catch{_e(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Ye("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(s){throw _e(`Failed to load font '${r.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const s=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ce(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(dn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ce(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ct(!s.done,"completeRequest() cannot be called twice."),s.done=!0;r.length>0&&r[0].done;){const i=r.shift();setTimeout(i.callback,0)}}const{loadingRequests:r}=this,s={done:!1,complete:t,callback:e};return r.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ce(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(w,N){return w.charCodeAt(N)<<24|w.charCodeAt(N+1)<<16|w.charCodeAt(N+2)<<8|w.charCodeAt(N+3)&255}function s(w,N,E,_){const A=w.substring(0,N),C=w.substring(N+E);return A+_+C}let i,a;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;function d(w,N){if(++u>30){_e("Load test font never loaded."),N();return}if(c.font="30px "+w,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(d.bind(null,w,N))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,h.length,h);const y=16,x=1482184792;let b=r(f,y);for(i=0,a=h.length-3;i<a;i+=4)b=b-x+r(h,i)|0;i<h.length&&(b=b-x+r(h+"XXX",i)|0),f=s(f,y,4,CQ(b));const m=`url(data:font/opentype;base64,${btoa(f)});`,v=`@font-face {font-family:"${h}";src:${m}}`;this.insertRule(v);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const w of[e.loadedName,h]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=w,S.append(N)}this._document.body.append(S),d(h,()=>{S.remove(),t.complete()})}}tu=new WeakMap;class GQ{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${DQ(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(i){_e(`getPathGenerator - ignoring character: "${i}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(i,a){};const s=[];for(let i=0,a=r.length;i<a;)switch(r[i++]){case ks.BEZIER_CURVE_TO:{const[l,c,u,d,h,f]=r.slice(i,i+6);s.push(p=>p.bezierCurveTo(l,c,u,d,h,f)),i+=6}break;case ks.MOVE_TO:{const[l,c]=r.slice(i,i+2);s.push(u=>u.moveTo(l,c)),i+=2}break;case ks.LINE_TO:{const[l,c]=r.slice(i,i+2);s.push(u=>u.lineTo(l,c)),i+=2}break;case ks.QUADRATIC_CURVE_TO:{const[l,c,u,d]=r.slice(i,i+4);s.push(h=>h.quadraticCurveTo(l,c,u,d)),i+=4}break;case ks.RESTORE:s.push(l=>l.restore());break;case ks.SAVE:s.push(l=>l.save());break;case ks.SCALE:Ct(s.length===2,"Scale command is only valid at the third position.");break;case ks.TRANSFORM:{const[l,c,u,d,h,f]=r.slice(i,i+6);s.push(p=>p.transform(l,c,u,d,h,f)),i+=6}break;case ks.TRANSLATE:{const[l,c]=r.slice(i,i+2);s.push(u=>u.translate(l,c)),i+=2}break}return this.compiledGlyphs[t]=function(a,l){s[0](a),s[1](a),a.scale(l,-l);for(let c=2,u=s.length;c<u;c++)s[c](a)}}}var Zf;class NO{constructor({enableHWA:e=!1}){O(this,Zf,!1);I(this,Zf,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!g(this,Zf)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ye("Abstract method `_createCanvas` called.")}}Zf=new WeakMap;class KQ extends NO{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class AO{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ye("Abstract method `_fetch` called.")}}class jO extends AO{async _fetch(e){const t=await u1(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):c1(t)}}class EO{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,s,i){return"none"}destroy(e=!1){}}var Po,Oo,cs,$s,rn,Qy,Lo,Ft,tn,Xi,Xl,Yi,Yl,nu,t0,Qi,Ql,Jy,_O,ep,M2,Ji,Jl,Ro,ph,Mo,mh,tp,D2,Do,gh;class XQ extends EO{constructor({docId:t,ownerDocument:r=globalThis.document}){super();O(this,Ft);O(this,Xi);O(this,Yi);O(this,nu);O(this,Qi);O(this,Jy);O(this,ep);O(this,Ji);O(this,Ro);O(this,Mo);O(this,tp);O(this,Do);O(this,Po,void 0);O(this,Oo,void 0);O(this,cs,void 0);O(this,$s,void 0);O(this,rn,void 0);O(this,Qy,void 0);O(this,Lo,0);I(this,$s,t),I(this,rn,r)}addFilter(t){if(!t)return"none";let r=g(this,Ft,tn).get(t);if(r)return r;const[s,i,a]=F(this,nu,t0).call(this,t),l=t.length===1?s:`${s}${i}${a}`;if(r=g(this,Ft,tn).get(l),r)return g(this,Ft,tn).set(t,r),r;const c=`g_${g(this,$s)}_transfer_map_${fn(this,Lo)._++}`,u=F(this,Qi,Ql).call(this,c);g(this,Ft,tn).set(t,u),g(this,Ft,tn).set(l,u);const d=F(this,Ji,Jl).call(this,c);return F(this,Mo,mh).call(this,s,i,a,d),u}addHCMFilter(t,r){var y;const s=`${t}-${r}`,i="base";let a=g(this,Xi,Xl).get(i);if((a==null?void 0:a.key)===s||(a?((y=a.filter)==null||y.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},g(this,Xi,Xl).set(i,a)),!t||!r))return a.url;const l=F(this,Do,gh).call(this,t);t=he.makeHexColor(...l);const c=F(this,Do,gh).call(this,r);if(r=he.makeHexColor(...c),g(this,Yi,Yl).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const u=new Array(256);for(let x=0;x<=255;x++){const b=x/255;u[x]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=u.join(","),h=`g_${g(this,$s)}_hcm_filter`,f=a.filter=F(this,Ji,Jl).call(this,h);F(this,Mo,mh).call(this,d,d,d,f),F(this,ep,M2).call(this,f);const p=(x,b)=>{const m=l[x]/255,v=c[x]/255,S=new Array(b+1);for(let w=0;w<=b;w++)S[w]=m+w/b*(v-m);return S.join(",")};return F(this,Mo,mh).call(this,p(0,5),p(1,5),p(2,5),f),a.url=F(this,Qi,Ql).call(this,h),a.url}addAlphaFilter(t){let r=g(this,Ft,tn).get(t);if(r)return r;const[s]=F(this,nu,t0).call(this,[t]),i=`alpha_${s}`;if(r=g(this,Ft,tn).get(i),r)return g(this,Ft,tn).set(t,r),r;const a=`g_${g(this,$s)}_alpha_map_${fn(this,Lo)._++}`,l=F(this,Qi,Ql).call(this,a);g(this,Ft,tn).set(t,l),g(this,Ft,tn).set(i,l);const c=F(this,Ji,Jl).call(this,a);return F(this,tp,D2).call(this,s,c),l}addLuminosityFilter(t){let r=g(this,Ft,tn).get(t||"luminosity");if(r)return r;let s,i;if(t?([s]=F(this,nu,t0).call(this,[t]),i=`luminosity_${s}`):i="luminosity",r=g(this,Ft,tn).get(i),r)return g(this,Ft,tn).set(t,r),r;const a=`g_${g(this,$s)}_luminosity_map_${fn(this,Lo)._++}`,l=F(this,Qi,Ql).call(this,a);g(this,Ft,tn).set(t,l),g(this,Ft,tn).set(i,l);const c=F(this,Ji,Jl).call(this,a);return F(this,Jy,_O).call(this,c),t&&F(this,tp,D2).call(this,s,c),l}addHighlightHCMFilter(t,r,s,i,a){var v;const l=`${r}-${s}-${i}-${a}`;let c=g(this,Xi,Xl).get(t);if((c==null?void 0:c.key)===l||(c?((v=c.filter)==null||v.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},g(this,Xi,Xl).set(t,c)),!r||!s))return c.url;const[u,d]=[r,s].map(F(this,Do,gh).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,y]=[i,a].map(F(this,Do,gh).bind(this));f<h&&([h,f,p,y]=[f,h,y,p]),g(this,Yi,Yl).style.color="";const x=(S,w,N)=>{const E=new Array(256),_=(f-h)/N,A=S/255,C=(w-S)/(255*N);let j=0;for(let k=0;k<=N;k++){const T=Math.round(h+k*_),P=A+k*C;for(let R=j;R<=T;R++)E[R]=P;j=T+1}for(let k=j;k<256;k++)E[k]=E[j-1];return E.join(",")},b=`g_${g(this,$s)}_hcm_${t}_filter`,m=c.filter=F(this,Ji,Jl).call(this,b);return F(this,ep,M2).call(this,m),F(this,Mo,mh).call(this,x(p[0],y[0],5),x(p[1],y[1],5),x(p[2],y[2],5),m),c.url=F(this,Qi,Ql).call(this,b),c.url}destroy(t=!1){t&&g(this,Xi,Xl).size!==0||(g(this,cs)&&(g(this,cs).parentNode.parentNode.remove(),I(this,cs,null)),g(this,Oo)&&(g(this,Oo).clear(),I(this,Oo,null)),I(this,Lo,0))}}Po=new WeakMap,Oo=new WeakMap,cs=new WeakMap,$s=new WeakMap,rn=new WeakMap,Qy=new WeakMap,Lo=new WeakMap,Ft=new WeakSet,tn=function(){return g(this,Oo)||I(this,Oo,new Map)},Xi=new WeakSet,Xl=function(){return g(this,Qy)||I(this,Qy,new Map)},Yi=new WeakSet,Yl=function(){if(!g(this,cs)){const t=g(this,rn).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const s=g(this,rn).createElementNS(Cs,"svg");s.setAttribute("width",0),s.setAttribute("height",0),I(this,cs,g(this,rn).createElementNS(Cs,"defs")),t.append(s),s.append(g(this,cs)),g(this,rn).body.append(t)}return g(this,cs)},nu=new WeakSet,t0=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,s,i]=t,a=new Array(256),l=new Array(256),c=new Array(256);for(let u=0;u<256;u++)a[u]=r[u]/255,l[u]=s[u]/255,c[u]=i[u]/255;return[a.join(","),l.join(","),c.join(",")]},Qi=new WeakSet,Ql=function(t){if(g(this,Po)===void 0){I(this,Po,"");const r=g(this,rn).URL;r!==g(this,rn).baseURI&&(d1(r)?_e('#createUrl: ignore "data:"-URL for performance reasons.'):I(this,Po,r.split("#",1)[0]))}return`url(${g(this,Po)}#${t})`},Jy=new WeakSet,_O=function(t){const r=g(this,rn).createElementNS(Cs,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},ep=new WeakSet,M2=function(t){const r=g(this,rn).createElementNS(Cs,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Ji=new WeakSet,Jl=function(t){const r=g(this,rn).createElementNS(Cs,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),g(this,Yi,Yl).append(r),r},Ro=new WeakSet,ph=function(t,r,s){const i=g(this,rn).createElementNS(Cs,r);i.setAttribute("type","discrete"),i.setAttribute("tableValues",s),t.append(i)},Mo=new WeakSet,mh=function(t,r,s,i){const a=g(this,rn).createElementNS(Cs,"feComponentTransfer");i.append(a),F(this,Ro,ph).call(this,a,"feFuncR",t),F(this,Ro,ph).call(this,a,"feFuncG",r),F(this,Ro,ph).call(this,a,"feFuncB",s)},tp=new WeakSet,D2=function(t,r){const s=g(this,rn).createElementNS(Cs,"feComponentTransfer");r.append(s),F(this,Ro,ph).call(this,s,"feFuncA",t)},Do=new WeakSet,gh=function(t){return g(this,Yi,Yl).style.color=t,MA(getComputedStyle(g(this,Yi,Yl)).getPropertyValue("color"))};class kO{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ye("Abstract method `_fetch` called.")}}class TO extends kO{async _fetch(e){const t=await u1(e,"arraybuffer");return new Uint8Array(t)}}if(dn){var I2=Promise.withResolvers(),Vh=null;(async()=>{const e=await ch(()=>import("./__vite-browser-external-b25bb000.js"),[]),t=await ch(()=>import("./__vite-browser-external-b25bb000.js"),[]),r=await ch(()=>import("./__vite-browser-external-b25bb000.js"),[]),s=await ch(()=>import("./__vite-browser-external-b25bb000.js"),[]);let i,a;return new Map(Object.entries({fs:e,http:t,https:r,url:s,canvas:i,path2d:a}))})().then(e=>{Vh=e,I2.resolve()},e=>{_e(`loadPackages: ${e}`),Vh=new Map,I2.resolve()})}class Ia{static get promise(){return I2.promise}static get(e){return Vh==null?void 0:Vh.get(e)}}async function CO(n){const t=await Ia.get("fs").promises.readFile(n);return new Uint8Array(t)}class YQ extends EO{}class QQ extends NO{_createCanvas(e,t){return Ia.get("canvas").createCanvas(e,t)}}class JQ extends AO{async _fetch(e){return CO(e)}}class ZQ extends kO{async _fetch(e){return CO(e)}}const yn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function F2(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,r),n.clip(s)}class IA{getPattern(){Ye("Abstract method `getPattern` called.")}}class eJ extends IA{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,s){let i;if(s===yn.STROKE||s===yn.FILL){const a=t.current.getClippedPathBoundingBox(s,at(e))||[0,0,0,0],l=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=he.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),F2(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),i=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);i.setTransform(h)}else F2(e,this._bbox),i=this._createGradient(e);return i}}function jb(n,e,t,r,s,i,a,l){const c=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;c[t+1]>c[r+1]&&(f=t,t=r,r=f,f=i,i=a,a=f),c[r+1]>c[s+1]&&(f=r,r=s,s=f,f=a,a=l,l=f),c[t+1]>c[r+1]&&(f=t,t=r,r=f,f=i,i=a,a=f);const p=(c[t]+e.offsetX)*e.scaleX,y=(c[t+1]+e.offsetY)*e.scaleY,x=(c[r]+e.offsetX)*e.scaleX,b=(c[r+1]+e.offsetY)*e.scaleY,m=(c[s]+e.offsetX)*e.scaleX,v=(c[s+1]+e.offsetY)*e.scaleY;if(y>=v)return;const S=u[i],w=u[i+1],N=u[i+2],E=u[a],_=u[a+1],A=u[a+2],C=u[l],j=u[l+1],k=u[l+2],T=Math.round(y),P=Math.round(v);let R,M,V,U,W,q,$,D;for(let B=T;B<=P;B++){if(B<b){const G=B<y?0:(y-B)/(y-b);R=p-(p-x)*G,M=S-(S-E)*G,V=w-(w-_)*G,U=N-(N-A)*G}else{let G;B>v?G=1:b===v?G=0:G=(b-B)/(b-v),R=x-(x-m)*G,M=E-(E-C)*G,V=_-(_-j)*G,U=A-(A-k)*G}let H;B<y?H=0:B>v?H=1:H=(y-B)/(y-v),W=p-(p-m)*H,q=S-(S-C)*H,$=w-(w-j)*H,D=N-(N-k)*H;const X=Math.round(Math.min(R,W)),K=Math.round(Math.max(R,W));let z=h*B+X*4;for(let G=X;G<=K;G++)H=(R-G)/(R-W),H<0?H=0:H>1&&(H=1),d[z++]=M-(M-q)*H|0,d[z++]=V-(V-$)*H|0,d[z++]=U-(U-D)*H|0,d[z++]=255}}function tJ(n,e,t){const r=e.coords,s=e.colors;let i,a;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(r.length/l)-1,u=l-1;for(i=0;i<c;i++){let d=i*l;for(let h=0;h<u;h++,d++)jb(n,t,r[d],r[d+1],r[d+l],s[d],s[d+1],s[d+l]),jb(n,t,r[d+l+1],r[d+1],r[d+l],s[d+l+1],s[d+1],s[d+l])}break;case"triangles":for(i=0,a=r.length;i<a;i+=3)jb(n,t,r[i],r[i+1],r[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class nJ extends IA{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,y=d/f,x={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/p,scaleY:1/y},b=h+2*2,m=f+2*2,v=r.getCanvas("mesh",b,m),S=v.context,w=S.createImageData(h,f);if(t){const E=w.data;for(let _=0,A=E.length;_<A;_+=4)E[_]=t[0],E[_+1]=t[1],E[_+2]=t[2],E[_+3]=255}for(const E of this._figures)tJ(w,E,x);return S.putImageData(w,2,2),{canvas:v.canvas,offsetX:l-2*p,offsetY:c-2*y,scaleX:p,scaleY:y}}getPattern(e,t,r,s){F2(e,this._bbox);let i;if(s===yn.SHADING)i=he.singularValueDecompose2dScale(at(e));else if(i=he.singularValueDecompose2dScale(t.baseTransform),this.matrix){const l=he.singularValueDecompose2dScale(this.matrix);i=[i[0]*l[0],i[1]*l[1]]}const a=this._createMeshCanvas(i,s===yn.SHADING?null:this._background,t.cachedCanvases);return s!==yn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class rJ extends IA{getPattern(){return"hotpink"}}function sJ(n){switch(n[0]){case"RadialAxial":return new eJ(n);case"Mesh":return new nJ(n);case"Dummy":return new rJ}throw new Error(`Unknown IR type: ${n[0]}`)}const Q3={COLORED:1,UNCOLORED:2},Zy=class Zy{constructor(e,t,r,s,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=s,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:s,tilingType:i,color:a,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),o1("TilingType: "+i);const d=t[0],h=t[1],f=t[2],p=t[3],y=f-d,x=p-h,b=he.singularValueDecompose2dScale(this.matrix),m=he.singularValueDecompose2dScale(this.baseTransform),v=b[0]*m[0],S=b[1]*m[1];let w=y,N=x,E=!1,_=!1;const A=Math.ceil(c*v),C=Math.ceil(u*S),j=Math.ceil(y*v),k=Math.ceil(x*S);A>=j?w=c:E=!0,C>=k?N=u:_=!0;const T=this.getSizeAndScale(w,this.ctx.canvas.width,v),P=this.getSizeAndScale(N,this.ctx.canvas.height,S),R=e.cachedCanvases.getCanvas("pattern",T.size,P.size),M=R.context,V=l.createCanvasGraphics(M);if(V.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(V,s,a),M.translate(-T.scale*d,-P.scale*h),V.transform(T.scale,0,0,P.scale,0,0),M.save(),this.clipBbox(V,d,h,f,p),V.baseTransform=at(V.ctx),V.executeOperatorList(r),V.endDrawing(),M.restore(),E||_){const U=R.canvas;E&&(w=c),_&&(N=u);const W=this.getSizeAndScale(w,this.ctx.canvas.width,v),q=this.getSizeAndScale(N,this.ctx.canvas.height,S),$=W.size,D=q.size,B=e.cachedCanvases.getCanvas("pattern-workaround",$,D),H=B.context,X=E?Math.floor(y/c):0,K=_?Math.floor(x/u):0;for(let z=0;z<=X;z++)for(let G=0;G<=K;G++)H.drawImage(U,$*z,D*G,$,D,0,0,$,D);return{canvas:B.canvas,scaleX:W.scale,scaleY:q.scale,offsetX:d,offsetY:h}}return{canvas:R.canvas,scaleX:T.scale,scaleY:P.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,r){const s=Math.max(Zy.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*r);return i>=s?i=s:r=i/e,{scale:r,size:i}}clipBbox(e,t,r,s,i){const a=s-t,l=i-r;e.ctx.rect(t,r,a,l),e.current.updateRectMinMax(at(e.ctx),[t,r,s,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const s=e.ctx,i=e.current;switch(t){case Q3.COLORED:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,i.fillColor=a.fillStyle,i.strokeColor=a.strokeStyle;break;case Q3.UNCOLORED:const l=he.makeHexColor(r[0],r[1],r[2]);s.fillStyle=l,s.strokeStyle=l,i.fillColor=l,i.strokeColor=l;break;default:throw new TQ(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,s){let i=r;s!==yn.SHADING&&(i=he.transform(i,t.baseTransform),this.matrix&&(i=he.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let l=new DOMMatrix(i);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(l),c}};me(Zy,"MAX_PATTERN_SIZE",3e3);let B2=Zy;function iJ({src:n,srcPos:e=0,dest:t,width:r,height:s,nonBlackColor:i=4294967295,inverseDecode:a=!1}){const l=bn.isLittleEndian?4278190080:255,[c,u]=a?[i,l]:[l,i],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let y=0;y<s;y++){for(const b=e+d;e<b;e++){const m=e<f?n[e]:255;t[p++]=m&128?u:c,t[p++]=m&64?u:c,t[p++]=m&32?u:c,t[p++]=m&16?u:c,t[p++]=m&8?u:c,t[p++]=m&4?u:c,t[p++]=m&2?u:c,t[p++]=m&1?u:c}if(h===0)continue;const x=e<f?n[e++]:255;for(let b=0;b<h;b++)t[p++]=x&1<<7-b?u:c}return{srcPos:e,destPos:p}}const J3=16,Z3=100,aJ=15,ek=10,tk=1e3,Tn=16;function oJ(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,s){e.translate(r,s),this.__originalTranslate(r,s)},n.scale=function(r,s){e.scale(r,s),this.__originalScale(r,s)},n.transform=function(r,s,i,a,l,c){e.transform(r,s,i,a,l,c),this.__originalTransform(r,s,i,a,l,c)},n.setTransform=function(r,s,i,a,l,c){e.setTransform(r,s,i,a,l,c),this.__originalSetTransform(r,s,i,a,l,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,s,i,a,l){e.bezierCurveTo(t,r,s,i,a,l),this.__originalBezierCurveTo(t,r,s,i,a,l)},n.rect=function(t,r,s,i){e.rect(t,r,s,i),this.__originalRect(t,r,s,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class lJ{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,r)):(s=this.canvasFactory.create(t,r),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function yg(n,e,t,r,s,i,a,l,c,u){const[d,h,f,p,y,x]=at(n);if(h===0&&f===0){const v=a*d+y,S=Math.round(v),w=l*p+x,N=Math.round(w),E=(a+c)*d+y,_=Math.abs(Math.round(E)-S)||1,A=(l+u)*p+x,C=Math.abs(Math.round(A)-N)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),S,N),n.drawImage(e,t,r,s,i,0,0,_,C),n.setTransform(d,h,f,p,y,x),[_,C]}if(d===0&&p===0){const v=l*f+y,S=Math.round(v),w=a*h+x,N=Math.round(w),E=(l+u)*f+y,_=Math.abs(Math.round(E)-S)||1,A=(a+c)*h+x,C=Math.abs(Math.round(A)-N)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,S,N),n.drawImage(e,t,r,s,i,0,0,C,_),n.setTransform(d,h,f,p,y,x),[C,_]}n.drawImage(e,t,r,s,i,a,l,c,u);const b=Math.hypot(d,h),m=Math.hypot(f,p);return[b*c,m*u]}function cJ(n){const{width:e,height:t}=n;if(e>tk||t>tk)return null;const r=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let a=new Uint8Array(i*(t+1)),l,c,u;const d=e+7&-8;let h=new Uint8Array(d*t),f=0;for(const m of n.data){let v=128;for(;v>0;)h[f++]=m&v?0:255,v>>=1}let p=0;for(f=0,h[f]!==0&&(a[0]=1,++p),c=1;c<e;c++)h[f]!==h[f+1]&&(a[c]=h[f]?2:1,++p),f++;for(h[f]!==0&&(a[c]=2,++p),l=1;l<t;l++){f=l*d,u=l*i,h[f-d]!==h[f]&&(a[u]=h[f]?1:8,++p);let m=(h[f]?4:0)+(h[f-d]?8:0);for(c=1;c<e;c++)m=(m>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),s[m]&&(a[u+c]=s[m],++p),f++;if(h[f-d]!==h[f]&&(a[u+c]=h[f]?2:4,++p),p>r)return null}for(f=d*(t-1),u=l*i,h[f]!==0&&(a[u]=8,++p),c=1;c<e;c++)h[f]!==h[f+1]&&(a[u+c]=h[f]?4:8,++p),f++;if(h[f]!==0&&(a[u+c]=4,++p),p>r)return null;const y=new Int32Array([0,i,-1,0,-i,0,0,0,1]),x=new Path2D;for(l=0;p&&l<=t;l++){let m=l*i;const v=m+e;for(;m<v&&!a[m];)m++;if(m===v)continue;x.moveTo(m%i,l);const S=m;let w=a[m];do{const N=y[w];do m+=N;while(!a[m]);const E=a[m];E!==5&&E!==10?(w=E,a[m]=0):(w=E&51*w>>4,a[m]&=w>>2|w<<2),x.lineTo(m%i,m/i|0),a[m]||--p}while(S!==m);--l}return h=null,a=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(x),m.beginPath(),m.restore()}}class nk{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=G5,this.textMatrixScale=1,this.fontMatrix=d2,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=en.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=he.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=he.applyTransform(t,e),s=he.applyTransform(t.slice(2),e),i=he.applyTransform([t[0],t[3]],e),a=he.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],s[0],i[0],a[0]),this.minY=Math.min(this.minY,r[1],s[1],i[1],a[1]),this.maxX=Math.max(this.maxX,r[0],s[0],i[0],a[0]),this.maxY=Math.max(this.maxY,r[1],s[1],i[1],a[1])}updateScalingPathMinMax(e,t){he.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,s,i,a,l,c,u,d){const h=he.bezierBoundingBox(t,r,s,i,a,l,c,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=yn.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===yn.STROKE){t||Ye("Stroke bounding box must include transform.");const s=he.singularValueDecompose2dScale(t),i=s[0]*this.lineWidth/2,a=s[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}updateClipFromPath(){const e=he.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=yn.FILL,t=null){return he.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function rk(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,s=t%Tn,i=(t-s)/Tn,a=s===0?i:i+1,l=n.createImageData(r,Tn);let c=0,u;const d=e.data,h=l.data;let f,p,y,x;if(e.kind===Kg.GRAYSCALE_1BPP){const b=d.byteLength,m=new Uint32Array(h.buffer,0,h.byteLength>>2),v=m.length,S=r+7>>3,w=4294967295,N=bn.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(y=f<i?Tn:s,u=0,p=0;p<y;p++){const E=b-c;let _=0;const A=E>S?r:E*8-7,C=A&-8;let j=0,k=0;for(;_<C;_+=8)k=d[c++],m[u++]=k&128?w:N,m[u++]=k&64?w:N,m[u++]=k&32?w:N,m[u++]=k&16?w:N,m[u++]=k&8?w:N,m[u++]=k&4?w:N,m[u++]=k&2?w:N,m[u++]=k&1?w:N;for(;_<A;_++)j===0&&(k=d[c++],j=128),m[u++]=k&j?w:N,j>>=1}for(;u<v;)m[u++]=0;n.putImageData(l,0,f*Tn)}}else if(e.kind===Kg.RGBA_32BPP){for(p=0,x=r*Tn*4,f=0;f<i;f++)h.set(d.subarray(c,c+x)),c+=x,n.putImageData(l,0,p),p+=Tn;f<a&&(x=r*s*4,h.set(d.subarray(c,c+x)),n.putImageData(l,0,p))}else if(e.kind===Kg.RGB_24BPP)for(y=Tn,x=r*y,f=0;f<a;f++){for(f>=i&&(y=s,x=r*y),u=0,p=x;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(l,0,f*Tn)}else throw new Error(`bad image kind: ${e.kind}`)}function sk(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,s=t%Tn,i=(t-s)/Tn,a=s===0?i:i+1,l=n.createImageData(r,Tn);let c=0;const u=e.data,d=l.data;for(let h=0;h<a;h++){const f=h<i?Tn:s;({srcPos:c}=iJ({src:u,srcPos:c,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(l,0,h*Tn)}}function Jd(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function vg(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!dn){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function ik(n,e){if(e)return!0;const t=he.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Da.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const uJ=["butt","round","square"],dJ=["miter","round","bevel"],hJ={},ak={};var np,$2,rp,z2;const qA=class qA{constructor(e,t,r,s,i,{optionalContentConfig:a,markedContentStack:l=null},c,u){O(this,np);O(this,rp);this.ctx=e,this.current=new nk(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=a,this.cachedCanvases=new lJ(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:s=null}){const i=this.ctx.canvas.width,a=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,a),this.ctx.fillStyle=l,r){const c=this.cachedCanvases.getCanvas("transparent",i,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...at(this.compositeCtx))}this.ctx.save(),vg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=at(this.ctx)}executeOperatorList(e,t,r,s){const i=e.argsArray,a=e.fnArray;let l=t||0;const c=i.length;if(c===l)return l;const u=c-l>ek&&typeof r=="function",d=u?Date.now()+aJ:0;let h=0;const f=this.commonObjs,p=this.objs;let y;for(;;){if(s!==void 0&&l===s.nextBreakPoint)return s.breakIt(l,r),l;if(y=a[l],y!==Ar.dependency)this[y].apply(this,i[l]);else for(const x of i[l]){const b=x.startsWith("g_")?f:p;if(!b.has(x))return b.get(x,r),l}if(l++,l===c)return l;if(u&&++h>ek){if(Date.now()>d)return r(),l;h=0}}}endDrawing(){F(this,np,$2).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),F(this,rp,z2).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,s=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),l=r,c=s,u="prescale1",d,h;for(;i>2&&l>1||a>2&&c>1;){let f=l,p=c;i>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),i/=l/f),a>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,l,c,0,0,f,p),e=d.canvas,l=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:s}=e,i=this.current.fillColor,a=this.current.patternFill,l=at(t);let c,u,d,h;if((e.bitmap||e.data)&&e.count>1){const A=e.bitmap||e.data.buffer;u=JSON.stringify(a?l:[l.slice(0,4),i]),c=this._cachedBitmapsMap.get(A),c||(c=new Map,this._cachedBitmapsMap.set(A,c));const C=c.get(u);if(C&&!a){const j=Math.round(Math.min(l[0],l[2])+l[4]),k=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:C,offsetX:j,offsetY:k}}d=C}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,s),sk(h.context,e));let f=he.transform(l,[1/r,0,0,-1/s,0,0]);f=he.transform(f,[1,0,0,1,0,-s]);const[p,y,x,b]=he.getAxialAlignedBoundingBox([0,0,r,s],f),m=Math.round(x-p)||1,v=Math.round(b-y)||1,S=this.cachedCanvases.getCanvas("fillCanvas",m,v),w=S.context,N=p,E=y;w.translate(-N,-E),w.transform(...f),d||(d=this._scaleImage(h.canvas,Ts(w)),d=d.img,c&&a&&c.set(u,d)),w.imageSmoothingEnabled=ik(at(w),e.interpolate),yg(w,d,0,0,d.width,d.height,0,0,r,s),w.globalCompositeOperation="source-in";const _=he.transform(Ts(w),[1,0,0,1,-N,-E]);return w.fillStyle=a?i.getPattern(t,this,_,yn.FILL):i,w.fillRect(0,0,r,s),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,S.canvas)),{canvas:S.canvas,offsetX:Math.round(N),offsetY:Math.round(E)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=uJ[e]}setLineJoin(e){this.ctx.lineJoin=dJ[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const i=this.ctx;i.setTransform(...at(this.suspendedCtx)),Jd(this.suspendedCtx,i),oJ(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Jd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,s){const i=s[0],a=s[1],l=s[2]-i,c=s[3]-a;l===0||c===0||(this.genericComposeSMask(t.context,r,l,c,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,s,i,a,l,c,u,d,h){let f=e.canvas,p=c-d,y=u-h;if(a){const b=he.makeHexColor(...a);if(p<0||y<0||p+r>f.width||y+s>f.height){const m=this.cachedCanvases.getCanvas("maskExtension",r,s),v=m.context;v.drawImage(f,-p,-y),v.globalCompositeOperation="destination-atop",v.fillStyle=b,v.fillRect(0,0,r,s),v.globalCompositeOperation="source-over",f=m.canvas,p=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const m=new Path2D;m.rect(p,y,r,s),e.clip(m),e.globalCompositeOperation="destination-atop",e.fillStyle=b,e.fillRect(p,y,r,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const x=new Path2D;x.rect(c,u,r,s),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(f,p,y,r,s,c,u,r,s),t.restore()}save(){this.inSMaskMode?(Jd(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Jd(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,s,i,a){this.ctx.transform(e,t,r,s,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const s=this.ctx,i=this.current;let a=i.x,l=i.y,c,u;const d=at(s),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?r.slice(0):null;for(let p=0,y=0,x=e.length;p<x;p++)switch(e[p]|0){case Ar.rectangle:a=t[y++],l=t[y++];const b=t[y++],m=t[y++],v=a+b,S=l+m;s.moveTo(a,l),b===0||m===0?s.lineTo(v,S):(s.lineTo(v,l),s.lineTo(v,S),s.lineTo(a,S)),h||i.updateRectMinMax(d,[a,l,v,S]),s.closePath();break;case Ar.moveTo:a=t[y++],l=t[y++],s.moveTo(a,l),h||i.updatePathMinMax(d,a,l);break;case Ar.lineTo:a=t[y++],l=t[y++],s.lineTo(a,l),h||i.updatePathMinMax(d,a,l);break;case Ar.curveTo:c=a,u=l,a=t[y+4],l=t[y+5],s.bezierCurveTo(t[y],t[y+1],t[y+2],t[y+3],a,l),i.updateCurvePathMinMax(d,c,u,t[y],t[y+1],t[y+2],t[y+3],a,l,f),y+=6;break;case Ar.curveTo2:c=a,u=l,s.bezierCurveTo(a,l,t[y],t[y+1],t[y+2],t[y+3]),i.updateCurvePathMinMax(d,c,u,a,l,t[y],t[y+1],t[y+2],t[y+3],f),a=t[y+2],l=t[y+3],y+=4;break;case Ar.curveTo3:c=a,u=l,a=t[y+2],l=t[y+3],s.bezierCurveTo(t[y],t[y+1],a,l,a,l),i.updateCurvePathMinMax(d,c,u,t[y],t[y+1],a,l,a,l,f),y+=4;break;case Ar.closePath:s.closePath();break}h&&i.updateScalingPathMinMax(d,f),i.setCurrentPoint(a,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Ts(t),yn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,s=this.current.patternFill;let i=!1;s&&(t.save(),t.fillStyle=r.getPattern(t,this,Ts(t),yn.FILL),i=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=hJ}eoClip(){this.pendingClip=ak}beginText(){this.current.textMatrix=G5,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=r.fontMatrix||d2,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&_e("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const i=r.loadedName||"sans-serif",a=((d=r.systemFontInfo)==null?void 0:d.css)||`"${i}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const c=r.italic?"italic":"normal";let u=t;t<J3?u=J3:t>Z3&&(u=Z3),this.current.fontSizeScale=t/u,this.ctx.font=`${c} ${l} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,s,i,a){this.current.textMatrix=[e,t,r,s,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,s){const i=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=c&en.FILL_STROKE_MASK,h=!!(c&en.ADD_TO_PATH_FLAG),f=a.patternFill&&!l.missingFile;let p;(l.disableFontFace||h||f)&&(p=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f?(i.save(),i.translate(t,r),i.beginPath(),p(i,u),s&&i.setTransform(...s),(d===en.FILL||d===en.FILL_STROKE)&&i.fill(),(d===en.STROKE||d===en.FILL_STROKE)&&i.stroke(),i.restore()):((d===en.FILL||d===en.FILL_STROKE)&&i.fillText(e,t,r),(d===en.STROKE||d===en.FILL_STROKE)&&i.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:at(i),x:t,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){r=!0;break}return Ce(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const i=this.ctx,a=t.fontSizeScale,l=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=r.vertical,p=f?1:-1,y=r.defaultVMetrics,x=s*t.fontMatrix[0],b=t.textRenderingMode===en.FILL&&!r.disableFontFace&&!t.patternFill;i.save(),i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),u>0?i.scale(d,-1):i.scale(d,1);let m;if(t.patternFill){i.save();const E=t.fillColor.getPattern(i,this,Ts(i),yn.FILL);m=at(i),i.restore(),i.fillStyle=E}let v=t.lineWidth;const S=t.textMatrixScale;if(S===0||v===0){const E=t.textRenderingMode&en.FILL_STROKE_MASK;(E===en.STROKE||E===en.FILL_STROKE)&&(v=this.getSinglePixelWidth())}else v/=S;if(a!==1&&(i.scale(a,a),v/=a),i.lineWidth=v,r.isInvalidPDFjsFont){const E=[];let _=0;for(const A of e)E.push(A.unicode),_+=A.width;i.fillText(E.join(""),0,0),t.x+=_*x*d,i.restore(),this.compose();return}let w=0,N;for(N=0;N<h;++N){const E=e[N];if(typeof E=="number"){w+=p*E*s/1e3;continue}let _=!1;const A=(E.isSpace?c:0)+l,C=E.fontChar,j=E.accent;let k,T,P=E.width;if(f){const M=E.vmetric||y,V=-(E.vmetric?M[1]:P*.5)*x,U=M[2]*x;P=M?-M[0]:P,k=V/a,T=(w+U)/a}else k=w/a,T=0;if(r.remeasure&&P>0){const M=i.measureText(C).width*1e3/s*a;if(P<M&&this.isFontSubpixelAAEnabled){const V=P/M;_=!0,i.save(),i.scale(V,1),k/=V}else P!==M&&(k+=(P-M)/2e3*s/a)}if(this.contentVisible&&(E.isInFont||r.missingFile)){if(b&&!j)i.fillText(C,k,T);else if(this.paintChar(C,k,T,m),j){const M=k+s*j.offset.x/a,V=T-s*j.offset.y/a;this.paintChar(j.fontChar,M,V,m)}}const R=f?P*x-A*u:P*x+A*u;w+=R,_&&i.restore()}f?t.y-=w:t.x+=w*d,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,s=r.font,i=r.fontSize,a=r.fontDirection,l=s.vertical?1:-1,c=r.charSpacing,u=r.wordSpacing,d=r.textHScale*a,h=r.fontMatrix||d2,f=e.length,p=r.textRenderingMode===en.INVISIBLE;let y,x,b,m;if(!(p||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(d,a),y=0;y<f;++y){if(x=e[y],typeof x=="number"){m=l*x*i/1e3,this.ctx.translate(m,0),r.x+=m*d;continue}const v=(x.isSpace?u:0)+c,S=s.charProcOperatorList[x.operatorListId];if(!S){_e(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(i,i),t.transform(...h),this.executeOperatorList(S),this.restore()),b=he.applyTransform([x.width,0],h)[0]*i+v,t.translate(b,0),r.x+=b*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,s,i,a){this.ctx.rect(r,s,i-r,a-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],s=this.baseTransform||at(this.ctx),i={createCanvasGraphics:a=>new qA(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new B2(e,r,this.ctx,i,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=he.makeHexColor(e,t,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=he.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=sJ(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Ts(t),yn.SHADING);const s=Ts(t);if(s){const{width:i,height:a}=t.canvas,[l,c,u,d]=he.getAxialAlignedBoundingBox([0,0,i,a],s);this.ctx.fillRect(l,c,u-l,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ye("Should not call beginInlineImage")}beginImageData(){Ye("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=at(this.ctx),t)){const r=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],r,s),this.current.updateRectMinMax(at(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||o1("TODO: Support non-isolated groups."),e.knockout&&_e("Knockout groups not supported.");const r=at(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=he.getAxialAlignedBoundingBox(e.bbox,at(t));const i=[0,0,t.canvas.width,t.canvas.height];s=he.intersect(s,i)||[0,0,0,0];const a=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-a,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-a,-l),f.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:a,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,l),t.save()),Jd(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=at(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const i=he.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,r,s,i){if(F(this,np,$2).call(this),vg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],l=t[3]-t[1];if(i&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=l;const[c,u]=he.singularValueDecompose2dScale(at(this.ctx)),{viewportScale:d}=this,h=Math.ceil(a*this.outputScaleX*d),f=Math.ceil(l*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(c,0,0,-u,0,l*u),vg(this.ctx)}else vg(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,l),this.ctx.clip(),this.ctx.beginPath()}this.current=new nk(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),F(this,rp,z2).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=cJ(e)),s.compiled)){s.compiled(r);return}const i=this._createMaskCanvas(e),a=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,s=0,i,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=at(l);l.transform(t,r,s,i,0,0);const u=this._createMaskCanvas(e);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let d=0,h=a.length;d<h;d+=2){const f=he.transform(c,[t,r,s,i,a[d],a[d+1]]),[p,y]=he.applyTransform([0,0],f);l.drawImage(u.canvas,p,y)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,s=this.current.patternFill;for(const i of e){const{data:a,width:l,height:c,transform:u}=i,d=this.cachedCanvases.getCanvas("maskCanvas",l,c),h=d.context;h.save();const f=this.getObject(a,i);sk(h,f),h.globalCompositeOperation="source-in",h.fillStyle=s?r.getPattern(h,this,Ts(t),yn.FILL):r,h.fillRect(0,0,l,c),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),yg(t,d.canvas,0,0,l,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){_e("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,s){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){_e("Dependent image isn't ready yet");return}const a=i.width,l=i.height,c=[];for(let u=0,d=s.length;u<d;u+=2)c.push({transform:[t,0,0,r,s[u],s[u+1]],x:0,y:0,w:a,h:l});this.paintInlineImageXObjectGroup(i,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",r,s),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,s=this.ctx;if(this.save(),!dn){const{filter:l}=s;l!=="none"&&l!==""&&(s.filter="none")}s.scale(1/t,-1/r);let i;if(e.bitmap)i=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)i=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;rk(c,e),i=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(i,Ts(s));s.imageSmoothingEnabled=ik(at(s),e.interpolate),yg(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const i=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",i,a).context;rk(c,e),s=this.applyTransferMapsToCanvas(c)}for(const i of t)r.save(),r.transform(...i.transform),r.scale(1,-1),yg(r,s,i.x,i.y,i.w,i.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===ak?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=at(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:s,d:i}=this.ctx.getTransform();let a,l;if(r===0&&s===0){const c=Math.abs(t),u=Math.abs(i);if(c===u)if(e===0)a=l=1/c;else{const d=c*e;a=l=d<1?1/d:1}else if(e===0)a=1/c,l=1/u;else{const d=c*e,h=u*e;a=d<1?1/d:1,l=h<1?1/h:1}}else{const c=Math.abs(t*i-r*s),u=Math.hypot(t,r),d=Math.hypot(s,i);if(e===0)a=d/c,l=u/c;else{const h=e*c;a=d>h?d/h:1,l=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[s,i]=this.getScaleForStroking();if(t.lineWidth=r||1,s===1&&i===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(s,i),a.length>0){const l=Math.max(s,i);t.setLineDash(a.map(c=>c/l)),t.lineDashOffset/=l}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};np=new WeakSet,$2=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},rp=new WeakSet,z2=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Oc=qA;for(const n in Ar)Oc.prototype[n]!==void 0&&(Oc.prototype[Ar[n]]=Oc.prototype[n]);var sp,ip;class ci{static get workerPort(){return g(this,sp)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");I(this,sp,e)}static get workerSrc(){return g(this,ip)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");I(this,ip,e)}}sp=new WeakMap,ip=new WeakMap,O(ci,sp,null),O(ci,ip,"");const xg={UNKNOWN:0,DATA:1,ERROR:2},bt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Mn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Ye('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Vl(n.message);case"MissingPDFException":return new Ul(n.message);case"PasswordException":return new h2(n.message,n.code);case"UnexpectedResponseException":return new l1(n.message,n.status);case"UnknownErrorException":return new f2(n.message,n.details);default:return new f2(n.message,n.toString())}}var ru,ev,PO,tv,OO,nv,LO,su,n0;class yh{constructor(e,t,r){O(this,ev);O(this,tv);O(this,nv);O(this,su);O(this,ru,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",F(this,ev,PO).bind(this),{signal:g(this,ru).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},r)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,r,s){const i=this.streamId++,a=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:l,action:e,streamId:i,data:t,desiredSize:u.desiredSize},s),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[i].pullCall=d,c.postMessage({sourceName:a,targetName:l,stream:bt.PULL,streamId:i,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Ct(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[i].cancelCall=d,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:a,targetName:l,stream:bt.CANCEL,streamId:i,reason:Mn(u)}),d.promise}},r)}destroy(){var e;(e=g(this,ru))==null||e.abort(),I(this,ru,null)}}ru=new WeakMap,ev=new WeakSet,PO=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){F(this,nv,LO).call(this,e);return}if(e.callback){const r=e.callbackId,s=this.callbackCapabilities[r];if(!s)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===xg.DATA)s.resolve(e.data);else if(e.callback===xg.ERROR)s.reject(Mn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,s=e.sourceName,i=this.comObj;new Promise(function(a){a(t(e.data))}).then(function(a){i.postMessage({sourceName:r,targetName:s,callback:xg.DATA,callbackId:e.callbackId,data:a})},function(a){i.postMessage({sourceName:r,targetName:s,callback:xg.ERROR,callbackId:e.callbackId,reason:Mn(a)})});return}if(e.streamId){F(this,tv,OO).call(this,e);return}t(e.data)},tv=new WeakSet,OO=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,a=this,l=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:s,stream:bt.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:bt.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Ct(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:bt.ERROR,streamId:t,reason:Mn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(u){u(l(e.data,c))}).then(function(){i.postMessage({sourceName:r,targetName:s,stream:bt.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:bt.START_COMPLETE,streamId:t,reason:Mn(u)})})},nv=new WeakSet,LO=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,a=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case bt.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Mn(e.reason));break;case bt.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Mn(e.reason));break;case bt.PULL:if(!l){i.postMessage({sourceName:r,targetName:s,stream:bt.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,new Promise(function(c){var u;c((u=l.onPull)==null?void 0:u.call(l))}).then(function(){i.postMessage({sourceName:r,targetName:s,stream:bt.PULL_COMPLETE,streamId:t,success:!0})},function(c){i.postMessage({sourceName:r,targetName:s,stream:bt.PULL_COMPLETE,streamId:t,reason:Mn(c)})});break;case bt.ENQUEUE:if(Ct(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case bt.CLOSE:if(Ct(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),F(this,su,n0).call(this,a,t);break;case bt.ERROR:Ct(a,"error should have stream controller"),a.controller.error(Mn(e.reason)),F(this,su,n0).call(this,a,t);break;case bt.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Mn(e.reason)),F(this,su,n0).call(this,a,t);break;case bt.CANCEL:if(!l)break;new Promise(function(c){var u;c((u=l.onCancel)==null?void 0:u.call(l,Mn(e.reason)))}).then(function(){i.postMessage({sourceName:r,targetName:s,stream:bt.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){i.postMessage({sourceName:r,targetName:s,stream:bt.CANCEL_COMPLETE,streamId:t,reason:Mn(c)})}),l.sinkCapability.reject(Mn(e.reason)),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},su=new WeakSet,n0=async function(e,t){var r,s,i;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(s=e.pullCall)==null?void 0:s.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var Io,ap;class fJ{constructor({parsedData:e,rawData:t}){O(this,Io,void 0);O(this,ap,void 0);I(this,Io,e),I(this,ap,t)}getRaw(){return g(this,ap)}get(e){return g(this,Io).get(e)??null}getAll(){return CA(g(this,Io))}has(e){return g(this,Io).has(e)}}Io=new WeakMap,ap=new WeakMap;const Zl=Symbol("INTERNAL");var op,lp,cp,iu;class pJ{constructor(e,{name:t,intent:r,usage:s,rbGroups:i}){O(this,op,!1);O(this,lp,!1);O(this,cp,!1);O(this,iu,!0);I(this,op,!!(e&Hn.DISPLAY)),I(this,lp,!!(e&Hn.PRINT)),this.name=t,this.intent=r,this.usage=s,this.rbGroups=i}get visible(){if(g(this,cp))return g(this,iu);if(!g(this,iu))return!1;const{print:e,view:t}=this.usage;return g(this,op)?(t==null?void 0:t.viewState)!=="OFF":g(this,lp)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Zl&&Ye("Internal method `_setVisible` called."),I(this,cp,r),I(this,iu,t)}}op=new WeakMap,lp=new WeakMap,cp=new WeakMap,iu=new WeakMap;var Zi,Fe,au,ou,up,U2;class mJ{constructor(e,t=Hn.DISPLAY){O(this,up);O(this,Zi,null);O(this,Fe,new Map);O(this,au,null);O(this,ou,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,I(this,ou,e.order);for(const r of e.groups)g(this,Fe).set(r.id,new pJ(t,r));if(e.baseState==="OFF")for(const r of g(this,Fe).values())r._setVisible(Zl,!1);for(const r of e.on)g(this,Fe).get(r)._setVisible(Zl,!0);for(const r of e.off)g(this,Fe).get(r)._setVisible(Zl,!1);I(this,au,this.getHash())}}isVisible(e){if(g(this,Fe).size===0)return!0;if(!e)return o1("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,Fe).has(e.id)?g(this,Fe).get(e.id).visible:(_e(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return F(this,up,U2).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!g(this,Fe).has(t))return _e(`Optional content group not found: ${t}`),!0;if(g(this,Fe).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!g(this,Fe).has(t))return _e(`Optional content group not found: ${t}`),!0;if(!g(this,Fe).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!g(this,Fe).has(t))return _e(`Optional content group not found: ${t}`),!0;if(!g(this,Fe).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!g(this,Fe).has(t))return _e(`Optional content group not found: ${t}`),!0;if(g(this,Fe).get(t).visible)return!1}return!0}return _e(`Unknown optional content policy ${e.policy}.`),!0}return _e(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var i;const s=g(this,Fe).get(e);if(!s){_e(`Optional content group not found: ${e}`);return}if(r&&t&&s.rbGroups.length)for(const a of s.rbGroups)for(const l of a)l!==e&&((i=g(this,Fe).get(l))==null||i._setVisible(Zl,!1,!0));s._setVisible(Zl,!!t,!0),I(this,Zi,null)}setOCGState({state:e,preserveRB:t}){let r;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":r=s;continue}const i=g(this,Fe).get(s);if(i)switch(r){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!i.visible,t);break}}I(this,Zi,null)}get hasInitialVisibility(){return g(this,au)===null||this.getHash()===g(this,au)}getOrder(){return g(this,Fe).size?g(this,ou)?g(this,ou).slice():[...g(this,Fe).keys()]:null}getGroups(){return g(this,Fe).size>0?CA(g(this,Fe)):null}getGroup(e){return g(this,Fe).get(e)||null}getHash(){if(g(this,Zi)!==null)return g(this,Zi);const e=new bO;for(const[t,r]of g(this,Fe))e.update(`${t}:${r.visible}`);return I(this,Zi,e.hexdigest())}}Zi=new WeakMap,Fe=new WeakMap,au=new WeakMap,ou=new WeakMap,up=new WeakSet,U2=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let s=1;s<t;s++){const i=e[s];let a;if(Array.isArray(i))a=F(this,up,U2).call(this,i);else if(g(this,Fe).has(i))a=g(this,Fe).get(i).visible;else return _e(`Optional content group not found: ${i}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class gJ{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Ct(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:a,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=l,(i==null?void 0:i.length)>0){const c=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const s=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(r),!0)});Ct(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,s,i;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(i=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||i.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ct(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new yJ(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new vJ(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class yJ{constructor(e,t,r=!1,s=null){this._stream=e,this._done=r||!1,this._filename=LA(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class vJ{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function xJ(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=l(t);return d=unescape(d),d=c(d),d=u(d),i(d)}if(t=a(n),t){const d=u(t);return i(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=l(t);return d=u(d),i(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function s(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=c1(h);h=f.decode(p),e=!1}catch{}}return h}function i(d){return e&&/[\x80-\xff]/.test(d)&&(d=s("utf-8",d),e&&(d=s("iso-8859-1",d))),d}function a(d){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,x,b,m]=f;if(x=parseInt(x,10),x in h){if(x===0)break;continue}h[x]=[b,m]}const y=[];for(let x=0;x<h.length&&x in h;++x){let[b,m]=h[x];m=l(m),b&&(m=unescape(m),x===0&&(m=c(m))),y.push(m)}return y.join("")}function l(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),y=d.slice(h+1).replace(/^[^']*'/,"");return s(f,y)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,b){return String.fromCharCode(parseInt(b,16))}),s(f,y);try{y=atob(y)}catch{}return s(f,y)})}return""}function FA(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const s=e[r];s!==void 0&&t.append(r,s)}return t}function BA({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(s.suggestedLength=i,i<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function $A(n){const e=n.get("Content-Disposition");if(e){let t=xJ(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(LA(t))return t}return null}function h1(n,e){return n===404||n===0&&e.startsWith("file:")?new Ul('Missing PDF "'+e+'".'):new l1(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function RO(n){return n===200||n===206}function MO(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function DO(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(_e(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class ok{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=FA(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ct(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new bJ(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new wJ(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class bJ{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),s=t.url;fetch(s,MO(r,this._withCredentials,this._abortController)).then(i=>{if(!RO(i.status))throw h1(i.status,s);this._reader=i.body.getReader(),this._headersCapability.resolve();const a=i.headers,{allowRangeRequests:l,suggestedLength:c}=BA({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=$A(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Vl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:DO(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class wJ{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${r-1}`);const a=s.url;fetch(a,MO(i,this._withCredentials,this._abortController)).then(l=>{if(!RO(l.status))throw h1(l.status,a);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:DO(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Eb=200,_b=206;function SJ(n){const e=n.response;return typeof e!="string"?e:c1(e).buffer}class NJ{constructor({url:e,httpHeaders:t,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=FA(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const s={begin:e,end:t};for(const i in r)s[i]=r[i];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,s=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,a]of this.headers)t.setRequestHeader(i,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=_b):s.expectedStatus=Eb,t.responseType="arraybuffer",e.onError&&(t.onerror=function(i){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var s;const r=this.pendingRequests[e];r&&((s=r.onProgress)==null||s.call(r,t))}onStateChange(e,t){var c,u,d;const r=this.pendingRequests[e];if(!r)return;const s=r.xhr;if(s.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(c=r.onError)==null||c.call(r,s.status);return}const i=s.status||Eb;if(!(i===Eb&&r.expectedStatus===_b)&&i!==r.expectedStatus){(u=r.onError)==null||u.call(r,s.status);return}const l=SJ(s);if(i===_b){const h=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(f[1],10),chunk:l})}else l?r.onDone({begin:0,chunk:l}):(d=r.onError)==null||d.call(r,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class AJ{constructor(e){this._source=e,this._manager=new NJ(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ct(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new jJ(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new EJ(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class jJ{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]})),{allowRangeRequests:s,suggestedLength:i}=BA({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=$A(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=h1(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class EJ{constructor(e,t,r){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=h1(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const _J=/^[a-z][a-z0-9\-+.]+:/i;function kJ(n){if(_J.test(n))return new URL(n);const e=Ia.get("url");return new URL(e.pathToFileURL(n))}function IO(n,e,t){return n.protocol==="http:"?Ia.get("http").request(n,{headers:e},t):Ia.get("https").request(n,{headers:e},t)}class TJ{constructor(e){this.source=e,this.url=kJ(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=FA(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ct(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new OJ(this):new CJ(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new LJ(this,e,t):new PJ(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class FO{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Vl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BO{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class CJ extends FO{constructor(e){super(e);const t=Object.fromEntries(e.headers),r=s=>{if(s.statusCode===404){const c=new Ul(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(s);const i=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:l}=BA({responseHeaders:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=$A(i)};this._request=IO(this._url,t,r),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class PJ extends BO{constructor(e,t,r){super(e);const s=Object.fromEntries(e.headers);s.Range=`bytes=${t}-${r-1}`;const i=a=>{if(a.statusCode===404){const l=new Ul(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(a)};this._request=IO(this._url,s,i),this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class OJ extends FO{constructor(e){super(e);const t=Ia.get("fs");t.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Ul(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class LJ extends BO{constructor(e,t,r){super(e);const s=Ia.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}}const RJ=1e5,An=30,MJ=.8;var Sk,ea,_n,dp,hp,Fo,zs,fp,pp,Bo,lu,cu,ta,uu,mp,du,$o,gp,yp,nt,zo,Uo,vp,na,hu,rv,$O,sv,zO,xp,H2,fu,r0,bp,q2,iv,UO,av,VO;let V2=(nt=class{constructor({textContentSource:e,container:t,viewport:r}){O(this,rv);O(this,sv);O(this,xp);O(this,ea,Promise.withResolvers());O(this,_n,null);O(this,dp,!1);O(this,hp,!!((Sk=globalThis.FontInspector)!=null&&Sk.enabled));O(this,Fo,null);O(this,zs,null);O(this,fp,0);O(this,pp,0);O(this,Bo,null);O(this,lu,null);O(this,cu,0);O(this,ta,0);O(this,uu,Object.create(null));O(this,mp,[]);O(this,du,null);O(this,$o,[]);O(this,gp,new WeakMap);O(this,yp,null);var c;if(e instanceof ReadableStream)I(this,du,e);else if(typeof e=="object")I(this,du,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');I(this,_n,I(this,lu,t)),I(this,ta,r.scale*(globalThis.devicePixelRatio||1)),I(this,cu,r.rotation),I(this,zs,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:i,pageX:a,pageY:l}=r.rawDims;I(this,yp,[1,0,0,-1,-a,l+i]),I(this,pp,s),I(this,fp,i),F(c=nt,iv,UO).call(c),Rl(t,r),g(this,ea).promise.finally(()=>{g(nt,hu).delete(this),I(this,zs,null),I(this,uu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=bn.platform;return Ce(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{g(this,Bo).read().then(({value:t,done:r})=>{if(r){g(this,ea).resolve();return}g(this,Fo)??I(this,Fo,t.lang),Object.assign(g(this,uu),t.styles),F(this,rv,$O).call(this,t.items),e()},g(this,ea).reject)};return I(this,Bo,g(this,du).getReader()),g(nt,hu).add(this),e(),g(this,ea).promise}update({viewport:e,onBefore:t=null}){var i;const r=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==g(this,cu)&&(t==null||t(),I(this,cu,s),Rl(g(this,lu),{rotation:s})),r!==g(this,ta)){t==null||t(),I(this,ta,r);const a={div:null,properties:null,ctx:F(i=nt,fu,r0).call(i,g(this,Fo))};for(const l of g(this,$o))a.properties=g(this,gp).get(l),a.div=l,F(this,xp,H2).call(this,a)}}cancel(){var t;const e=new Vl("TextLayer task cancelled.");(t=g(this,Bo))==null||t.cancel(e).catch(()=>{}),I(this,Bo,null),g(this,ea).reject(e)}get textDivs(){return g(this,$o)}get textContentItemsStr(){return g(this,mp)}static cleanup(){if(!(g(this,hu).size>0)){g(this,zo).clear();for(const{canvas:e}of g(this,Uo).values())e.remove();g(this,Uo).clear()}}},ea=new WeakMap,_n=new WeakMap,dp=new WeakMap,hp=new WeakMap,Fo=new WeakMap,zs=new WeakMap,fp=new WeakMap,pp=new WeakMap,Bo=new WeakMap,lu=new WeakMap,cu=new WeakMap,ta=new WeakMap,uu=new WeakMap,mp=new WeakMap,du=new WeakMap,$o=new WeakMap,gp=new WeakMap,yp=new WeakMap,zo=new WeakMap,Uo=new WeakMap,vp=new WeakMap,na=new WeakMap,hu=new WeakMap,rv=new WeakSet,$O=function(e){var s,i;if(g(this,dp))return;(i=g(this,zs)).ctx??(i.ctx=F(s=nt,fu,r0).call(s,g(this,Fo)));const t=g(this,$o),r=g(this,mp);for(const a of e){if(t.length>RJ){_e("Ignoring additional textDivs for performance reasons."),I(this,dp,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const l=g(this,_n);I(this,_n,document.createElement("span")),g(this,_n).classList.add("markedContent"),a.id!==null&&g(this,_n).setAttribute("id",`${a.id}`),l.append(g(this,_n))}else a.type==="endMarkedContent"&&I(this,_n,g(this,_n).parentNode);continue}r.push(a.str),F(this,sv,zO).call(this,a)}},sv=new WeakSet,zO=function(e){var x;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,$o).push(t);const s=he.transform(g(this,yp),e.transform);let i=Math.atan2(s[1],s[0]);const a=g(this,uu)[e.fontName];a.vertical&&(i+=Math.PI/2);let l=g(this,hp)&&a.fontSubstitution||a.fontFamily;l=nt.fontFamilyMap.get(l)||l;const c=Math.hypot(s[2],s[3]),u=c*F(x=nt,av,VO).call(x,l,g(this,Fo));let d,h;i===0?(d=s[4],h=s[5]-u):(d=s[4]+u*Math.sin(i),h=s[5]-u*Math.cos(i));const f="calc(var(--scale-factor)*",p=t.style;g(this,_n)===g(this,lu)?(p.left=`${(100*d/g(this,pp)).toFixed(2)}%`,p.top=`${(100*h/g(this,fp)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(g(nt,na)*c).toFixed(2)}px)`,p.fontFamily=l,r.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,g(this,hp)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),i!==0&&(r.angle=i*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);b!==m&&Math.max(b,m)/Math.min(b,m)>1.5&&(y=!0)}if(y&&(r.canvasWidth=a.vertical?e.height:e.width),g(this,gp).set(t,r),g(this,zs).div=t,g(this,zs).properties=r,F(this,xp,H2).call(this,g(this,zs)),r.hasText&&g(this,_n).append(t),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),g(this,_n).append(b)}},xp=new WeakSet,H2=function(e){var l;const{div:t,properties:r,ctx:s}=e,{style:i}=t;let a="";if(g(nt,na)>1&&(a=`scale(${1/g(nt,na)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=i,{canvasWidth:u,fontSize:d}=r;F(l=nt,bp,q2).call(l,s,d*g(this,ta),c);const{width:h}=s.measureText(t.textContent);h>0&&(a=`scaleX(${u*g(this,ta)/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(i.transform=a)},fu=new WeakSet,r0=function(e=null){let t=g(this,Uo).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,Uo).set(e,t),g(this,vp).set(t,{size:0,family:""})}return t},bp=new WeakSet,q2=function(e,t,r){const s=g(this,vp).get(e);t===s.size&&r===s.family||(e.font=`${t}px ${r}`,s.size=t,s.family=r)},iv=new WeakSet,UO=function(){if(g(this,na)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),I(this,na,e.getBoundingClientRect().height),e.remove()},av=new WeakSet,VO=function(e,t){const r=g(this,zo).get(e);if(r)return r;const s=F(this,fu,r0).call(this,t);s.canvas.width=s.canvas.height=An,F(this,bp,q2).call(this,s,An,e);const i=s.measureText("");let a=i.fontBoundingBoxAscent,l=Math.abs(i.fontBoundingBoxDescent);if(a){const d=a/(a+l);return g(this,zo).set(e,d),s.canvas.width=s.canvas.height=0,d}s.strokeStyle="red",s.clearRect(0,0,An,An),s.strokeText("g",0,0);let c=s.getImageData(0,0,An,An).data;l=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){l=Math.ceil(d/4/An);break}s.clearRect(0,0,An,An),s.strokeText("A",0,An),c=s.getImageData(0,0,An,An).data,a=0;for(let d=0,h=c.length;d<h;d+=4)if(c[d]>0){a=An-Math.floor(d/4/An);break}s.canvas.width=s.canvas.height=0;const u=a?a/(a+l):MJ;return g(this,zo).set(e,u),u},O(nt,fu),O(nt,bp),O(nt,iv),O(nt,av),O(nt,zo,new Map),O(nt,Uo,new Map),O(nt,vp,new WeakMap),O(nt,na,null),O(nt,hu,new Set),nt);class yf{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function s(i){var c;if(!i)return;let a=null;const l=i.name;if(l==="#text")a=i.value;else if(yf.shouldBuildText(l))(c=i==null?void 0:i.attributes)!=null&&c.textContent?a=i.attributes.textContent:i.value&&(a=i.value);else return;if(a!==null&&t.push({str:a}),!!i.children)for(const u of i.children)s(u)}return s(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const DJ=65536,IJ=100,FJ=5e3,BJ=dn?QQ:KQ,$J=dn?JQ:jO,zJ=dn?YQ:XQ,UJ=dn?ZQ:TO;function VJ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new W2,{docId:t}=e,r=n.url?HJ(n.url):null,s=n.data?qJ(n.data):null,i=n.httpHeaders||null,a=n.withCredentials===!0,l=n.password??null,c=n.range instanceof HO?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:DJ;let d=n.worker instanceof Lc?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!d1(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,y=n.cMapPacked!==!1,x=n.CMapReaderFactory||$J,b=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||UJ,v=n.stopAtErrors!==!0,S=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,w=n.isEvalSupported!==!1,N=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!dn,E=typeof n.isChrome=="boolean"?n.isChrome:!bn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),_=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,A=typeof n.disableFontFace=="boolean"?n.disableFontFace:dn,C=n.fontExtraProperties===!0,j=n.enableXfa===!0,k=n.ownerDocument||globalThis.document,T=n.disableRange===!0,P=n.disableStream===!0,R=n.disableAutoFetch===!0,M=n.pdfBug===!0,V=n.CanvasFactory||BJ,U=n.FilterFactory||zJ,W=n.enableHWA===!0,q=c?c.length:n.length??NaN,$=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!dn&&!A,D=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:x===jO&&m===TO&&p&&b&&uh(p,document.baseURI)&&uh(b,document.baseURI);n.canvasFactory&&X3("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&X3("`filterFactory`-instance option, please use `FilterFactory` instead.");const B=null;jQ(h);const H={canvasFactory:new V({ownerDocument:k,enableHWA:W}),filterFactory:new U({docId:t,ownerDocument:k}),cMapReaderFactory:D?null:new x({baseUrl:p,isCompressed:y}),standardFontDataFactory:D?null:new m({baseUrl:b})};if(!d){const z={verbosity:h,port:ci.workerPort};d=z.port?Lc.fromPort(z):new Lc(z),e._worker=d}const X={docId:t,apiVersion:"4.8.69",data:s,password:l,disableAutoFetch:R,rangeChunkSize:u,length:q,docBaseUrl:f,enableXfa:j,evaluatorOptions:{maxImageSize:S,disableFontFace:A,ignoreErrors:v,isEvalSupported:w,isOffscreenCanvasSupported:N,isChrome:E,canvasMaxAreaInBytes:_,fontExtraProperties:C,useSystemFonts:$,cMapUrl:D?p:null,standardFontDataUrl:D?b:null}},K={disableFontFace:A,fontExtraProperties:C,ownerDocument:k,pdfBug:M,styleElement:B,loadingParams:{disableAutoFetch:R,enableXfa:j}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const z=d.messageHandler.sendWithPromise("GetDocRequest",X,s?[s.buffer]:null);let G;if(c)G=new gJ(c,{disableRange:T,disableStream:P});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");let J;dn?J=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&uh(r)?ok:TJ:J=uh(r)?ok:AJ,G=new J({url:r,length:q,httpHeaders:i,withCredentials:a,rangeChunkSize:u,disableRange:T,disableStream:P})}return z.then(J=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Q=new yh(t,J,d.port),ee=new XJ(Q,e,G,K,H);e._transport=ee,Q.send("Ready",null)})}).catch(e._capability.reject),e}function HJ(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(dn&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function qJ(n){if(dn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return c1(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function lk(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var ov;const lv=class lv{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${fn(lv,ov)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};ov=new WeakMap,O(lv,ov,0);let W2=lv,HO=class{constructor(e,t,r=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ye("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class WJ{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ce(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ra,Us,sa,ec,pu,s0;class GJ{constructor(e,t,r,s=!1){O(this,sa);O(this,pu);O(this,ra,null);O(this,Us,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=s?new K3:null,this._pdfBug=s,this.commonObjs=r.commonObjs,this.objs=new qO,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:s=0,dontFlip:i=!1}={}){return new zm({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ce(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:s=Ii.ENABLE,transform:i=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){var w,N;(w=this._stats)==null||w.time("Overall");const f=this._transport.getRenderingIntent(r,s,d,h),{renderingIntent:p,cacheKey:y}=f;I(this,Us,!1),F(this,pu,s0).call(this),l||(l=this._transport.getOptionalContentConfig(p));let x=this._intentStates.get(y);x||(x=Object.create(null),this._intentStates.set(y,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const b=!!(p&Hn.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(N=this._stats)==null||N.time("Page Request"),this._pumpOperatorList(f));const m=E=>{var _;x.renderTasks.delete(v),(this._maybeCleanupAfterRender||b)&&I(this,Us,!0),F(this,sa,ec).call(this,!b),E?(v.capability.reject(E),this._abortOperatorList({intentState:x,reason:E instanceof Error?E:new Error(E)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(_=globalThis.Stats)!=null&&_.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new K2({callback:m,params:{canvasContext:e,viewport:t,transform:i,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:u});(x.renderTasks||(x.renderTasks=new Set)).add(v);const S=v.task;return Promise.all([x.displayReadyCapability.promise,l]).then(([E,_])=>{var A;if(this.destroyed){m();return}if((A=this._stats)==null||A.time("Rendering"),!(_.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:E,optionalContentConfig:_}),v.operatorListChanged()}).catch(m),S}getOperatorList({intent:e="display",annotationMode:t=Ii.ENABLE,printAnnotationStorage:r=null,isEditing:s=!1}={}){var u;function i(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(e,t,r,s,!0);let l=this._intentStates.get(a.cacheKey);l||(l=Object.create(null),this._intentStates.set(a.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=i,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>yf.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,s){function i(){a.read().then(function({value:c,done:u}){if(u){r(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),i()},s)}const a=t.getReader(),l={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),I(this,Us,!1),F(this,pu,s0).call(this),Promise.all(e)}cleanup(e=!1){I(this,Us,!0);const t=F(this,sa,ec).call(this,!1);return e&&t&&this._stats&&(this._stats=new K3),t}_startRenderPage(e,t){var s,i;const r=this._intentStates.get(t);r&&((s=this._stats)==null||s.timeEnd("Page Request"),(i=r.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let r=0,s=e.length;r<s;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&F(this,sa,ec).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:s}){const{map:i,transfer:a}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:s},a).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();F(this,sa,ec).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof OA){let s=IJ;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new Vl(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,i]of this._intentStates)if(i===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}ra=new WeakMap,Us=new WeakMap,sa=new WeakSet,ec=function(e=!1){if(F(this,pu,s0).call(this),!g(this,Us)||this.destroyed)return!1;if(e)return I(this,ra,setTimeout(()=>{I(this,ra,null),F(this,sa,ec).call(this,!1)},FJ)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),I(this,Us,!1),!0},pu=new WeakSet,s0=function(){g(this,ra)&&(clearTimeout(g(this,ra)),I(this,ra,null))};var Vs,cv;class KJ{constructor(){O(this,Vs,new Map);O(this,cv,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};g(this,cv).then(()=>{for(const[s]of g(this,Vs))s.call(this,r)})}addEventListener(e,t,r=null){let s=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:i}=r;if(i.aborted){_e("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);s=()=>i.removeEventListener("abort",a),i.addEventListener("abort",a)}g(this,Vs).set(t,s)}removeEventListener(e,t){const r=g(this,Vs).get(t);r==null||r(),g(this,Vs).delete(t)}terminate(){for(const[,e]of g(this,Vs))e==null||e();g(this,Vs).clear()}}Vs=new WeakMap,cv=new WeakMap;var uv,Vo,Ho,mu,i0,gu,a0;const tt=class tt{constructor({name:e=null,port:t=null,verbosity:r=EQ()}={}){O(this,mu);var s;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=g(tt,Ho))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(g(tt,Ho)||I(tt,Ho,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return dn?Promise.all([Ia.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new yh("main","worker",e),this._messageHandler.on("ready",function(){}),F(this,mu,i0).call(this)}_initialize(){if(g(tt,Vo)||g(tt,gu,a0)){this._setupFakeWorker();return}let{workerSrc:e}=tt;try{tt._isSameOrigin(window.location.href,e)||(e=tt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new yh("main","worker",t),s=()=>{i.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:i.signal}),r.on("test",l=>{if(i.abort(),this.destroyed||!l){s();return}this._messageHandler=r,this._port=t,this._webWorker=t,F(this,mu,i0).call(this)}),r.on("ready",l=>{if(i.abort(),this.destroyed){s();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const l=new Uint8Array;r.send("test",l,[l.buffer])};a();return}catch{o1("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(tt,Vo)||(_e("Setting up fake worker."),I(tt,Vo,!0)),tt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new KJ;this._port=t;const r=`fake${fn(tt,uv)._++}`,s=new yh(r+"_worker",r,t);e.setup(s,t),this._messageHandler=new yh(r,r+"_worker",t),F(this,mu,i0).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=g(tt,Ho))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=g(this,Ho))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new tt(e)}static get workerSrc(){if(ci.workerSrc)return ci.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ce(this,"_setupFakeWorkerGlobal",(async()=>g(this,gu,a0)?g(this,gu,a0):(await ch(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};uv=new WeakMap,Vo=new WeakMap,Ho=new WeakMap,mu=new WeakSet,i0=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},gu=new WeakSet,a0=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},O(tt,gu),O(tt,uv,0),O(tt,Vo,!1),O(tt,Ho,void 0),dn&&(I(tt,Vo,!0),ci.workerSrc||(ci.workerSrc="./pdf.worker.mjs")),tt._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const s=new URL(t,r);return r.origin===s.origin},tt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Lc=tt;var Hs,us,yu,vu,ds,qo,vh;class XJ{constructor(e,t,r,s,i){O(this,qo);O(this,Hs,new Map);O(this,us,new Map);O(this,yu,new Map);O(this,vu,new Map);O(this,ds,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new qO,this.fontLoader=new WQ({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ce(this,"annotationStorage",new DA)}getRenderingIntent(e,t=Ii.ENABLE,r=null,s=!1,i=!1){let a=Hn.DISPLAY,l=R2;switch(e){case"any":a=Hn.ANY;break;case"display":break;case"print":a=Hn.PRINT;break;default:_e(`getRenderingIntent - invalid intent: ${e}`)}const c=a&Hn.PRINT&&r instanceof SO?r:this.annotationStorage;switch(t){case Ii.DISABLE:a+=Hn.ANNOTATIONS_DISABLE;break;case Ii.ENABLE:break;case Ii.ENABLE_FORMS:a+=Hn.ANNOTATIONS_FORMS;break;case Ii.ENABLE_STORAGE:a+=Hn.ANNOTATIONS_STORAGE,l=c.serializable;break;default:_e(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(a+=Hn.IS_EDITING),i&&(a+=Hn.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[a,l.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=g(this,ds))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of g(this,us).values())e.push(s._destroy());g(this,us).clear(),g(this,yu).clear(),g(this,vu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),g(this,Hs).clear(),this.filterFactory.destroy(),V2.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Vl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,s)=>{Ct(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},s.onPull=()=>{this._fullReader.read().then(function({value:i,done:a}){if(a){s.close();return}Ct(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{this._fullReader.cancel(i),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:i,contentLength:a}=this._fullReader;return(!s||!i)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:i,contentLength:a}}),e.on("GetRangeReader",(r,s)=>{Ct(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(r.begin,r.end);if(!i){s.close();return}s.onPull=()=>{i.read().then(function({value:a,done:l}){if(l){s.close();return}Ct(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{i.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new WJ(r,this))}),e.on("DocException",function(r){let s;switch(r.name){case"PasswordException":s=new h2(r.message,r.code);break;case"InvalidPDFException":s=new K5(r.message);break;case"MissingPDFException":s=new Ul(r.message);break;case"UnexpectedResponseException":s=new l1(r.message,r.status);break;case"UnknownErrorException":s=new f2(r.message,r.details);break;default:Ye("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",r=>{if(I(this,ds,Promise.withResolvers()),t.onPassword){const s=i=>{i instanceof Error?g(this,ds).reject(i):g(this,ds).resolve({password:i})};try{t.onPassword(s,r.code)}catch(i){g(this,ds).reject(i)}}else g(this,ds).reject(new h2(r.message,r.code));return g(this,ds).promise}),e.on("DataLoaded",r=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;g(this,us).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,s,i])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(s){case"Font":const{disableFontFace:l,fontExtraProperties:c,pdfBug:u}=this._params;if("error"in i){const p=i.error;_e(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const d=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,y)=>globalThis.FontInspector.fontAdded(p,y):null,h=new GQ(i,{disableFontFace:l,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:f}=i;Ct(f,"The imageRef must be defined.");for(const p of g(this,us).values())for(const[,y]of p.objs)if((y==null?void 0:y.ref)===f)return y.dataLen?(this.commonObjs.resolve(r,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,i);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([r,s,i,a])=>{var c;if(this.destroyed)return;const l=g(this,us).get(s);if(!l.objs.has(r)){if(l._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(i){case"Image":l.objs.resolve(r,a),(a==null?void 0:a.dataLen)>wQ&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",r=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&_e("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=g(this,yu).get(t);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&g(this,vu).set(i.refStr,e);const a=new GJ(t,i,this,this._params.pdfBug);return g(this,us).set(t,a),a});return g(this,yu).set(t,s),s}getPageIndex(e){return lk(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return F(this,qo,vh).call(this,"GetFieldObjects")}hasJSActions(){return F(this,qo,vh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return F(this,qo,vh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return F(this,qo,vh).call(this,"GetOptionalContentConfig").then(t=>new mJ(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=g(this,Hs).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(s=>{var i,a;return{info:s[0],metadata:s[1]?new fJ(s[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return g(this,Hs).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of g(this,us).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,Hs).clear(),this.filterFactory.destroy(!0),V2.cleanup()}}cachedPageNumber(e){if(!lk(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,vu).get(t)??null}}Hs=new WeakMap,us=new WeakMap,yu=new WeakMap,vu=new WeakMap,ds=new WeakMap,qo=new WeakSet,vh=function(e,t=null){const r=g(this,Hs).get(e);if(r)return r;const s=this.messageHandler.sendWithPromise(e,t);return g(this,Hs).set(e,s),s};const bg=Symbol("INITIAL_DATA");var Cr,wp,G2;class qO{constructor(){O(this,wp);O(this,Cr,Object.create(null))}get(e,t=null){if(t){const s=F(this,wp,G2).call(this,e);return s.promise.then(()=>t(s.data)),null}const r=g(this,Cr)[e];if(!r||r.data===bg)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=g(this,Cr)[e];return!!t&&t.data!==bg}resolve(e,t=null){const r=F(this,wp,G2).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in g(this,Cr)){const{data:r}=g(this,Cr)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}I(this,Cr,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,Cr)){const{data:t}=g(this,Cr)[e];t!==bg&&(yield[e,t])}}}Cr=new WeakMap,wp=new WeakSet,G2=function(e){var t;return(t=g(this,Cr))[e]||(t[e]={...Promise.withResolvers(),data:bg})};var ia;class YJ{constructor(e){O(this,ia,null);I(this,ia,e),this.onContinue=null}get promise(){return g(this,ia).capability.promise}cancel(e=0){g(this,ia).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,ia).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=g(this,ia);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ia=new WeakMap;var aa,Wo;const ro=class ro{constructor({callback:e,params:t,objs:r,commonObjs:s,annotationCanvasMap:i,operatorList:a,pageIndex:l,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){O(this,aa,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new YJ(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,c;if(this.cancelled)return;if(this._canvas){if(g(ro,Wo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(ro,Wo).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:s,transform:i,background:a}=this.params;this.gfx=new Oc(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:s,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),g(this,aa)&&(window.cancelAnimationFrame(g(this,aa)),I(this,aa,null)),g(ro,Wo).delete(this._canvas),this.callback(e||new OA(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?I(this,aa,window.requestAnimationFrame(()=>{I(this,aa,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(ro,Wo).delete(this._canvas),this.callback())))}};aa=new WeakMap,Wo=new WeakMap,O(ro,Wo,new WeakSet);let K2=ro;const QJ="4.8.69",JJ="3634dab10";function ck(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Zd(n){return Math.max(0,Math.min(255,255*n))}class uk{static CMYK_G([e,t,r,s]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Zd(e),[e,e,e]}static G_HTML([e]){const t=ck(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Zd)}static RGB_HTML(e){return`#${e.map(ck).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,r+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,r,s]){return[Zd(1-Math.min(1,e+s)),Zd(1-Math.min(1,r+s)),Zd(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const s=1-e,i=1-t,a=1-r,l=Math.min(s,i,a);return["CMYK",s,i,a,l]}}class ZJ{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),r||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ye("Abstract method `_createSVG` called.")}}class zA extends ZJ{_createSVG(e){return document.createElementNS(Cs,e)}}class WO{static setupStorage(e,t,r,s,i){const a=s.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),i==="print")break;e.addEventListener("input",l=>{s.setValue(t,{value:l.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",l=>{s.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),i==="print")break;e.addEventListener("input",l=>{s.setValue(t,{value:l.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const l of r.children)l.attributes.value===a.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:s,linkService:i}){const{attributes:a}=t,l=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[c,u]of Object.entries(a))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}l&&i.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,s=e.xfaHtml,i=e.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:i,linkService:r});const l=i!=="richText",c=e.div;if(c.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}l&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);a.append(p),l&&yf.shouldBuildText(s.name)&&u.push(p)}return{textDivs:u}}const d=[[s,-1,a]];for(;d.length>0;){const[p,y,x]=d.at(-1);if(y+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:m}=b;if(m==="#text"){const S=document.createTextNode(b.value);u.push(S),x.append(S);continue}const v=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,m):document.createElement(m);if(x.append(v),b.attributes&&this.setAttributes({html:v,element:b,storage:t,intent:i,linkService:r}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,v]);else if(b.value){const S=document.createTextNode(b.value);l&&yf.shouldBuildText(m)&&u.push(S),v.append(S)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Vm=1e3,eZ=9,Dl=new WeakSet;function gi(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class tZ{static create(e){switch(e.data.annotationType){case At.LINK:return new GO(e);case At.TEXT:return new nZ(e);case At.WIDGET:switch(e.data.fieldType){case"Tx":return new rZ(e);case"Btn":return e.data.radioButton?new YO(e):e.data.checkBox?new iZ(e):new aZ(e);case"Ch":return new oZ(e);case"Sig":return new sZ(e)}return new Hl(e);case At.POPUP:return new Y2(e);case At.FREETEXT:return new t6(e);case At.LINE:return new cZ(e);case At.SQUARE:return new uZ(e);case At.CIRCLE:return new dZ(e);case At.POLYLINE:return new n6(e);case At.CARET:return new fZ(e);case At.INK:return new UA(e);case At.POLYGON:return new hZ(e);case At.HIGHLIGHT:return new r6(e);case At.UNDERLINE:return new pZ(e);case At.SQUIGGLY:return new mZ(e);case At.STRIKEOUT:return new gZ(e);case At.STAMP:return new s6(e);case At.FILEATTACHMENT:return new yZ(e);default:return new xt(e)}}}var Go,xu,bu,Sp,X2;const WA=class WA{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:s=!1}={}){O(this,Sp);O(this,Go,null);O(this,xu,!1);O(this,bu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return WA._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;g(this,Go)||I(this,Go,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&F(this,Sp,X2).call(this,t),(r=g(this,bu))==null||r.popup.updateEdited(e)}resetEdited(){var e;g(this,Go)&&(F(this,Sp,X2).call(this,g(this,Go).rect),(e=g(this,bu))==null||e.popup.resetEdited(),I(this,Go,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof Hl||(i.tabIndex=Vm);const{style:a}=i;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof Y2){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,i),i}const{width:l,height:c}=gi(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(x>0||b>0){const v=`calc(${x}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;a.borderRadius=v}else if(this instanceof YO){const v=`calc(${l}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=v}switch(t.borderStyle.style){case Qd.SOLID:a.borderStyle="solid";break;case Qd.DASHED:a.borderStyle="dashed";break;case Qd.BEVELED:_e("Unimplemented border style: beveled");break;case Qd.INSET:_e("Unimplemented border style: inset");break;case Qd.UNDERLINE:a.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(I(this,xu,!0),a.borderColor=he.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):a.borderWidth=0}const u=he.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=s.rawDims;a.left=`${100*(u[0]-f)/d}%`,a.top=`${100*(u[1]-p)/h}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(a.width=`${100*l/d}%`,a.height=`${100*c/h}%`):this.setRotation(y,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:s}=this.parent.viewport.rawDims,{width:i,height:a}=gi(this.data.rect);let l,c;e%180===0?(l=100*i/r,c=100*a/s):(l=100*a/r,c=100*i/s),t.style.width=`${l}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,s)=>{const i=s.detail[t],a=i[0],l=i.slice(1);s.target.style[r]=uk[`${a}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[r]:uk[`${a}_rgb`](l)})};return Ce(this,"_commonActions",{display:t=>{const{display:r}=t.detail,s=r%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const s of Object.keys(t.detail)){const i=e[s]||r[s];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[s,i]of Object.entries(t)){const a=r[s];if(a){const l={detail:{[s]:i},target:e};a(l),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,s,i]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,b,m,v]=e.subarray(2,6);if(s===x&&i===b&&t===m&&r===v)return}const{style:a}=this.container;let l;if(g(this,xu)){const{borderColor:x,borderWidth:b}=a;a.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=s-t,u=i-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let x=2,b=e.length;x<b;x+=8){const m=e[x],v=e[x+1],S=e[x+2],w=e[x+3],N=d.createElement("rect"),E=(S-t)/c,_=(i-v)/u,A=(m-S)/c,C=(v-w)/u;N.setAttribute("x",E),N.setAttribute("y",_),N.setAttribute("width",A),N.setAttribute("height",C),p.append(N),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${E}" y="${_}" width="${A}" height="${C}"/>`)}g(this,xu)&&(l.push("</g></svg>')"),a.backgroundImage=l.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:e}=this,t=I(this,bu,new Y2({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Ye("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:i,id:a,exportValues:l}of s){if(i===-1||a===t)continue;const c=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!Dl.has(u)){_e(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:c,domElement:u})}return r}for(const s of document.getElementsByName(e)){const{exportValue:i}=s,a=s.getAttribute("data-element-id");a!==t&&Dl.has(s)&&r.push({id:a,exportValue:i,domElement:s})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Go=new WeakMap,xu=new WeakMap,bu=new WeakMap,Sp=new WeakSet,X2=function(e){const{container:{style:t},data:{rect:r,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:l,pageY:c}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:d}=gi(e);t.left=`${100*(e[0]-l)/i}%`,t.top=`${100*(a-e[3]+c)/a}%`,s===0?(t.width=`${100*u/i}%`,t.height=`${100*d/a}%`):this.setRotation(s)};let xt=WA;var qs,Ja,dv,KO,hv,XO;class GO extends xt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});O(this,qs);O(this,dv);O(this,hv);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let i=!1;return t.url?(r.addLinkAttributes(s,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(s,t.action),i=!0):t.attachment?(F(this,dv,KO).call(this,s,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(F(this,hv,XO).call(this,s,t.setOCGState),i=!0):t.dest?(this._bindLink(s,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),i=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(s,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(s),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&F(this,qs,Ja).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),F(this,qs,Ja).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(r.actions)){const a=s.get(i);a&&(t[a]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),F(this,qs,Ja).call(this)}_bindResetFormAction(t,r){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),F(this,qs,Ja).call(this),!this._fieldObjects){_e('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var h;s==null||s();const{fields:i,refs:a,include:l}=r,c=[];if(i.length!==0||a.length!==0){const f=new Set(a);for(const p of i){const y=this._fieldObjects[p]||[];for(const{id:x}of y)f.add(x)}for(const p of Object.values(this._fieldObjects))for(const y of p)f.has(y.id)===l&&c.push(y)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const x=f.defaultValue||"";u.setValue(p,{value:x});break}case"checkbox":case"radiobutton":{const x=f.defaultValue===f.exportValues;u.setValue(p,{value:x});break}case"combobox":case"listbox":{const x=f.defaultValue||"";u.setValue(p,{value:x});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!Dl.has(y)){_e(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}qs=new WeakSet,Ja=function(){this.container.setAttribute("data-internal-link","")},dv=new WeakSet,KO=function(t,r,s=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(r.content,r.filename,s),!1},F(this,qs,Ja).call(this)},hv=new WeakSet,XO=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),F(this,qs,Ja).call(this)};class nZ extends xt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Hl extends xt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return bn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,s,i){r.includes("mouse")?e.addEventListener(r,a=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var l;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}i&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(a)}}))})}_setEventListeners(e,t,r,s){var i,a,l;for(const[c,u]of r)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,s),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":he.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||eZ,i=e.style;let a;const l=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),d=Math.round(u/(Sb*s))||1,h=u/d;a=Math.min(s,c(h/Sb))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);a=Math.min(s,c(u/Sb))}i.fontSize=`calc(${a}px * var(--scale-factor))`,i.color=he.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class rZ extends Hl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,s){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),i.setValue(a.id,{[s]:r})}render(){var s,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let l=a.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??l,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??l),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Dl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Vm,this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=d.userValue=p,d.formattedValue=null});let h=f=>{const{formattedValue:p}=d;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var x;if(d.focused)return;const{target:y}=p;d.userValue&&(y.value=d.userValue),d.lastCommittedValue=y.value,d.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const y={value(x){d.userValue=x.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),x.target.value=d.userValue},formattedValue(x){const{formattedValue:b}=x.detail;d.formattedValue=b,b!=null&&x.target!==document.activeElement&&(x.target.value=b),e.setValue(t,{formattedValue:b})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var S;const{charLimit:b}=x.detail,{target:m}=x;if(b===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",b);let v=d.userValue;!v||v.length<=b||(v=v.slice(0,b),m.value=d.userValue=v,e.setValue(t,{value:v}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(y,p)}),r.addEventListener("keydown",p=>{var b;d.commitKey=1;let y=-1;if(p.key==="Escape"?y=0:p.key==="Enter"&&!this.data.multiLine?y=2:p.key==="Tab"&&(d.commitKey=3),y===-1)return;const{value:x}=p.target;d.lastCommittedValue!==x&&(d.lastCommittedValue=x,d.userValue=x,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:y,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,r.addEventListener("blur",p=>{var x,b;if(!d.focused||!p.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(d.focused=!1);const{value:y}=p.target;d.userValue=y,d.lastCommittedValue!==y&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(i=this.data.actions)!=null&&i.Keystroke&&r.addEventListener("beforeinput",p=>{var N;d.lastCommittedValue=null;const{data:y,target:x}=p,{value:b,selectionStart:m,selectionEnd:v}=x;let S=m,w=v;switch(p.inputType){case"deleteWordBackward":{const E=b.substring(0,m).match(/\w*[^\w]*$/);E&&(S-=E[0].length);break}case"deleteWordForward":{const E=b.substring(m).match(/^[^\w]*\w*/);E&&(w+=E[0].length);break}case"deleteContentBackward":m===v&&(S-=1);break;case"deleteContentForward":m===v&&(w+=1);break}p.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:y||"",willCommit:!1,selStart:S,selEnd:w}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class sZ extends Hl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class iZ extends Hl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(r,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Dl.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=Vm,i.addEventListener("change",a=>{const{name:l,checked:c}=a.target;for(const u of this._getElementsByName(l,r)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:c})}),i.addEventListener("resetform",a=>{const l=t.defaultFieldValue||"Off";a.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",a=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class YO extends Hl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(r,{value:s})),s)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(Dl.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=Vm,i.addEventListener("change",a=>{const{name:l,checked:c}=a.target;for(const u of this._getElementsByName(l,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:c})}),i.addEventListener("resetform",a=>{const l=t.defaultFieldValue;a.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;i.addEventListener("updatefromsandbox",l=>{const c={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class aZ extends GO{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class oZ extends Hl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Dl.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Vm;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),i=!1),s.append(h)}let a=null;if(i){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),s.prepend(d),a=()=>{d.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const l=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,y=>y.selected).map(y=>y[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=l(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",d=>{const h={value(f){a==null||a();const p=f.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const x of s.options)x.selected=y.has(x.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,y=f.detail.remove;p[y].selected=!1,s.remove(y),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(f){const{index:p,displayValue:y,exportValue:x}=f.detail.insert,b=s.children[p],m=document.createElement("option");m.textContent=y,m.value=x,b?b.before(m):s.append(m),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const y of p){const{displayValue:x,exportValue:b}=y,m=document.createElement("option");m.textContent=x,m.value=b,s.append(m)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},indices(f){const p=new Set(f.detail.indices);for(const y of f.target.options)y.selected=p.has(y.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),s.addEventListener("input",d=>{var p;const h=l(!0),f=l(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):s.addEventListener("input",function(d){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Y2 extends xt{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:xt._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new lZ({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${PA}${r}`).join(",")),this.container}}var wu,fv,pv,Su,Ko,dt,Ws,Nu,Np,Ap,Au,Gs,Pr,Ks,jp,Xs,Ep,Xo,Yo,ju,o0,_p,Q2,mv,QO,gv,JO,yv,ZO,vv,e6,Eu,l0,_u,c0,kp,J2;class lZ{constructor({container:e,color:t,elements:r,titleObj:s,modificationDate:i,contentsObj:a,richText:l,parent:c,rect:u,parentRect:d,open:h}){O(this,ju);O(this,_p);O(this,mv);O(this,gv);O(this,yv);O(this,vv);O(this,Eu);O(this,_u);O(this,kp);O(this,wu,F(this,yv,ZO).bind(this));O(this,fv,F(this,kp,J2).bind(this));O(this,pv,F(this,_u,c0).bind(this));O(this,Su,F(this,Eu,l0).bind(this));O(this,Ko,null);O(this,dt,null);O(this,Ws,null);O(this,Nu,null);O(this,Np,null);O(this,Ap,null);O(this,Au,null);O(this,Gs,!1);O(this,Pr,null);O(this,Ks,null);O(this,jp,null);O(this,Xs,null);O(this,Ep,null);O(this,Xo,null);O(this,Yo,!1);var f;I(this,dt,e),I(this,Ep,s),I(this,Ws,a),I(this,Xs,l),I(this,Ap,c),I(this,Ko,t),I(this,jp,u),I(this,Au,d),I(this,Np,r),I(this,Nu,RA.toDateObject(i)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",g(this,Su)),p.addEventListener("mouseenter",g(this,pv)),p.addEventListener("mouseleave",g(this,fv)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",g(this,wu));g(this,dt).hidden=!0,h&&F(this,Eu,l0).call(this)}render(){if(g(this,Pr))return;const e=I(this,Pr,document.createElement("div"));if(e.className="popup",g(this,Ko)){const i=e.style.outlineColor=he.makeHexColor(...g(this,Ko));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`:e.style.backgroundColor=he.makeHexColor(...g(this,Ko).map(l=>Math.floor(.7*(255-l)+l)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=g(this,Ep),e.append(t),g(this,Nu)){const i=document.createElement("span");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,Nu).valueOf()})),t.append(i)}const s=g(this,ju,o0);if(s)WO.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(g(this,Ws));e.append(i)}g(this,dt).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let i=0,a=s.length;i<a;++i){const l=s[i];r.append(document.createTextNode(l)),i<a-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;g(this,Xo)||I(this,Xo,{contentsObj:g(this,Ws),richText:g(this,Xs)}),e&&I(this,Ks,null),t&&(I(this,Xs,F(this,gv,JO).call(this,t)),I(this,Ws,null)),(r=g(this,Pr))==null||r.remove(),I(this,Pr,null)}resetEdited(){var e;g(this,Xo)&&({contentsObj:fn(this,Ws)._,richText:fn(this,Xs)._}=g(this,Xo),I(this,Xo,null),(e=g(this,Pr))==null||e.remove(),I(this,Pr,null),I(this,Ks,null))}forceHide(){I(this,Yo,this.isVisible),g(this,Yo)&&(g(this,dt).hidden=!0)}maybeShow(){g(this,Yo)&&(g(this,Pr)||F(this,_u,c0).call(this),I(this,Yo,!1),g(this,dt).hidden=!1)}get isVisible(){return g(this,dt).hidden===!1}}wu=new WeakMap,fv=new WeakMap,pv=new WeakMap,Su=new WeakMap,Ko=new WeakMap,dt=new WeakMap,Ws=new WeakMap,Nu=new WeakMap,Np=new WeakMap,Ap=new WeakMap,Au=new WeakMap,Gs=new WeakMap,Pr=new WeakMap,Ks=new WeakMap,jp=new WeakMap,Xs=new WeakMap,Ep=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,ju=new WeakSet,o0=function(){const e=g(this,Xs),t=g(this,Ws);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&g(this,Xs).html||null},_p=new WeakSet,Q2=function(){var e,t,r;return((r=(t=(e=g(this,ju,o0))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},mv=new WeakSet,QO=function(){var e,t,r;return((r=(t=(e=g(this,ju,o0))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},gv=new WeakSet,JO=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:g(this,mv,QO),fontSize:g(this,_p,Q2)?`calc(${g(this,_p,Q2)}px * var(--scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:s});return r},yv=new WeakSet,ZO=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,Gs))&&F(this,Eu,l0).call(this)},vv=new WeakSet,e6=function(){if(g(this,Ks)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:s,pageY:i}}}=g(this,Ap);let a=!!g(this,Au),l=a?g(this,Au):g(this,jp);for(const y of g(this,Np))if(!l||he.intersect(y.data.rect,l)!==null){l=y.data.rect,a=!0;break}const c=he.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),u=5,d=a?l[2]-l[0]+u:0,h=c[0]+d,f=c[1];I(this,Ks,[100*(h-s)/t,100*(f-i)/r]);const{style:p}=g(this,dt);p.left=`${g(this,Ks)[0]}%`,p.top=`${g(this,Ks)[1]}%`},Eu=new WeakSet,l0=function(){I(this,Gs,!g(this,Gs)),g(this,Gs)?(F(this,_u,c0).call(this),g(this,dt).addEventListener("click",g(this,Su)),g(this,dt).addEventListener("keydown",g(this,wu))):(F(this,kp,J2).call(this),g(this,dt).removeEventListener("click",g(this,Su)),g(this,dt).removeEventListener("keydown",g(this,wu)))},_u=new WeakSet,c0=function(){g(this,Pr)||this.render(),this.isVisible?g(this,Gs)&&g(this,dt).classList.add("focused"):(F(this,vv,e6).call(this),g(this,dt).hidden=!1,g(this,dt).style.zIndex=parseInt(g(this,dt).style.zIndex)+1e3)},kp=new WeakSet,J2=function(){g(this,dt).classList.remove("focused"),!(g(this,Gs)||!this.isVisible)&&(g(this,dt).hidden=!0,g(this,dt).style.zIndex=parseInt(g(this,dt).style.zIndex)-1e3)};class t6 extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Se.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Tp;class cZ extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});O(this,Tp,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:s}=gi(t.rect),i=this.svgFactory.create(r,s,!0),a=I(this,Tp,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Tp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tp=new WeakMap;var Cp;class uZ extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});O(this,Cp,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:s}=gi(t.rect),i=this.svgFactory.create(r,s,!0),a=t.borderStyle.width,l=I(this,Cp,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",r-a),l.setAttribute("height",s-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Cp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cp=new WeakMap;var Pp;class dZ extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});O(this,Pp,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:s}=gi(t.rect),i=this.svgFactory.create(r,s,!0),a=t.borderStyle.width,l=I(this,Pp,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",r/2),l.setAttribute("cy",s/2),l.setAttribute("rx",r/2-a/2),l.setAttribute("ry",s/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Pp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pp=new WeakMap;var Op;class n6 extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});O(this,Op,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:s,popupRef:i}}=this;if(!r)return this.container;const{width:a,height:l}=gi(t),c=this.svgFactory.create(a,l,!0);let u=[];for(let h=0,f=r.length;h<f;h+=2){const p=r[h]-t[0],y=t[3]-r[h+1];u.push(`${p},${y}`)}u=u.join(" ");const d=I(this,Op,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Op)}addHighlightArea(){this.container.classList.add("highlightArea")}}Op=new WeakMap;class hZ extends n6{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class fZ extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Lp;class UA extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});O(this,Lp,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Se.HIGHLIGHT:Se.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:s,popupRef:i}}=this,{width:a,height:l}=gi(t),c=this.svgFactory.create(a,l,!0);for(const u of r){let d=[];for(let f=0,p=u.length;f<p;f+=2){const y=u[f]-t[0],x=t[3]-u[f+1];d.push(`${y},${x}`)}d=d.join(" ");const h=this.svgFactory.createElement(this.svgElementName);g(this,Lp).push(h),h.setAttribute("points",d),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,Lp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lp=new WeakMap;class r6 extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Se.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class pZ extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class mZ extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class gZ extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class s6 extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Se.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Rp,Mp,Z2;class yZ extends xt{constructor(t){var s;super(t,{isRenderable:!0});O(this,Mp);O(this,Rp,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let s;r.hasAppearance||r.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),s.addEventListener("dblclick",F(this,Mp,Z2).bind(this)),I(this,Rp,s);const{isMac:i}=bn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&F(this,Mp,Z2).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return g(this,Rp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rp=new WeakMap,Mp=new WeakSet,Z2=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Dp,Qo,Jo,Ip,xv,i6,Fp,eS,Nk;let vZ=(Nk=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:s,page:i,viewport:a,structTreeLayer:l}){O(this,xv);O(this,Fp);O(this,Dp,null);O(this,Qo,null);O(this,Jo,new Map);O(this,Ip,null);this.div=e,I(this,Dp,t),I(this,Qo,r),I(this,Ip,l||null),this.page=i,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return g(this,Jo).size>0}async render(e){var a;const{annotations:t}=e,r=this.div;Rl(r,this.viewport);const s=new Map,i={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new zA,annotationStorage:e.annotationStorage||new DA,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===At.POPUP;if(c){const h=s.get(l.id);if(!h)continue;i.elements=h}else{const{width:h,height:f}=gi(l.rect);if(h<=0||f<=0)continue}i.data=l;const u=tZ.create(i);if(!u.isRenderable)continue;if(!c&&l.popupRef){const h=s.get(l.popupRef);h?h.push(u):s.set(l.popupRef,[u])}const d=u.render();l.hidden&&(d.style.visibility="hidden"),await F(this,xv,i6).call(this,d,l.id),u._isEditable&&(g(this,Jo).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}F(this,Fp,eS).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Rl(t,{rotation:e.rotation}),F(this,Fp,eS).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(g(this,Jo).values())}getEditableAnnotation(e){return g(this,Jo).get(e)}},Dp=new WeakMap,Qo=new WeakMap,Jo=new WeakMap,Ip=new WeakMap,xv=new WeakSet,i6=async function(e,t){var a,l;const r=e.firstChild||e,s=r.id=`${PA}${t}`,i=await((a=g(this,Ip))==null?void 0:a.getAriaAttributes(s));if(i)for(const[c,u]of i)r.setAttribute(c,u);this.div.append(e),(l=g(this,Dp))==null||l.moveElementInDOM(this.div,e,r,!1)},Fp=new WeakSet,eS=function(){if(!g(this,Qo))return;const e=this.div;for(const[t,r]of g(this,Qo)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:i}=s;i?i.nodeName==="CANVAS"?i.replaceWith(r):i.classList.contains("annotationContent")?i.after(r):i.before(r):s.append(r)}g(this,Qo).clear()},Nk);const wg=/\r\n?|\n/g;var Or,Fn,Bp,Zo,Bn,bv,a6,wv,o6,Sv,l6,ku,u0,Tu,d0,Cu,h0,Nv,c6,$p,nS,Av,u6;const Ve=class Ve extends Be{constructor(t){super({...t,name:"freeTextEditor"});O(this,bv);O(this,wv);O(this,Sv);O(this,ku);O(this,Cu);O(this,Nv);O(this,Av);O(this,Or,void 0);O(this,Fn,"");O(this,Bp,`${this.id}-editor`);O(this,Zo,null);O(this,Bn,void 0);I(this,Or,t.color||Ve._defaultColor||Be._defaultLineColor),I(this,Bn,t.fontSize||Ve._defaultFontSize)}static get _keyboardManager(){const t=Ve.prototype,r=a=>a.isEmpty(),s=Ml.TRANSLATE_SMALL,i=Ml.TRANSLATE_BIG;return Ce(this,"_keyboardManager",new Um([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}]]))}static initialize(t,r){Be.initialize(t,r);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case xe.FREETEXT_SIZE:Ve._defaultFontSize=r;break;case xe.FREETEXT_COLOR:Ve._defaultColor=r;break}}updateParams(t,r){switch(t){case xe.FREETEXT_SIZE:F(this,bv,a6).call(this,r);break;case xe.FREETEXT_COLOR:F(this,wv,o6).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[xe.FREETEXT_SIZE,Ve._defaultFontSize],[xe.FREETEXT_COLOR,Ve._defaultColor||Be._defaultLineColor]]}get propertiesToUpdate(){return[[xe.FREETEXT_SIZE,g(this,Bn)],[xe.FREETEXT_COLOR,g(this,Or)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ve._internalPadding*t,-(Ve._internalPadding+g(this,Bn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Se.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),I(this,Zo,new AbortController);const t=this._uiManager.combinedSignal(g(this,Zo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,Bp)),this._isDraggable=!0,(t=g(this,Zo))==null||t.abort(),I(this,Zo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=g(this,Fn),r=I(this,Fn,F(this,Sv,l6).call(this).trimEnd());if(t===r)return;const s=i=>{if(I(this,Fn,i),!i){this.remove();return}F(this,Cu,h0).call(this),this._uiManager.rebuild(this),F(this,ku,u0).call(this)};this.addCommands({cmd:()=>{s(r)},undo:()=>{s(t)},mustExec:!1}),F(this,ku,u0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ve._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,Bp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${g(this,Bn)}px * var(--scale-factor))`,s.color=g(this,Or),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),yy(this,this.div,["dblclick","keydown"]),this.width){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let y,x;switch(this.rotation){case 0:y=t+(l[0]-f)/d,x=r+this.height-(l[1]-p)/h;break;case 90:y=t+(l[0]-f)/d,x=r-(l[1]-p)/h,[c,u]=[u,-c];break;case 180:y=t-this.width+(l[0]-f)/d,x=r-(l[1]-p)/h,[c,u]=[-c,-u];break;case 270:y=t+(l[0]-f-this.height*h)/d,x=r+(l[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(y*i,x*a,c,u)}else this.setAt(t*i,r*a,this.width*i,this.height*a);F(this,Cu,h0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,x,b;const r=t.clipboardData||window.clipboardData,{types:s}=r;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const i=F(y=Ve,$p,nS).call(y,r.getData("text")||"").replaceAll(wg,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!i.includes(`
`)){l.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:u}=l,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const m=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(wg,"")),m!==this.editorDiv){let v=d;for(const S of this.editorDiv.childNodes){if(S===m){v=h;continue}v.push(F(x=Ve,Tu,d0).call(x,S))}}d.push(c.nodeValue.slice(0,u).replaceAll(wg,""))}else if(c===this.editorDiv){let m=d,v=0;for(const S of this.editorDiv.childNodes)v++===u&&(m=h),m.push(F(b=Ve,Tu,d0).call(b,S))}I(this,Fn,`${d.join(`
`)}${i}${h.join(`
`)}`),F(this,Cu,h0).call(this);const f=new Range;let p=d.reduce((m,v)=>m+v.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const v=m.nodeValue.length;if(p<=v){f.setStart(m,p),f.setEnd(m,p);break}p-=v}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,s){var l;let i=null;if(t instanceof t6){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p},textContent:y,textPosition:x,parent:{page:{pageNumber:b}}}=t;if(!y||y.length===0)return null;i=t={annotationType:Se.FREETEXT,color:Array.from(u),fontSize:c,value:y.join(`
`),position:x,pageIndex:b-1,rect:d.slice(0),rotation:h,id:f,deleted:!1,popupRef:p}}const a=await super.deserialize(t,r,s);return I(a,Bn,t.fontSize),I(a,Or,he.makeHexColor(...t.color)),I(a,Fn,F(l=Ve,$p,nS).call(l,t.value)),a.annotationElementId=t.id||null,a._initialData=i,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Ve._internalPadding*this.parentScale,s=this.getRect(r,r),i=Be._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,Or)),a={annotationType:Se.FREETEXT,color:i,fontSize:g(this,Bn),value:F(this,Nv,c6).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!F(this,Av,u6).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:s}=r;s.fontSize=`calc(${g(this,Bn)}px * var(--scale-factor))`,s.color=g(this,Or),r.replaceChildren();for(const a of g(this,Fn).split(`
`)){const l=document.createElement("div");l.append(a?document.createTextNode(a):document.createElement("br")),r.append(l)}const i=Ve._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:g(this,Fn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Or=new WeakMap,Fn=new WeakMap,Bp=new WeakMap,Zo=new WeakMap,Bn=new WeakMap,bv=new WeakSet,a6=function(t){const r=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-g(this,Bn))*this.parentScale),I(this,Bn,i),F(this,ku,u0).call(this)},s=g(this,Bn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},wv=new WeakSet,o6=function(t){const r=i=>{I(this,Or,this.editorDiv.style.color=i)},s=g(this,Or);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Sv=new WeakSet,l6=function(){var s;const t=[];this.editorDiv.normalize();let r=null;for(const i of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(F(s=Ve,Tu,d0).call(s,i)),r=i);return t.join(`
`)},ku=new WeakSet,u0=function(){const[t,r]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,l=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/r):(this.width=s.height/t,this.height=s.width/r),this.fixAndSetPosition()},Tu=new WeakSet,d0=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(wg,"")},Cu=new WeakSet,h0=function(){if(this.editorDiv.replaceChildren(),!!g(this,Fn))for(const t of g(this,Fn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},Nv=new WeakSet,c6=function(){return g(this,Fn).replaceAll(""," ")},$p=new WeakSet,nS=function(t){return t.replaceAll(" ","")},Av=new WeakSet,u6=function(t){const{value:r,fontSize:s,color:i,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==s||t.color.some((l,c)=>l!==i[c])||t.pageIndex!==a},O(Ve,Tu),O(Ve,$p),me(Ve,"_freeTextDefaultContent",""),me(Ve,"_internalPadding",0),me(Ve,"_defaultColor",null),me(Ve,"_defaultFontSize",10),me(Ve,"_type","freetext"),me(Ve,"_editorType",Se.FREETEXT);let tS=Ve;class d6{toSVGPath(){Ye("Abstract method `toSVGPath` must be implemented.")}get box(){Ye("Abstract getter `box` must be implemented.")}serialize(e,t){Ye("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Ye("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Ye("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var $n,Lr,Pu,Ou,hs,ke,el,tl,zp,Up,Lu,Ru,oa,Vp,jv,Ev,nl,xh,_v,h6,kv,f6,Tv,p6,Cv,m6,Pv,g6,Ov,y6;const Ls=class Ls{constructor({x:e,y:t},r,s,i,a,l=0){O(this,nl);O(this,_v);O(this,kv);O(this,Tv);O(this,Cv);O(this,Pv);O(this,Ov);O(this,$n,void 0);O(this,Lr,[]);O(this,Pu,void 0);O(this,Ou,void 0);O(this,hs,[]);O(this,ke,new Float64Array(18));O(this,el,void 0);O(this,tl,void 0);O(this,zp,void 0);O(this,Up,void 0);O(this,Lu,void 0);O(this,Ru,void 0);O(this,oa,[]);I(this,$n,r),I(this,Ru,i*s),I(this,Ou,a),g(this,ke).set([NaN,NaN,NaN,NaN,e,t],6),I(this,Pu,l),I(this,Up,g(Ls,Vp)*s),I(this,zp,g(Ls,Ev)*s),I(this,Lu,s),g(this,oa).push(e,t)}isEmpty(){return isNaN(g(this,ke)[8])}add({x:e,y:t}){var C;I(this,el,e),I(this,tl,t);const[r,s,i,a]=g(this,$n);let[l,c,u,d]=g(this,ke).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<g(this,zp))return!1;const y=p-g(this,Up),x=y/p,b=x*h,m=x*f;let v=l,S=c;l=u,c=d,u+=b,d+=m,(C=g(this,oa))==null||C.push(e,t);const w=-m/y,N=b/y,E=w*g(this,Ru),_=N*g(this,Ru);return g(this,ke).set(g(this,ke).subarray(2,8),0),g(this,ke).set([u+E,d+_],4),g(this,ke).set(g(this,ke).subarray(14,18),12),g(this,ke).set([u-E,d-_],16),isNaN(g(this,ke)[6])?(g(this,hs).length===0&&(g(this,ke).set([l+E,c+_],2),g(this,hs).push(NaN,NaN,NaN,NaN,(l+E-r)/i,(c+_-s)/a),g(this,ke).set([l-E,c-_],14),g(this,Lr).push(NaN,NaN,NaN,NaN,(l-E-r)/i,(c-_-s)/a)),g(this,ke).set([v,S,l,c,u,d],6),!this.isEmpty()):(g(this,ke).set([v,S,l,c,u,d],6),Math.abs(Math.atan2(S-c,v-l)-Math.atan2(m,b))<Math.PI/2?([l,c,u,d]=g(this,ke).subarray(2,6),g(this,hs).push(NaN,NaN,NaN,NaN,((l+u)/2-r)/i,((c+d)/2-s)/a),[l,c,v,S]=g(this,ke).subarray(14,18),g(this,Lr).push(NaN,NaN,NaN,NaN,((v+l)/2-r)/i,((S+c)/2-s)/a),!0):([v,S,l,c,u,d]=g(this,ke).subarray(0,6),g(this,hs).push(((v+5*l)/6-r)/i,((S+5*c)/6-s)/a,((5*l+u)/6-r)/i,((5*c+d)/6-s)/a,((l+u)/2-r)/i,((c+d)/2-s)/a),[u,d,l,c,v,S]=g(this,ke).subarray(12,18),g(this,Lr).push(((v+5*l)/6-r)/i,((S+5*c)/6-s)/a,((5*l+u)/6-r)/i,((5*c+d)/6-s)/a,((l+u)/2-r)/i,((c+d)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,hs),t=g(this,Lr);if(isNaN(g(this,ke)[6])&&!this.isEmpty())return F(this,_v,h6).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?r.push(`L${e[s+4]} ${e[s+5]}`):r.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);F(this,Tv,p6).call(this,r);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?r.push(`L${t[s+4]} ${t[s+5]}`):r.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return F(this,kv,f6).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,s,i,a){return new v6(e,t,r,s,i,a)}getOutlines(){var h;const e=g(this,hs),t=g(this,Lr),r=g(this,ke),[s,i,a,l]=g(this,$n),c=new Float64Array((((h=g(this,oa))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(g(this,oa)[f]-s)/a,c[f+1]=(g(this,oa)[f+1]-i)/l;if(c[c.length-2]=(g(this,el)-s)/a,c[c.length-1]=(g(this,tl)-i)/l,isNaN(r[6])&&!this.isEmpty())return F(this,Cv,m6).call(this,c);const u=new Float64Array(g(this,hs).length+24+g(this,Lr).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=F(this,Ov,y6).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return F(this,Pv,g6).call(this,u,d),this.newFreeDrawOutline(u,c,g(this,$n),g(this,Lu),g(this,Pu),g(this,Ou))}};$n=new WeakMap,Lr=new WeakMap,Pu=new WeakMap,Ou=new WeakMap,hs=new WeakMap,ke=new WeakMap,el=new WeakMap,tl=new WeakMap,zp=new WeakMap,Up=new WeakMap,Lu=new WeakMap,Ru=new WeakMap,oa=new WeakMap,Vp=new WeakMap,jv=new WeakMap,Ev=new WeakMap,nl=new WeakSet,xh=function(){const e=g(this,ke).subarray(4,6),t=g(this,ke).subarray(16,18),[r,s,i,a]=g(this,$n);return[(g(this,el)+(e[0]-t[0])/2-r)/i,(g(this,tl)+(e[1]-t[1])/2-s)/a,(g(this,el)+(t[0]-e[0])/2-r)/i,(g(this,tl)+(t[1]-e[1])/2-s)/a]},_v=new WeakSet,h6=function(){const[e,t,r,s]=g(this,$n),[i,a,l,c]=F(this,nl,xh).call(this);return`M${(g(this,ke)[2]-e)/r} ${(g(this,ke)[3]-t)/s} L${(g(this,ke)[4]-e)/r} ${(g(this,ke)[5]-t)/s} L${i} ${a} L${l} ${c} L${(g(this,ke)[16]-e)/r} ${(g(this,ke)[17]-t)/s} L${(g(this,ke)[14]-e)/r} ${(g(this,ke)[15]-t)/s} Z`},kv=new WeakSet,f6=function(e){const t=g(this,Lr);e.push(`L${t[4]} ${t[5]} Z`)},Tv=new WeakSet,p6=function(e){const[t,r,s,i]=g(this,$n),a=g(this,ke).subarray(4,6),l=g(this,ke).subarray(16,18),[c,u,d,h]=F(this,nl,xh).call(this);e.push(`L${(a[0]-t)/s} ${(a[1]-r)/i} L${c} ${u} L${d} ${h} L${(l[0]-t)/s} ${(l[1]-r)/i}`)},Cv=new WeakSet,m6=function(e){const t=g(this,ke),[r,s,i,a]=g(this,$n),[l,c,u,d]=F(this,nl,xh).call(this),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/i,(t[3]-s)/a,NaN,NaN,NaN,NaN,(t[4]-r)/i,(t[5]-s)/a,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-r)/i,(t[17]-s)/a,NaN,NaN,NaN,NaN,(t[14]-r)/i,(t[15]-s)/a],0),this.newFreeDrawOutline(h,e,g(this,$n),g(this,Lu),g(this,Pu),g(this,Ou))},Pv=new WeakSet,g6=function(e,t){const r=g(this,Lr);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},Ov=new WeakSet,y6=function(e,t){const r=g(this,ke).subarray(4,6),s=g(this,ke).subarray(16,18),[i,a,l,c]=g(this,$n),[u,d,h,f]=F(this,nl,xh).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-i)/l,(r[1]-a)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(s[0]-i)/l,(s[1]-a)/c],t),t+=24},O(Ls,Vp,8),O(Ls,jv,2),O(Ls,Ev,g(Ls,Vp)+g(Ls,jv));let xy=Ls;var Mu,rl,Ys,Hp,zn,qp,mt,sl,bh,il,wh,Lv,x6;class v6 extends d6{constructor(t,r,s,i,a,l){super();O(this,sl);O(this,il);O(this,Lv);O(this,Mu,void 0);O(this,rl,null);O(this,Ys,void 0);O(this,Hp,void 0);O(this,zn,void 0);O(this,qp,void 0);O(this,mt,void 0);I(this,mt,t),I(this,zn,r),I(this,Mu,s),I(this,qp,i),I(this,Ys,a),I(this,Hp,l),F(this,Lv,x6).call(this,l);const{x:c,y:u,width:d,height:h}=g(this,rl);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-c)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-c)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const t=[`M${g(this,mt)[4]} ${g(this,mt)[5]}`];for(let r=6,s=g(this,mt).length;r<s;r+=6){if(isNaN(g(this,mt)[r])){t.push(`L${g(this,mt)[r+4]} ${g(this,mt)[r+5]}`);continue}t.push(`C${g(this,mt)[r]} ${g(this,mt)[r+1]} ${g(this,mt)[r+2]} ${g(this,mt)[r+3]} ${g(this,mt)[r+4]} ${g(this,mt)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,s,i],a){const l=s-t,c=i-r;let u,d;switch(a){case 0:u=F(this,sl,bh).call(this,g(this,mt),t,i,l,-c),d=F(this,sl,bh).call(this,g(this,zn),t,i,l,-c);break;case 90:u=F(this,il,wh).call(this,g(this,mt),t,r,l,c),d=F(this,il,wh).call(this,g(this,zn),t,r,l,c);break;case 180:u=F(this,sl,bh).call(this,g(this,mt),s,r,-l,c),d=F(this,sl,bh).call(this,g(this,zn),s,r,-l,c);break;case 270:u=F(this,il,wh).call(this,g(this,mt),s,i,-l,-c),d=F(this,il,wh).call(this,g(this,zn),s,i,-l,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return g(this,rl)}newOutliner(t,r,s,i,a,l=0){return new xy(t,r,s,i,a,l)}getNewOutline(t,r){const{x:s,y:i,width:a,height:l}=g(this,rl),[c,u,d,h]=g(this,Mu),f=a*d,p=l*h,y=s*d+c,x=i*h+u,b=this.newOutliner({x:g(this,zn)[0]*f+y,y:g(this,zn)[1]*p+x},g(this,Mu),g(this,qp),t,g(this,Hp),r??g(this,Ys));for(let m=2;m<g(this,zn).length;m+=2)b.add({x:g(this,zn)[m]*f+y,y:g(this,zn)[m+1]*p+x});return b.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Mu=new WeakMap,rl=new WeakMap,Ys=new WeakMap,Hp=new WeakMap,zn=new WeakMap,qp=new WeakMap,mt=new WeakMap,sl=new WeakSet,bh=function(t,r,s,i,a){const l=new Float64Array(t.length);for(let c=0,u=t.length;c<u;c+=2)l[c]=r+t[c]*i,l[c+1]=s+t[c+1]*a;return l},il=new WeakSet,wh=function(t,r,s,i,a){const l=new Float64Array(t.length);for(let c=0,u=t.length;c<u;c+=2)l[c]=r+t[c+1]*i,l[c+1]=s+t[c]*a;return l},Lv=new WeakSet,x6=function(t){const r=g(this,mt);let s=r[4],i=r[5],a=s,l=i,c=s,u=i,d=s,h=i;const f=t?Math.max:Math.min;for(let m=6,v=r.length;m<v;m+=6){if(isNaN(r[m]))a=Math.min(a,r[m+4]),l=Math.min(l,r[m+5]),c=Math.max(c,r[m+4]),u=Math.max(u,r[m+5]),h<r[m+5]?(d=r[m+4],h=r[m+5]):h===r[m+5]&&(d=f(d,r[m+4]));else{const S=he.bezierBoundingBox(s,i,...r.slice(m,m+6));a=Math.min(a,S[0]),l=Math.min(l,S[1]),c=Math.max(c,S[2]),u=Math.max(u,S[3]),h<S[3]?(d=S[2],h=S[3]):h===S[3]&&(d=f(d,S[2]))}s=r[m+4],i=r[m+5]}const p=a-g(this,Ys),y=l-g(this,Ys),x=c-a+2*g(this,Ys),b=u-l+2*g(this,Ys);I(this,rl,{x:p,y,width:x,height:b,lastPoint:[d,h]})};var Wp,la,Rr,Rv,b6,Du,f0,Mv,w6,Dv,S6,Gp,rS;class dk{constructor(e,t=0,r=0,s=!0){O(this,Rv);O(this,Du);O(this,Mv);O(this,Dv);O(this,Gp);O(this,Wp,void 0);O(this,la,[]);O(this,Rr,[]);let i=1/0,a=-1/0,l=1/0,c=-1/0;const d=10**-4;for(const{x:m,y:v,width:S,height:w}of e){const N=Math.floor((m-t)/d)*d,E=Math.ceil((m+S+t)/d)*d,_=Math.floor((v-t)/d)*d,A=Math.ceil((v+w+t)/d)*d,C=[N,_,A,!0],j=[E,_,A,!1];g(this,la).push(C,j),i=Math.min(i,N),a=Math.max(a,E),l=Math.min(l,_),c=Math.max(c,A)}const h=a-i+2*r,f=c-l+2*r,p=i-r,y=l-r,x=g(this,la).at(s?-1:-2),b=[x[0],x[2]];for(const m of g(this,la)){const[v,S,w]=m;m[0]=(v-p)/h,m[1]=(S-y)/f,m[2]=(w-y)/f}I(this,Wp,{x:p,y,width:h,height:f,lastPoint:b})}getOutlines(){g(this,la).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of g(this,la))t[3]?(e.push(...F(this,Gp,rS).call(this,t)),F(this,Mv,w6).call(this,t)):(F(this,Dv,S6).call(this,t),e.push(...F(this,Gp,rS).call(this,t)));return F(this,Rv,b6).call(this,e)}}Wp=new WeakMap,la=new WeakMap,Rr=new WeakMap,Rv=new WeakSet,b6=function(e){const t=[],r=new Set;for(const a of e){const[l,c,u]=a;t.push([l,c,a],[l,u,a])}t.sort((a,l)=>a[1]-l[1]||a[0]-l[0]);for(let a=0,l=t.length;a<l;a+=2){const c=t[a][2],u=t[a+1][2];c.push(u),u.push(c),r.add(c),r.add(u)}const s=[];let i;for(;r.size>0;){const a=r.values().next().value;let[l,c,u,d,h]=a;r.delete(a);let f=l,p=c;for(i=[l,u],s.push(i);;){let y;if(r.has(d))y=d;else if(r.has(h))y=h;else break;r.delete(y),[l,c,u,d,h]=y,f!==l&&(i.push(f,p,l,p===c?c:u),f=l),p=p===c?u:c}i.push(f,p)}return new xZ(s,g(this,Wp))},Du=new WeakSet,f0=function(e){const t=g(this,Rr);let r=0,s=t.length-1;for(;r<=s;){const i=r+s>>1,a=t[i][0];if(a===e)return i;a<e?r=i+1:s=i-1}return s+1},Mv=new WeakSet,w6=function([,e,t]){const r=F(this,Du,f0).call(this,e);g(this,Rr).splice(r,0,[e,t])},Dv=new WeakSet,S6=function([,e,t]){const r=F(this,Du,f0).call(this,e);for(let s=r;s<g(this,Rr).length;s++){const[i,a]=g(this,Rr)[s];if(i!==e)break;if(i===e&&a===t){g(this,Rr).splice(s,1);return}}for(let s=r-1;s>=0;s--){const[i,a]=g(this,Rr)[s];if(i!==e)break;if(i===e&&a===t){g(this,Rr).splice(s,1);return}}},Gp=new WeakSet,rS=function(e){const[t,r,s]=e,i=[[t,r,s]],a=F(this,Du,f0).call(this,s);for(let l=0;l<a;l++){const[c,u]=g(this,Rr)[l];for(let d=0,h=i.length;d<h;d++){const[,f,p]=i[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)i[d][1]=u;else{if(h===1)return[];i.splice(d,1),d--,h--}continue}i[d][2]=c,p>u&&i.push([t,u,p])}}}return i};var Kp,Iu;class xZ extends d6{constructor(t,r){super();O(this,Kp,void 0);O(this,Iu,void 0);I(this,Iu,t),I(this,Kp,r)}toSVGPath(){const t=[];for(const r of g(this,Iu)){let[s,i]=r;t.push(`M${s} ${i}`);for(let a=2;a<r.length;a+=2){const l=r[a],c=r[a+1];l===s?(t.push(`V${c}`),i=c):c===i&&(t.push(`H${l}`),s=l)}t.push("Z")}return t.join(" ")}serialize([t,r,s,i],a){const l=[],c=s-t,u=i-r;for(const d of g(this,Iu)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*c,h[f+1]=i-d[f+1]*u;l.push(h)}return l}get box(){return g(this,Kp)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Kp=new WeakMap,Iu=new WeakMap;class sS extends xy{newFreeDrawOutline(e,t,r,s,i,a){return new bZ(e,t,r,s,i,a)}get classNamesForDrawing(){return["highlight","free"]}}class bZ extends v6{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,r,s,i,a=0){return new sS(e,t,r,s,i,a)}}var Mr,al,Fu,Et,Xp,Bu,Yp,Qp,ca,Dr,$u,Jp,Zp,iS,em,aS,tm,oS,Qs,Za,Iv,N6,fs,Pi;const jn=class jn{constructor({editor:e=null,uiManager:t=null}){O(this,Zp);O(this,em);O(this,tm);O(this,Qs);O(this,Iv);O(this,fs);O(this,Mr,null);O(this,al,null);O(this,Fu,void 0);O(this,Et,null);O(this,Xp,!1);O(this,Bu,!1);O(this,Yp,null);O(this,Qp,void 0);O(this,ca,null);O(this,Dr,null);O(this,$u,void 0);var r;e?(I(this,Bu,!1),I(this,$u,xe.HIGHLIGHT_COLOR),I(this,Yp,e)):(I(this,Bu,!0),I(this,$u,xe.HIGHLIGHT_DEFAULT_COLOR)),I(this,Dr,(e==null?void 0:e._uiManager)||t),I(this,Qp,g(this,Dr)._eventBus),I(this,Fu,(e==null?void 0:e.color)||((r=g(this,Dr))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),g(jn,Jp)||I(jn,Jp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ce(this,"_keyboardManager",new Um([[["Escape","mac+Escape"],jn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],jn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],jn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],jn.prototype._moveToPrevious],[["Home","mac+Home"],jn.prototype._moveToBeginning],[["End","mac+End"],jn.prototype._moveToEnd]]))}renderButton(){const e=I(this,Mr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=g(this,Dr)._signal;e.addEventListener("click",F(this,Qs,Za).bind(this),{signal:t}),e.addEventListener("keydown",F(this,tm,oS).bind(this),{signal:t});const r=I(this,al,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=g(this,Fu),e.append(r),e}renderMainDropdown(){const e=I(this,Et,F(this,Zp,iS).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===g(this,Mr)){F(this,Qs,Za).call(this,e);return}const t=e.target.getAttribute("data-color");t&&F(this,em,aS).call(this,t,e)}_moveToNext(e){var t,r;if(!g(this,fs,Pi)){F(this,Qs,Za).call(this,e);return}if(e.target===g(this,Mr)){(t=g(this,Et).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=g(this,Et))==null?void 0:t.firstChild)||e.target===g(this,Mr)){g(this,fs,Pi)&&this._hideDropdownFromKeyboard();return}g(this,fs,Pi)||F(this,Qs,Za).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!g(this,fs,Pi)){F(this,Qs,Za).call(this,e);return}(t=g(this,Et).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!g(this,fs,Pi)){F(this,Qs,Za).call(this,e);return}(t=g(this,Et).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=g(this,Et))==null||e.classList.add("hidden"),(t=g(this,ca))==null||t.abort(),I(this,ca,null)}_hideDropdownFromKeyboard(){var e;if(!g(this,Bu)){if(!g(this,fs,Pi)){(e=g(this,Yp))==null||e.unselect();return}this.hideDropdown(),g(this,Mr).focus({preventScroll:!0,focusVisible:g(this,Xp)})}}updateColor(e){if(g(this,al)&&(g(this,al).style.backgroundColor=e),!g(this,Et))return;const t=g(this,Dr).highlightColors.values();for(const r of g(this,Et).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=g(this,Mr))==null||e.remove(),I(this,Mr,null),I(this,al,null),(t=g(this,Et))==null||t.remove(),I(this,Et,null)}};Mr=new WeakMap,al=new WeakMap,Fu=new WeakMap,Et=new WeakMap,Xp=new WeakMap,Bu=new WeakMap,Yp=new WeakMap,Qp=new WeakMap,ca=new WeakMap,Dr=new WeakMap,$u=new WeakMap,Jp=new WeakMap,Zp=new WeakSet,iS=function(){const e=document.createElement("div"),t=g(this,Dr)._signal;e.addEventListener("contextmenu",xr,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,s]of g(this,Dr).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=r,i.setAttribute("data-l10n-id",g(jn,Jp)[r]);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=s,i.setAttribute("aria-selected",s===g(this,Fu)),i.addEventListener("click",F(this,em,aS).bind(this,s),{signal:t}),e.append(i)}return e.addEventListener("keydown",F(this,tm,oS).bind(this),{signal:t}),e},em=new WeakSet,aS=function(e,t){t.stopPropagation(),g(this,Qp).dispatch("switchannotationeditorparams",{source:this,type:g(this,$u),value:e})},tm=new WeakSet,oS=function(e){jn._keyboardManager.exec(this,e)},Qs=new WeakSet,Za=function(e){if(g(this,fs,Pi)){this.hideDropdown();return}if(I(this,Xp,e.detail===0),g(this,ca)||(I(this,ca,new AbortController),window.addEventListener("pointerdown",F(this,Iv,N6).bind(this),{signal:g(this,Dr).combinedSignal(g(this,ca))})),g(this,Et)){g(this,Et).classList.remove("hidden");return}const t=I(this,Et,F(this,Zp,iS).call(this));g(this,Mr).append(t)},Iv=new WeakSet,N6=function(e){var t;(t=g(this,Et))!=null&&t.contains(e.target)||this.hideDropdown()},fs=new WeakSet,Pi=function(){return g(this,Et)&&!g(this,Et).classList.contains("hidden")},O(jn,Jp,null);let by=jn;var zu,nm,Js,ol,Uu,lr,rm,sm,ll,Ir,sn,kn,Vu,Zs,_t,Hu,cr,im,am,lS,qu,p0,Fv,A6,Bv,j6,$v,E6,om,cS,ei,eo,ua,tc,zv,_6,Wu,m0,cl,Sh,Uv,k6,Vv,T6,Hv,C6,qv,P6,Wv,O6;const Le=class Le extends Be{constructor(t){super({...t,name:"highlightEditor"});O(this,am);O(this,qu);O(this,Fv);O(this,Bv);O(this,$v);O(this,om);O(this,ei);O(this,zv);O(this,Wu);O(this,cl);O(this,Uv);O(this,Vv);O(this,Wv);O(this,zu,null);O(this,nm,0);O(this,Js,void 0);O(this,ol,null);O(this,Uu,null);O(this,lr,null);O(this,rm,null);O(this,sm,0);O(this,ll,null);O(this,Ir,null);O(this,sn,null);O(this,kn,!1);O(this,Vu,null);O(this,Zs,void 0);O(this,_t,null);O(this,Hu,"");O(this,cr,void 0);O(this,im,"");this.color=t.color||Le._defaultColor,I(this,cr,t.thickness||Le._defaultThickness),I(this,Zs,t.opacity||Le._defaultOpacity),I(this,Js,t.boxes||null),I(this,im,t.methodOfCreation||""),I(this,Hu,t.text||""),this._isDraggable=!1,t.highlightId>-1?(I(this,kn,!0),F(this,qu,p0).call(this,t),F(this,ei,eo).call(this)):g(this,Js)&&(I(this,zu,t.anchorNode),I(this,nm,t.anchorOffset),I(this,rm,t.focusNode),I(this,sm,t.focusOffset),F(this,am,lS).call(this),F(this,ei,eo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Le.prototype;return Ce(this,"_keyboardManager",new Um([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,kn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,cr),methodOfCreation:g(this,im)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var s;Be.initialize(t,r),Le._defaultColor||(Le._defaultColor=((s=r.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case xe.HIGHLIGHT_DEFAULT_COLOR:Le._defaultColor=r;break;case xe.HIGHLIGHT_THICKNESS:Le._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return g(this,Vu)}updateParams(t,r){switch(t){case xe.HIGHLIGHT_COLOR:F(this,Fv,A6).call(this,r);break;case xe.HIGHLIGHT_THICKNESS:F(this,Bv,j6).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[xe.HIGHLIGHT_DEFAULT_COLOR,Le._defaultColor],[xe.HIGHLIGHT_THICKNESS,Le._defaultThickness]]}get propertiesToUpdate(){return[[xe.HIGHLIGHT_COLOR,this.color||Le._defaultColor],[xe.HIGHLIGHT_THICKNESS,g(this,cr)||Le._defaultThickness],[xe.HIGHLIGHT_FREE,g(this,kn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(I(this,Uu,new by({editor:this})),t.addColorPicker(g(this,Uu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(F(this,cl,Sh).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,F(this,cl,Sh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){F(this,om,cS).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,ei,eo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let r=!1;this.parent&&!t?F(this,om,cS).call(this):t&&(F(this,ei,eo).call(this,t),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var i,a,l;const{drawLayer:r}=this.parent;let s;g(this,kn)?(t=(t-this.rotation+360)%360,s=F(i=Le,ua,tc).call(i,g(this,Ir).box,t)):s=F(a=Le,ua,tc).call(a,this,t),r.rotate(g(this,sn),t),r.rotate(g(this,_t),t),r.updateBox(g(this,sn),s),r.updateBox(g(this,_t),F(l=Le,ua,tc).call(l,g(this,lr).box,t))}render(){if(this.div)return this.div;const t=super.render();g(this,Hu)&&(t.setAttribute("aria-label",g(this,Hu)),t.setAttribute("role","mark")),g(this,kn)?t.classList.add("free"):this.div.addEventListener("keydown",F(this,zv,_6).bind(this),{signal:this._uiManager._signal});const r=I(this,ll,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=g(this,ol);const[s,i]=this.parentDimensions;return this.setDims(this.width*s,this.height*i),yy(this,g(this,ll),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,_t),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,_t),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:F(this,Wu,m0).call(this,!0);break;case 1:case 3:F(this,Wu,m0).call(this,!1);break}}select(){var t,r;super.select(),g(this,_t)&&((t=this.parent)==null||t.drawLayer.removeClass(g(this,_t),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(g(this,_t),"selected"))}unselect(){var t;super.unselect(),g(this,_t)&&((t=this.parent)==null||t.drawLayer.removeClass(g(this,_t),"selected"),g(this,kn)||F(this,Wu,m0).call(this,!1))}get _mustFixPosition(){return!g(this,kn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(g(this,sn),t),this.parent.drawLayer.show(g(this,_t),t))}static startHighlighting(t,r,{target:s,x:i,y:a}){const{x:l,y:c,width:u,height:d}=s.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),p=x=>{x.preventDefault(),x.stopPropagation()},y=x=>{h.abort(),F(this,qv,P6).call(this,t,x)};window.addEventListener("blur",y,{signal:f}),window.addEventListener("pointerup",y,{signal:f}),window.addEventListener("pointerdown",p,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",xr,{signal:f}),s.addEventListener("pointermove",F(this,Hv,C6).bind(this,t),{signal:f}),this._freeHighlight=new sS({x:i,y:a},[l,c,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,r,s){var x,b,m,v;let i=null;if(t instanceof r6){const{data:{quadPoints:S,rect:w,rotation:N,id:E,color:_,opacity:A,popupRef:C},parent:{page:{pageNumber:j}}}=t;i=t={annotationType:Se.HIGHLIGHT,color:Array.from(_),opacity:A,quadPoints:S,boxes:null,pageIndex:j-1,rect:w.slice(0),rotation:N,id:E,deleted:!1,popupRef:C}}else if(t instanceof UA){const{data:{inkLists:S,rect:w,rotation:N,id:E,color:_,borderStyle:{rawWidth:A},popupRef:C},parent:{page:{pageNumber:j}}}=t;i=t={annotationType:Se.HIGHLIGHT,color:Array.from(_),thickness:A,inkLists:S,boxes:null,pageIndex:j-1,rect:w.slice(0),rotation:N,id:E,deleted:!1,popupRef:C}}const{color:a,quadPoints:l,inkLists:c,opacity:u}=t,d=await super.deserialize(t,r,s);d.color=he.makeHexColor(...a),I(d,Zs,u||1),c&&I(d,cr,t.thickness),d.annotationElementId=t.id||null,d._initialData=i;const[h,f]=d.pageDimensions,[p,y]=d.pageTranslation;if(l){const S=I(d,Js,[]);for(let w=0;w<l.length;w+=8)S.push({x:(l[w]-p)/h,y:1-(l[w+1]-y)/f,width:(l[w+2]-l[w])/h,height:(l[w+1]-l[w+5])/f});F(x=d,am,lS).call(x),F(b=d,ei,eo).call(b),d.rotate(d.rotation)}else if(c){I(d,kn,!0);const S=c[0],w={x:S[0]-p,y:f-(S[1]-y)},N=new sS(w,[0,0,h,f],1,g(d,cr)/2,!0,.001);for(let A=0,C=S.length;A<C;A+=2)w.x=S[A]-p,w.y=f-(S[A+1]-y),N.add(w);const{id:E,clipPathId:_}=r.drawLayer.draw(N,d.color,d._defaultOpacity,!0);F(m=d,qu,p0).call(m,{highlightOutlines:N.getOutlines(),highlightId:E,clipPathId:_}),F(v=d,ei,eo).call(v)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),s=Be._colorManager.convert(this.color),i={annotationType:Se.HIGHLIGHT,color:s,opacity:g(this,Zs),thickness:g(this,cr),quadPoints:F(this,Uv,k6).call(this),outlines:F(this,Vv,T6).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:F(this,cl,Sh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!F(this,Wv,O6).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};zu=new WeakMap,nm=new WeakMap,Js=new WeakMap,ol=new WeakMap,Uu=new WeakMap,lr=new WeakMap,rm=new WeakMap,sm=new WeakMap,ll=new WeakMap,Ir=new WeakMap,sn=new WeakMap,kn=new WeakMap,Vu=new WeakMap,Zs=new WeakMap,_t=new WeakMap,Hu=new WeakMap,cr=new WeakMap,im=new WeakMap,am=new WeakSet,lS=function(){const t=new dk(g(this,Js),.001);I(this,Ir,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,Ir).box;const r=new dk(g(this,Js),.0025,.001,this._uiManager.direction==="ltr");I(this,lr,r.getOutlines());const{lastPoint:s}=g(this,lr).box;I(this,Vu,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},qu=new WeakSet,p0=function({highlightOutlines:t,highlightId:r,clipPathId:s}){var h,f;I(this,Ir,t);const i=1.5;if(I(this,lr,t.getNewOutline(g(this,cr)/2+i,.0025)),r>=0)I(this,sn,r),I(this,ol,s),this.parent.drawLayer.finalizeLine(r,t),I(this,_t,this.parent.drawLayer.drawOutline(g(this,lr)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,sn),t),this.parent.drawLayer.updateBox(g(this,sn),F(h=Le,ua,tc).call(h,g(this,Ir).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,_t),g(this,lr)),this.parent.drawLayer.updateBox(g(this,_t),F(f=Le,ua,tc).call(f,g(this,lr).box,p))}const{x:a,y:l,width:c,height:u}=t.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=c,this.height=u;break;case 90:{const[p,y]=this.parentDimensions;this.x=l,this.y=1-a,this.width=c*y/p,this.height=u*p/y;break}case 180:this.x=1-a,this.y=1-l,this.width=c,this.height=u;break;case 270:{const[p,y]=this.parentDimensions;this.x=1-l,this.y=a,this.width=c*y/p,this.height=u*p/y;break}}const{lastPoint:d}=g(this,lr).box;I(this,Vu,[(d[0]-a)/c,(d[1]-l)/u])},Fv=new WeakSet,A6=function(t){const r=(a,l)=>{var c,u,d;this.color=a,(c=this.parent)==null||c.drawLayer.changeColor(g(this,sn),a),(u=g(this,Uu))==null||u.updateColor(a),I(this,Zs,l),(d=this.parent)==null||d.drawLayer.changeOpacity(g(this,sn),l)},s=this.color,i=g(this,Zs);this.addCommands({cmd:r.bind(this,t,Le._defaultOpacity),undo:r.bind(this,s,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},Bv=new WeakSet,j6=function(t){const r=g(this,cr),s=i=>{I(this,cr,i),F(this,$v,E6).call(this,i)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},$v=new WeakSet,E6=function(t){if(!g(this,kn))return;F(this,qu,p0).call(this,{highlightOutlines:g(this,Ir).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,s]=this.parentDimensions;this.setDims(this.width*r,this.height*s)},om=new WeakSet,cS=function(){g(this,sn)===null||!this.parent||(this.parent.drawLayer.remove(g(this,sn)),I(this,sn,null),this.parent.drawLayer.remove(g(this,_t)),I(this,_t,null))},ei=new WeakSet,eo=function(t=this.parent){g(this,sn)===null&&({id:fn(this,sn)._,clipPathId:fn(this,ol)._}=t.drawLayer.draw(g(this,Ir),this.color,g(this,Zs)),I(this,_t,t.drawLayer.drawOutline(g(this,lr))),g(this,ll)&&(g(this,ll).style.clipPath=g(this,ol)))},ua=new WeakSet,tc=function({x:t,y:r,width:s,height:i},a){switch(a){case 90:return{x:1-r-i,y:t,width:i,height:s};case 180:return{x:1-t-s,y:1-r-i,width:s,height:i};case 270:return{x:r,y:1-t-s,width:i,height:s}}return{x:t,y:r,width:s,height:i}},zv=new WeakSet,_6=function(t){Le._keyboardManager.exec(this,t)},Wu=new WeakSet,m0=function(t){if(!g(this,zu))return;const r=window.getSelection();t?r.setPosition(g(this,zu),g(this,nm)):r.setPosition(g(this,rm),g(this,sm))},cl=new WeakSet,Sh=function(){return g(this,kn)?this.rotation:0},Uv=new WeakSet,k6=function(){if(g(this,kn))return null;const[t,r]=this.pageDimensions,[s,i]=this.pageTranslation,a=g(this,Js),l=new Float32Array(a.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of a){const p=u*t+s,y=(1-d-f)*r+i;l[c]=l[c+4]=p,l[c+1]=l[c+3]=y,l[c+2]=l[c+6]=p+h*t,l[c+5]=l[c+7]=y+f*r,c+=8}return l},Vv=new WeakSet,T6=function(t){return g(this,Ir).serialize(t,F(this,cl,Sh).call(this))},Hv=new WeakSet,C6=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},qv=new WeakSet,P6=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Wv=new WeakSet,O6=function(t){const{color:r}=this._initialData;return t.color.some((s,i)=>s!==r[i])},O(Le,ua),O(Le,Hv),O(Le,qv),me(Le,"_defaultColor",null),me(Le,"_defaultOpacity",1),me(Le,"_defaultThickness",12),me(Le,"_type","highlight"),me(Le,"_editorType",Se.HIGHLIGHT),me(Le,"_freeHighlightId",-1),me(Le,"_freeHighlight",null),me(Le,"_freeHighlightClipId","");let wy=Le;var ul,dl,ps,ti,ur,hl,fl,pl,ni,Gu,ml,gl,da,Gv,L6,Kv,R6,Xv,M6,Yv,D6,lm,dS,Qv,I6,cm,hS,Jv,F6,Zv,B6,ex,$6,tx,z6,nx,U6,ri,to,um,fS,dm,pS,hm,mS,Ku,g0,Xu,y0,ha,nc,fm,gS,Yu,v0,rx,V6,pm,yS,sx,H6,ix,q6,mm,vS,Qu,x0,yl,Nh;const Ke=class Ke extends Be{constructor(t){super({...t,name:"inkEditor"});O(this,Gv);O(this,Kv);O(this,Xv);O(this,Yv);O(this,lm);O(this,Qv);O(this,cm);O(this,Jv);O(this,Zv);O(this,ex);O(this,tx);O(this,nx);O(this,ri);O(this,um);O(this,dm);O(this,hm);O(this,Ku);O(this,Xu);O(this,ha);O(this,fm);O(this,Yu);O(this,ix);O(this,mm);O(this,Qu);O(this,yl);O(this,ul,0);O(this,dl,0);O(this,ps,null);O(this,ti,new Path2D);O(this,ur,!1);O(this,hl,null);O(this,fl,!1);O(this,pl,!1);O(this,ni,null);O(this,Gu,null);O(this,ml,0);O(this,gl,0);O(this,da,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){Be.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case xe.INK_THICKNESS:Ke._defaultThickness=r;break;case xe.INK_COLOR:Ke._defaultColor=r;break;case xe.INK_OPACITY:Ke._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case xe.INK_THICKNESS:F(this,Gv,L6).call(this,r);break;case xe.INK_COLOR:F(this,Kv,R6).call(this,r);break;case xe.INK_OPACITY:F(this,Xv,M6).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[xe.INK_THICKNESS,Ke._defaultThickness],[xe.INK_COLOR,Ke._defaultColor||Be._defaultLineColor],[xe.INK_OPACITY,Math.round(Ke._defaultOpacity*100)]]}get propertiesToUpdate(){return[[xe.INK_THICKNESS,this.thickness||Ke._defaultThickness],[xe.INK_COLOR,this.color||Ke._defaultColor||Be._defaultLineColor],[xe.INK_OPACITY,Math.round(100*(this.opacity??Ke._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(F(this,Ku,g0).call(this),F(this,Xu,y0).call(this)),this.isAttachedToDOM||(this.parent.add(this),F(this,ha,nc).call(this)),F(this,yl,Nh).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,ps)&&(clearTimeout(g(this,ps)),I(this,ps,null)),(t=g(this,ni))==null||t.disconnect(),I(this,ni,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,s=this.width*t,i=this.height*r;this.setDimensions(s,i)}enableEditMode(){g(this,ur)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,F(this,um,fS).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),F(this,dm,pS).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,ur)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),I(this,ur,!0),this.div.classList.add("disabled"),F(this,yl,Nh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||g(this,ur)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),F(this,Qv,I6).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),F(this,cm,hS).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),F(this,hm,mS).call(this,t)}canvasPointerleave(t){F(this,hm,mS).call(this,t)}get isResizable(){return!this.isEmpty()&&g(this,ur)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,i,a,l]=F(this,Yv,D6).call(this);if(this.setAt(s,i,0,0),this.setDims(a,l),F(this,Ku,g0).call(this),this.width){const[c,u]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*u),this.setAt(t*c,r*u,this.width*c,this.height*u),I(this,pl,!0),F(this,ha,nc).call(this),this.setDims(this.width*c,this.height*u),F(this,ri,to).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return F(this,Xu,y0).call(this),this.div}setDimensions(t,r){const s=Math.round(t),i=Math.round(r);if(g(this,ml)===s&&g(this,gl)===i)return;I(this,ml,s),I(this,gl,i),this.canvas.style.visibility="hidden";const[a,l]=this.parentDimensions;this.width=t/a,this.height=r/l,this.fixAndSetPosition(),g(this,ur)&&F(this,fm,gS).call(this,t,r),F(this,ha,nc).call(this),F(this,ri,to).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,r,s){var b,m,v;if(t instanceof UA)return null;const i=await super.deserialize(t,r,s);i.thickness=t.thickness,i.color=he.makeHexColor(...t.color),i.opacity=t.opacity;const[a,l]=i.pageDimensions,c=i.width*a,u=i.height*l,d=i.parentScale,h=t.thickness/2;I(i,ur,!0),I(i,ml,Math.round(c)),I(i,gl,Math.round(u));const{paths:f,rect:p,rotation:y}=t;for(let{bezier:S}of f){S=F(b=Ke,sx,H6).call(b,S,p,y);const w=[];i.paths.push(w);let N=d*(S[0]-h),E=d*(S[1]-h);for(let A=2,C=S.length;A<C;A+=6){const j=d*(S[A]-h),k=d*(S[A+1]-h),T=d*(S[A+2]-h),P=d*(S[A+3]-h),R=d*(S[A+4]-h),M=d*(S[A+5]-h);w.push([[N,E],[j,k],[T,P],[R,M]]),N=R,E=M}const _=F(this,rx,V6).call(this,w);i.bezierPath2D.push(_)}const x=F(m=i,mm,vS).call(m);return I(i,dl,Math.max(Be.MIN_SIZE,x[2]-x[0])),I(i,ul,Math.max(Be.MIN_SIZE,x[3]-x[1])),F(v=i,fm,gS).call(v,c,u),i}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=Be._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Se.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:F(this,ix,q6).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ul=new WeakMap,dl=new WeakMap,ps=new WeakMap,ti=new WeakMap,ur=new WeakMap,hl=new WeakMap,fl=new WeakMap,pl=new WeakMap,ni=new WeakMap,Gu=new WeakMap,ml=new WeakMap,gl=new WeakMap,da=new WeakMap,Gv=new WeakSet,L6=function(t){const r=i=>{this.thickness=i,F(this,yl,Nh).call(this)},s=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Kv=new WeakSet,R6=function(t){const r=i=>{this.color=i,F(this,ri,to).call(this)},s=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Xv=new WeakSet,M6=function(t){const r=i=>{this.opacity=i,F(this,ri,to).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Yv=new WeakSet,D6=function(){const{parentRotation:t,parentDimensions:[r,s]}=this;switch(t){case 90:return[0,s,s,r];case 180:return[r,s,r,s];case 270:return[r,0,s,r];default:return[0,0,r,s]}},lm=new WeakSet,dS=function(){const{ctx:t,color:r,opacity:s,thickness:i,parentScale:a,scaleFactor:l}=this;t.lineWidth=i*a/l,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${UQ(s)}`},Qv=new WeakSet,I6=function(t,r){this.canvas.addEventListener("contextmenu",xr,{signal:this._uiManager._signal}),F(this,dm,pS).call(this),I(this,hl,new AbortController);const s=this._uiManager.combinedSignal(g(this,hl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,g(this,pl)||(I(this,pl,!0),F(this,ha,nc).call(this),this.thickness||(this.thickness=Ke._defaultThickness),this.color||(this.color=Ke._defaultColor||Be._defaultLineColor),this.opacity??(this.opacity=Ke._defaultOpacity)),this.currentPath.push([t,r]),I(this,fl,!1),F(this,lm,dS).call(this),I(this,da,()=>{F(this,ex,$6).call(this),g(this,da)&&window.requestAnimationFrame(g(this,da))}),window.requestAnimationFrame(g(this,da))},cm=new WeakSet,hS=function(t,r){const[s,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&r===i)return;const a=this.currentPath;let l=g(this,ti);if(a.push([t,r]),I(this,fl,!0),a.length<=2){l.moveTo(...a[0]),l.lineTo(t,r);return}a.length===3&&(I(this,ti,l=new Path2D),l.moveTo(...a[0])),F(this,tx,z6).call(this,l,...a.at(-3),...a.at(-2),t,r)},Jv=new WeakSet,F6=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);g(this,ti).lineTo(...t)},Zv=new WeakSet,B6=function(t,r){I(this,da,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),F(this,cm,hS).call(this,t,r),F(this,Jv,F6).call(this);let s;if(this.currentPath.length!==1)s=F(this,nx,U6).call(this);else{const u=[t,r];s=[[u,u.slice(),u.slice(),u]]}const i=g(this,ti),a=this.currentPath;this.currentPath=[],I(this,ti,new Path2D);const l=()=>{this.allRawPaths.push(a),this.paths.push(s),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(F(this,Ku,g0).call(this),F(this,Xu,y0).call(this)),F(this,yl,Nh).call(this))};this.addCommands({cmd:l,undo:c,mustExec:!0})},ex=new WeakSet,$6=function(){if(!g(this,fl))return;I(this,fl,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),s=r.map(l=>l[0]),i=r.map(l=>l[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...i)-t,Math.max(...i)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const l of this.bezierPath2D)a.stroke(l);a.stroke(g(this,ti)),a.restore()},tx=new WeakSet,z6=function(t,r,s,i,a,l,c){const u=(r+i)/2,d=(s+a)/2,h=(i+l)/2,f=(a+c)/2;t.bezierCurveTo(u+2*(i-u)/3,d+2*(a-d)/3,h+2*(i-h)/3,f+2*(a-f)/3,h,f)},nx=new WeakSet,U6=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let s,[i,a]=t[0];for(s=1;s<t.length-2;s++){const[p,y]=t[s],[x,b]=t[s+1],m=(p+x)/2,v=(y+b)/2,S=[i+2*(p-i)/3,a+2*(y-a)/3],w=[m+2*(p-m)/3,v+2*(y-v)/3];r.push([[i,a],S,w,[m,v]]),[i,a]=[m,v]}const[l,c]=t[s],[u,d]=t[s+1],h=[i+2*(l-i)/3,a+2*(c-a)/3],f=[u+2*(l-u)/3,d+2*(c-d)/3];return r.push([[i,a],h,f,[u,d]]),r},ri=new WeakSet,to=function(){if(this.isEmpty()){F(this,Yu,v0).call(this);return}F(this,lm,dS).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),F(this,Yu,v0).call(this);for(const s of this.bezierPath2D)r.stroke(s)},um=new WeakSet,fS=function(){if(g(this,Gu))return;I(this,Gu,new AbortController);const t=this._uiManager.combinedSignal(g(this,Gu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},dm=new WeakSet,pS=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},hm=new WeakSet,mS=function(t){var r;(r=g(this,hl))==null||r.abort(),I(this,hl,null),F(this,um,fS).call(this),g(this,ps)&&clearTimeout(g(this,ps)),I(this,ps,setTimeout(()=>{I(this,ps,null),this.canvas.removeEventListener("contextmenu",xr)},10)),F(this,Zv,B6).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ku=new WeakSet,g0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xu=new WeakSet,y0=function(){I(this,ni,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),g(this,ni).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=g(this,ni))==null||t.disconnect(),I(this,ni,null)},{once:!0})},ha=new WeakSet,nc=function(){if(!g(this,pl))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),F(this,Yu,v0).call(this)},fm=new WeakSet,gS=function(t,r){const s=F(this,Qu,x0).call(this),i=(t-s)/g(this,dl),a=(r-s)/g(this,ul);this.scaleFactor=Math.min(i,a)},Yu=new WeakSet,v0=function(){const t=F(this,Qu,x0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},rx=new WeakSet,V6=function(t){const r=new Path2D;for(let s=0,i=t.length;s<i;s++){const[a,l,c,u]=t[s];s===0&&r.moveTo(...a),r.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}return r},pm=new WeakSet,yS=function(t,r,s){const[i,a,l,c]=r;switch(s){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=i,t[u+1]=c-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]+i,t[u+1]=h+a}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=l-t[u],t[u+1]+=a;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=l-t[u+1],t[u+1]=c-h}break;default:throw new Error("Invalid rotation")}return t},sx=new WeakSet,H6=function(t,r,s){const[i,a,l,c]=r;switch(s){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=i,t[u+1]=c-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]-a,t[u+1]=h-i}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=l-t[u],t[u+1]-=a;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=c-t[u+1],t[u+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},ix=new WeakSet,q6=function(t,r,s,i){var d,h;const a=[],l=this.thickness/2,c=t*r+l,u=t*s+l;for(const f of this.paths){const p=[],y=[];for(let x=0,b=f.length;x<b;x++){const[m,v,S,w]=f[x];if(m[0]===w[0]&&m[1]===w[1]&&b===1){const P=t*m[0]+c,R=t*m[1]+u;p.push(P,R),y.push(P,R);break}const N=t*m[0]+c,E=t*m[1]+u,_=t*v[0]+c,A=t*v[1]+u,C=t*S[0]+c,j=t*S[1]+u,k=t*w[0]+c,T=t*w[1]+u;x===0&&(p.push(N,E),y.push(N,E)),p.push(_,A,C,j,k,T),y.push(_,A),x===b-1&&y.push(k,T)}a.push({bezier:F(d=Ke,pm,yS).call(d,p,i,this.rotation),points:F(h=Ke,pm,yS).call(h,y,i,this.rotation)})}return a},mm=new WeakSet,vS=function(){let t=1/0,r=-1/0,s=1/0,i=-1/0;for(const a of this.paths)for(const[l,c,u,d]of a){const h=he.bezierBoundingBox(...l,...c,...u,...d);t=Math.min(t,h[0]),s=Math.min(s,h[1]),r=Math.max(r,h[2]),i=Math.max(i,h[3])}return[t,s,r,i]},Qu=new WeakSet,x0=function(){return g(this,ur)?Math.ceil(this.thickness*this.parentScale):0},yl=new WeakSet,Nh=function(t=!1){if(this.isEmpty())return;if(!g(this,ur)){F(this,ri,to).call(this);return}const r=F(this,mm,vS).call(this),s=F(this,Qu,x0).call(this);I(this,dl,Math.max(Be.MIN_SIZE,r[2]-r[0])),I(this,ul,Math.max(Be.MIN_SIZE,r[3]-r[1]));const i=Math.ceil(s+g(this,dl)*this.scaleFactor),a=Math.ceil(s+g(this,ul)*this.scaleFactor),[l,c]=this.parentDimensions;this.width=i/l,this.height=a/c,this.setAspectRatio(i,a);const u=this.translationX,d=this.translationY;this.translationX=-r[0],this.translationY=-r[1],F(this,ha,nc).call(this),F(this,ri,to).call(this),I(this,ml,i),I(this,gl,a),this.setDims(i,a);const h=t?s/this.scaleFactor/2:0;this.translate(u-this.translationX-h,d-this.translationY-h)},O(Ke,rx),O(Ke,pm),O(Ke,sx),me(Ke,"_defaultColor",null),me(Ke,"_defaultOpacity",1),me(Ke,"_defaultThickness",1),me(Ke,"_type","ink"),me(Ke,"_editorType",Se.INK);let uS=Ke;var it,Wt,fa,si,pa,Ju,ms,ii,gs,Un,Zu,vl,Ah,xl,jh,ed,b0,gm,bS,ax,W6,td,w0,ym,wS,nd,S0,ox,G6,lx,K6;const Hh=class Hh extends Be{constructor(t){super({...t,name:"stampEditor"});O(this,vl);O(this,xl);O(this,ed);O(this,gm);O(this,ax);O(this,td);O(this,ym);O(this,nd);O(this,ox);O(this,lx);O(this,it,null);O(this,Wt,null);O(this,fa,null);O(this,si,null);O(this,pa,null);O(this,Ju,"");O(this,ms,null);O(this,ii,null);O(this,gs,null);O(this,Un,!1);O(this,Zu,!1);I(this,si,t.bitmapUrl),I(this,pa,t.bitmapFile)}static initialize(t,r){Be.initialize(t,r)}static get supportedTypes(){return Ce(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Ce(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Se.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await s.guess({name:"altText",request:{data:i,width:a,height:l,channels:i.length/(a*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t,r;g(this,Wt)&&(I(this,it,null),this._uiManager.imageManager.deleteId(g(this,Wt)),(t=g(this,ms))==null||t.remove(),I(this,ms,null),(r=g(this,ii))==null||r.disconnect(),I(this,ii,null),g(this,gs)&&(clearTimeout(g(this,gs)),I(this,gs,null))),super.remove()}rebuild(){if(!this.parent){g(this,Wt)&&F(this,ed,b0).call(this);return}super.rebuild(),this.div!==null&&(g(this,Wt)&&g(this,ms)===null&&F(this,ed,b0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,fa)||g(this,it)||g(this,si)||g(this,pa)||g(this,Wt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,it)?F(this,gm,bS).call(this):F(this,ed,b0).call(this),this.width&&!this.annotationElementId){const[s,i]=this.parentDimensions;this.setAt(t*s,r*i,this.width*s,this.height*i)}return this.div}copyCanvas(t,r,s=!1){var p;t||(t=224);const{width:i,height:a}=g(this,it),l=new m2;let c=g(this,it),u=i,d=a,h=null;if(r){if(i>r||a>r){const A=Math.min(r/i,r/a);u=Math.floor(i*A),d=Math.floor(a*A)}h=document.createElement("canvas");const y=h.width=Math.ceil(u*l.sx),x=h.height=Math.ceil(d*l.sy);g(this,Un)||(c=F(this,td,w0).call(this,y,x));const b=h.getContext("2d");b.filter=this._uiManager.hcmFilter;let m="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",v="#42414d");const S=15,w=S*l.sx,N=S*l.sy,E=new OffscreenCanvas(w*2,N*2),_=E.getContext("2d");_.fillStyle=m,_.fillRect(0,0,w*2,N*2),_.fillStyle=v,_.fillRect(0,0,w,N),_.fillRect(w,N,w,N),b.fillStyle=b.createPattern(E,"repeat"),b.fillRect(0,0,y,x),b.drawImage(c,0,0,c.width,c.height,0,0,y,x)}let f=null;if(s){let y,x;if(l.symmetric&&c.width<t&&c.height<t)y=c.width,x=c.height;else if(c=g(this,it),i>t||a>t){const v=Math.min(t/i,t/a);y=Math.floor(i*v),x=Math.floor(a*v),g(this,Un)||(c=F(this,td,w0).call(this,y,x))}const m=new OffscreenCanvas(y,x).getContext("2d",{willReadFrequently:!0});m.drawImage(c,0,0,c.width,c.height,0,0,y,x),f={width:y,height:x,data:m.getImageData(0,0,y,x).data}}return{canvas:h,width:u,height:d,imageData:f}}getImageForAltText(){return g(this,ms)}static async deserialize(t,r,s){var x;let i=null;if(t instanceof s6){const{data:{rect:b,rotation:m,id:v,structParent:S,popupRef:w},container:N,parent:{page:{pageNumber:E}}}=t,_=N.querySelector("canvas"),A=s.imageManager.getFromCanvas(N.id,_);_.remove();const C=((x=await r._structTree.getAriaAttributes(`${PA}${v}`))==null?void 0:x.get("aria-label"))||"";i=t={annotationType:Se.STAMP,bitmapId:A.id,bitmap:A.bitmap,pageIndex:E-1,rect:b.slice(0),rotation:m,id:v,deleted:!1,accessibilityData:{decorative:!1,altText:C},isSvg:!1,structParent:S,popupRef:w}}const a=await super.deserialize(t,r,s),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:h,accessibilityData:f}=t;d&&s.imageManager.isValidId(d)?(I(a,Wt,d),c&&I(a,it,c)):I(a,si,u),I(a,Un,h);const[p,y]=a.pageDimensions;return a.width=(l[2]-l[0])/p,a.height=(l[3]-l[1])/y,a.annotationElementId=t.id||null,f&&(a.altTextData=f),a._initialData=i,I(a,Zu,!!i),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Se.STAMP,bitmapId:g(this,Wt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,Un),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=F(this,nd,S0).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(s.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=F(this,lx,K6).call(this,s);if(c.isSame)return null;c.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,r===null)return s;r.stamps||(r.stamps=new Map);const l=g(this,Un)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!r.stamps.has(g(this,Wt)))r.stamps.set(g(this,Wt),{area:l,serialized:s}),s.bitmap=F(this,nd,S0).call(this,!1);else if(g(this,Un)){const c=r.stamps.get(g(this,Wt));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=F(this,nd,S0).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};it=new WeakMap,Wt=new WeakMap,fa=new WeakMap,si=new WeakMap,pa=new WeakMap,Ju=new WeakMap,ms=new WeakMap,ii=new WeakMap,gs=new WeakMap,Un=new WeakMap,Zu=new WeakMap,vl=new WeakSet,Ah=function(t,r=!1){if(!t){this.remove();return}I(this,it,t.bitmap),r||(I(this,Wt,t.id),I(this,Un,t.isSvg)),t.file&&I(this,Ju,t.file.name),F(this,gm,bS).call(this)},xl=new WeakSet,jh=function(){if(I(this,fa,null),this._uiManager.enableWaiting(!1),!!g(this,ms)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,it)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,it)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},ed=new WeakSet,b0=function(){if(g(this,Wt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Wt)).then(s=>F(this,vl,Ah).call(this,s,!0)).finally(()=>F(this,xl,jh).call(this));return}if(g(this,si)){const s=g(this,si);I(this,si,null),this._uiManager.enableWaiting(!0),I(this,fa,this._uiManager.imageManager.getFromUrl(s).then(i=>F(this,vl,Ah).call(this,i)).finally(()=>F(this,xl,jh).call(this)));return}if(g(this,pa)){const s=g(this,pa);I(this,pa,null),this._uiManager.enableWaiting(!0),I(this,fa,this._uiManager.imageManager.getFromFile(s).then(i=>F(this,vl,Ah).call(this,i)).finally(()=>F(this,xl,jh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Hh.supportedTypesStr;const r=this._uiManager._signal;I(this,fa,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),F(this,vl,Ah).call(this,i)}s()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:r})}).finally(()=>F(this,xl,jh).call(this))),t.click()},gm=new WeakSet,bS=function(){const{div:t}=this;let{width:r,height:s}=g(this,it);const[i,a]=this.pageDimensions,l=.75;if(this.width)r=this.width*i,s=this.height*a;else if(r>l*i||s>l*a){const h=Math.min(l*i/r,l*a/s);r*=h,s*=h}const[c,u]=this.parentDimensions;this.setDims(r*c/i,s*u/a),this._uiManager.enableWaiting(!1);const d=I(this,ms,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),F(this,ym,wS).call(this,r,s),F(this,ox,G6).call(this),g(this,Zu)||(this.parent.addUndoableEditor(this),I(this,Zu,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,Ju)&&d.setAttribute("aria-label",g(this,Ju))},ax=new WeakSet,W6=function(t,r){var l;const[s,i]=this.parentDimensions;this.width=t/s,this.height=r/i,(l=this._initialOptions)!=null&&l.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,gs)!==null&&clearTimeout(g(this,gs)),I(this,gs,setTimeout(()=>{I(this,gs,null),F(this,ym,wS).call(this,t,r)},200))},td=new WeakSet,w0=function(t,r){const{width:s,height:i}=g(this,it);let a=s,l=i,c=g(this,it);for(;a>2*t||l>2*r;){const u=a,d=l;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*r&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const h=new OffscreenCanvas(a,l);h.getContext("2d").drawImage(c,0,0,u,d,0,0,a,l),c=h.transferToImageBitmap()}return c},ym=new WeakSet,wS=function(t,r){const s=new m2,i=Math.ceil(t*s.sx),a=Math.ceil(r*s.sy),l=g(this,ms);if(!l||l.width===i&&l.height===a)return;l.width=i,l.height=a;const c=g(this,Un)?g(this,it):F(this,td,w0).call(this,i,a),u=l.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,i,a)},nd=new WeakSet,S0=function(t){if(t){if(g(this,Un)){const i=this._uiManager.imageManager.getSvgUrl(g(this,Wt));if(i)return i}const r=document.createElement("canvas");return{width:r.width,height:r.height}=g(this,it),r.getContext("2d").drawImage(g(this,it),0,0),r.toDataURL()}if(g(this,Un)){const[r,s]=this.pageDimensions,i=Math.round(this.width*r*Da.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*Da.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(i,a);return l.getContext("2d").drawImage(g(this,it),0,0,g(this,it).width,g(this,it).height,0,0,i,a),l.transferToImageBitmap()}return structuredClone(g(this,it))},ox=new WeakSet,G6=function(){this._uiManager._signal&&(I(this,ii,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&F(this,ax,W6).call(this,r.width,r.height)})),g(this,ii).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=g(this,ii))==null||t.disconnect(),I(this,ii,null)},{once:!0}))},lx=new WeakSet,K6=function(t){var u;const{rect:r,pageIndex:s,accessibilityData:{altText:i}}=this._initialData,a=t.rect.every((d,h)=>Math.abs(d-r[h])<1),l=t.pageIndex===s,c=(((u=t.accessibilityData)==null?void 0:u.alt)||"")===i;return{isSame:a&&l&&c,isSameAltText:c}},me(Hh,"_type","stamp"),me(Hh,"_editorType",Se.STAMP);let xS=Hh;var bl,rd,ys,ma,ai,Vn,ga,sd,id,an,oi,pe,ya,cx,X6,vm,NS,xm,AS,bm,jS,ad,N0;const Sr=class Sr{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:s,accessibilityManager:i,annotationLayer:a,drawLayer:l,textLayer:c,viewport:u,l10n:d}){O(this,cx);O(this,vm);O(this,xm);O(this,bm);O(this,ad);O(this,bl,void 0);O(this,rd,!1);O(this,ys,null);O(this,ma,null);O(this,ai,null);O(this,Vn,new Map);O(this,ga,!1);O(this,sd,!1);O(this,id,!1);O(this,an,null);O(this,oi,null);O(this,pe,void 0);const h=[...g(Sr,ya).values()];if(!Sr._initialized){Sr._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),I(this,pe,e),this.pageIndex=t,this.div=r,I(this,bl,i),I(this,ys,a),this.viewport=u,I(this,an,c),this.drawLayer=l,this._structTree=s,g(this,pe).addLayer(this)}get isEmpty(){return g(this,Vn).size===0}get isInvisible(){return this.isEmpty&&g(this,pe).getMode()===Se.NONE}updateToolbar(e){g(this,pe).updateToolbar(e)}updateMode(e=g(this,pe).getMode()){switch(F(this,ad,N0).call(this),e){case Se.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Se.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Se.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of g(Sr,ya).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=g(this,an))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(g(this,pe).getMode()!==Se.INK)return;if(!e){for(const r of g(this,Vn).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){g(this,pe).setEditingState(e)}addCommands(e){g(this,pe).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=g(this,ys))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of g(this,Vn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(g(this,pe).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!g(this,ys))return;const t=g(this,ys).getEditableAnnotations();for(const r of t){if(r.hide(),g(this,pe).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;I(this,id,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of g(this,Vn).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(s=this.getEditableAnnotation(i.annotationElementId))==null||s.show(),i.remove()}if(g(this,ys)){const i=g(this,ys).getEditableAnnotations();for(const a of i){const{id:l}=a.data;if(g(this,pe).isDeletedAnnotationElement(l))continue;let c=t.get(l);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(l),c&&(g(this,pe).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}F(this,ad,N0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of g(Sr,ya).values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),I(this,id,!1)}getEditableAnnotation(e){var t;return((t=g(this,ys))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,pe).getActive()!==e&&g(this,pe).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=g(this,an))!=null&&e.div&&!g(this,oi)){I(this,oi,new AbortController);const t=g(this,pe).combinedSignal(g(this,oi));g(this,an).div.addEventListener("pointerdown",F(this,cx,X6).bind(this),{signal:t}),g(this,an).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,an))!=null&&e.div&&g(this,oi)&&(g(this,oi).abort(),I(this,oi,null),g(this,an).div.classList.remove("highlighting"))}enableClick(){if(g(this,ma))return;I(this,ma,new AbortController);const e=g(this,pe).combinedSignal(g(this,ma));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=g(this,ma))==null||e.abort(),I(this,ma,null)}attach(e){g(this,Vn).set(e.id,e);const{annotationElementId:t}=e;t&&g(this,pe).isDeletedAnnotationElement(t)&&g(this,pe).removeDeletedAnnotationElement(e)}detach(e){var t;g(this,Vn).delete(e.id),(t=g(this,bl))==null||t.removePointerInTextLayer(e.contentDiv),!g(this,id)&&e.annotationElementId&&g(this,pe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,pe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,g(this,sd)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,pe).addDeletedAnnotationElement(e.annotationElementId),Be.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,pe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),g(this,pe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!g(this,ai)&&(e._focusEventsAllowed=!1,I(this,ai,setTimeout(()=>{I(this,ai,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,pe)._signal}),t.focus())},0))),e._structTreeParentId=(r=g(this,bl))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return g(this,pe).getId()}combinedSignal(e){return g(this,pe).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=g(this,vm,NS))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){g(this,pe).updateToolbar(e),g(this,pe).updateMode(e);const{offsetX:r,offsetY:s}=F(this,bm,jS).call(this),i=this.getNextId(),a=F(this,xm,AS).call(this,{parent:this,id:i,x:r,y:s,uiManager:g(this,pe),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=g(Sr,ya).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,g(this,pe)))||null}createAndAddNewEditor(e,t,r={}){const s=this.getNextId(),i=F(this,xm,AS).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:g(this,pe),isCentered:t,...r});return i&&this.add(i),i}addNewEditor(){this.createAndAddNewEditor(F(this,bm,jS).call(this),!0)}setSelected(e){g(this,pe).setSelected(e)}toggleSelected(e){g(this,pe).toggleSelected(e)}unselect(e){g(this,pe).unselect(e)}pointerup(e){const{isMac:t}=bn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&g(this,ga)){if(I(this,ga,!1),!g(this,rd)){I(this,rd,!0);return}if(g(this,pe).getMode()===Se.STAMP){g(this,pe).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(g(this,pe).getMode()===Se.HIGHLIGHT&&this.enableTextSelection(),g(this,ga)){I(this,ga,!1);return}const{isMac:t}=bn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;I(this,ga,!0);const r=g(this,pe).getActive();I(this,rd,!r||r.isEmpty())}findNewParent(e,t,r){const s=g(this,pe).findParent(t,r);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){var e,t;((e=g(this,pe).getActive())==null?void 0:e.parent)===this&&(g(this,pe).commitOrRemove(),g(this,pe).setActiveEditor(null)),g(this,ai)&&(clearTimeout(g(this,ai)),I(this,ai,null));for(const r of g(this,Vn).values())(t=g(this,bl))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,g(this,Vn).clear(),g(this,pe).removeLayer(this)}render({viewport:e}){this.viewport=e,Rl(this.div,e);for(const t of g(this,pe).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){g(this,pe).commitOrRemove(),F(this,ad,N0).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Rl(this.div,{rotation:r}),t!==r)for(const s of g(this,Vn).values())s.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return g(this,pe).viewParameters.realScale}};bl=new WeakMap,rd=new WeakMap,ys=new WeakMap,ma=new WeakMap,ai=new WeakMap,Vn=new WeakMap,ga=new WeakMap,sd=new WeakMap,id=new WeakMap,an=new WeakMap,oi=new WeakMap,pe=new WeakMap,ya=new WeakMap,cx=new WeakSet,X6=function(e){g(this,pe).unselectAll();const{target:t}=e;if(t===g(this,an).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&g(this,an).div.contains(t)){const{isMac:r}=bn.platform;if(e.button!==0||e.ctrlKey&&r)return;g(this,pe).showAllEditors("highlight",!0,!0),g(this,an).div.classList.add("free"),this.toggleDrawing(),wy.startHighlighting(this,g(this,pe).direction==="ltr",{target:g(this,an).div,x:e.x,y:e.y}),g(this,an).div.addEventListener("pointerup",()=>{g(this,an).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,pe)._signal}),e.preventDefault()}},vm=new WeakSet,NS=function(){return g(Sr,ya).get(g(this,pe).getMode())},xm=new WeakSet,AS=function(e){const t=g(this,vm,NS);return t?new t.prototype.constructor(e):null},bm=new WeakSet,jS=function(){const{x:e,y:t,width:r,height:s}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),l=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,t+s),u=(i+l)/2-e,d=(a+c)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},ad=new WeakSet,N0=function(){I(this,sd,!0);for(const e of g(this,Vn).values())e.isEmpty()&&e.remove();I(this,sd,!1)},me(Sr,"_initialized",!1),O(Sr,ya,new Map([tS,uS,xS,wy].map(e=>[e._editorType,e])));let SS=Sr;var vs,wm,wt,li,Sm,_S,Nm,kS,ux,Y6;const Ut=class Ut{constructor({pageIndex:e}){O(this,Nm);O(this,ux);O(this,vs,null);O(this,wm,0);O(this,wt,new Map);O(this,li,new Map);this.pageIndex=e}setParent(e){if(!g(this,vs)){I(this,vs,e);return}if(g(this,vs)!==e){if(g(this,wt).size>0)for(const t of g(this,wt).values())t.remove(),e.append(t);I(this,vs,e)}}static get _svgFactory(){return Ce(this,"_svgFactory",new zA)}draw(e,t,r,s=!1){const i=fn(this,wm)._++,a=F(this,Nm,kS).call(this,e.box);a.classList.add(...e.classNamesForDrawing);const l=Ut._svgFactory.createElement("defs");a.append(l);const c=Ut._svgFactory.createElement("path");l.append(c);const u=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",u),c.setAttribute("d",e.toSVGPath()),s&&g(this,li).set(i,c);const d=F(this,ux,Y6).call(this,l,u),h=Ut._svgFactory.createElement("use");return a.append(h),a.setAttribute("fill",t),a.setAttribute("fill-opacity",r),h.setAttribute("href",`#${u}`),g(this,wt).set(i,a),{id:i,clipPathId:`url(#${d})`}}drawOutline(e){const t=fn(this,wm)._++,r=F(this,Nm,kS).call(this,e.box);r.classList.add(...e.classNamesForOutlining);const s=Ut._svgFactory.createElement("defs");r.append(s);const i=Ut._svgFactory.createElement("path");s.append(i);const a=`path_p${this.pageIndex}_${t}`;i.setAttribute("id",a),i.setAttribute("d",e.toSVGPath()),i.setAttribute("vector-effect","non-scaling-stroke");let l;if(e.mustRemoveSelfIntersections){const d=Ut._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const h=Ut._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=Ut._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=Ut._svgFactory.createElement("use");r.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return r.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),g(this,wt).set(t,r),t}finalizeLine(e,t){const r=g(this,li).get(e);g(this,li).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){g(this,wt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){g(this,li).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;F(r=Ut,Sm,_S).call(r,g(this,wt).get(e),t)}show(e,t){g(this,wt).get(e).classList.toggle("hidden",!t)}rotate(e,t){g(this,wt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){g(this,wt).get(e).setAttribute("fill",t)}changeOpacity(e,t){g(this,wt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){g(this,wt).get(e).classList.add(t)}removeClass(e,t){g(this,wt).get(e).classList.remove(t)}getSVGRoot(e){return g(this,wt).get(e)}remove(e){g(this,li).delete(e),g(this,vs)!==null&&(g(this,wt).get(e).remove(),g(this,wt).delete(e))}destroy(){I(this,vs,null);for(const e of g(this,wt).values())e.remove();g(this,wt).clear(),g(this,li).clear()}};vs=new WeakMap,wm=new WeakMap,wt=new WeakMap,li=new WeakMap,Sm=new WeakSet,_S=function(e,{x:t=0,y:r=0,width:s=1,height:i=1}={}){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*s}%`,a.height=`${100*i}%`},Nm=new WeakSet,kS=function(e){var r;const t=Ut._svgFactory.create(1,1,!0);return g(this,vs).append(t),t.setAttribute("aria-hidden",!0),F(r=Ut,Sm,_S).call(r,t,e),t},ux=new WeakSet,Y6=function(e,t){const r=Ut._svgFactory.createElement("clipPath");e.append(r);const s=`clip_${t}`;r.setAttribute("id",s),r.setAttribute("clipPathUnits","objectBoundingBox");const i=Ut._svgFactory.createElement("use");return r.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),s},O(Ut,Sm);let ES=Ut;var wZ=be.AbortException,SZ=be.AnnotationEditorLayer,NZ=be.AnnotationEditorParamsType,AZ=be.AnnotationEditorType,jZ=be.AnnotationEditorUIManager,Q6=be.AnnotationLayer,J6=be.AnnotationMode,EZ=be.ColorPicker,_Z=be.DOMSVGFactory,kZ=be.DrawLayer,TZ=be.FeatureTest,VA=be.GlobalWorkerOptions,CZ=be.ImageKind,PZ=be.InvalidPDFException,OZ=be.MissingPDFException,LZ=be.OPS,RZ=be.OutputScale,MZ=be.PDFDataRangeTransport,DZ=be.PDFDateString,IZ=be.PDFWorker,FZ=be.PasswordResponses,BZ=be.PermissionFlag,$Z=be.PixelsPerInch,zZ=be.RenderingCancelledException,Z6=be.TextLayer,UZ=be.UnexpectedResponseException,VZ=be.Util,HZ=be.VerbosityLevel,qZ=be.XfaLayer,WZ=be.build,GZ=be.createValidAbsoluteUrl,KZ=be.fetchData,eL=be.getDocument,XZ=be.getFilenameFromUrl,YZ=be.getPdfFilenameFromUrl,QZ=be.getXfaPageViewport,JZ=be.isDataScheme,ZZ=be.isPdfFile,eee=be.noContextMenu,tee=be.normalizeUnicode,nee=be.setLayerDimensions,ree=be.shadow,tL=be.version;const see=Object.freeze(Object.defineProperty({__proto__:null,AbortException:wZ,AnnotationEditorLayer:SZ,AnnotationEditorParamsType:NZ,AnnotationEditorType:AZ,AnnotationEditorUIManager:jZ,AnnotationLayer:Q6,AnnotationMode:J6,ColorPicker:EZ,DOMSVGFactory:_Z,DrawLayer:kZ,FeatureTest:TZ,GlobalWorkerOptions:VA,ImageKind:CZ,InvalidPDFException:PZ,MissingPDFException:OZ,OPS:LZ,OutputScale:RZ,PDFDataRangeTransport:MZ,PDFDateString:DZ,PDFWorker:IZ,PasswordResponses:FZ,PermissionFlag:BZ,PixelsPerInch:$Z,RenderingCancelledException:zZ,TextLayer:Z6,UnexpectedResponseException:UZ,Util:VZ,VerbosityLevel:HZ,XfaLayer:qZ,build:WZ,createValidAbsoluteUrl:GZ,fetchData:KZ,getDocument:eL,getFilenameFromUrl:XZ,getPdfFilenameFromUrl:YZ,getXfaPageViewport:QZ,isDataScheme:JZ,isPdfFile:ZZ,noContextMenu:eee,normalizeUnicode:tee,setLayerDimensions:nee,shadow:ree,version:tL},Symbol.toStringTag,{value:"Module"}));var Ot=globalThis&&globalThis.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},iee=["onCopy","onCut","onPaste"],aee=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],oee=["onFocus","onBlur"],lee=["onInput","onInvalid","onReset","onSubmit"],cee=["onLoad","onError"],uee=["onKeyDown","onKeyPress","onKeyUp"],dee=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],hee=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],fee=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],pee=["onSelect"],mee=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],gee=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],yee=["onScroll"],vee=["onWheel"],xee=["onAnimationStart","onAnimationEnd","onAnimationIteration"],bee=["onTransitionEnd"],wee=["onToggle"],See=["onChange"],Nee=Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot([],iee,!0),aee,!0),oee,!0),lee,!0),cee,!0),uee,!0),dee,!0),hee,!0),fee,!0),pee,!0),mee,!0),gee,!0),yee,!0),vee,!0),xee,!0),bee,!0),See,!0),wee,!0);function nL(n,e){var t={};return Nee.forEach(function(r){var s=n[r];s&&(e?t[r]=function(i){return s(i,e(r))}:t[r]=s)}),t}function Hm(n){var e=!1,t=new Promise(function(r,s){n.then(function(i){return!e&&r(i)}).catch(function(i){return!e&&s(i)})});return{promise:t,cancel:function(){e=!0}}}function rL(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=rL(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function f1(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=rL(n))&&(r&&(r+=" "),r+=e);return r}var Aee=!0,kb="Invariant failed";function He(n,e){if(!n){if(Aee)throw new Error(kb);var t=typeof e=="function"?e():e,r=t?"".concat(kb,": ").concat(t):kb;throw new Error(r)}}var jee=function(){},Eee=jee;const un=vd(Eee);var hk=Object.prototype.hasOwnProperty;function fk(n,e,t){for(t of n.keys())if(Rc(t,e))return t}function Rc(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Rc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=fk(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=fk(e,s),!s)||!Rc(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(hk.call(n,t)&&++r&&!hk.call(e,t)||!(t in e)||!Rc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const _ee=L.createContext(null),sL=_ee;function Mc({children:n,type:e}){return o.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const kee="noopener noreferrer nofollow";class Tee{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return He(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){He(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{He(this.pdfDocument,"PDF document not loaded."),He(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{He(Array.isArray(t),`"${t}" is not a valid destination array.`);const r=t[0];new Promise(s=>{He(this.pdfDocument,"PDF document not loaded."),r instanceof Object?this.pdfDocument.getPageIndex(r).then(i=>{s(i)}).catch(()=>{He(!1,`"${r}" is not a valid page reference.`)}):typeof r=="number"?s(r):He(!1,`"${r}" is not a valid destination reference.`)}).then(s=>{const i=s+1;He(this.pdfViewer,"PDF viewer is not initialized."),He(i>=1&&i<=this.pagesCount,`"${i}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:i})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;He(this.pdfViewer,"PDF viewer is not initialized."),He(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||kee,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Cee={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},pk=Cee,p1=typeof window<"u",iL=p1&&window.location.protocol==="file:";function Pee(n){return typeof n<"u"}function Wa(n){return Pee(n)&&n!==null}function Oee(n){return typeof n=="string"}function Lee(n){return n instanceof ArrayBuffer}function Ree(n){return He(p1,"isBlob can only be used in a browser environment"),n instanceof Blob}function TS(n){return Oee(n)&&/^data:/.test(n)}function mk(n){He(TS(n),"Invalid data URI.");const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function Mee(){return p1&&window.devicePixelRatio||1}const aL="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function gk(){un(!iL,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${aL}`)}function Dee(){un(!iL,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${aL}`)}function Il(n){n!=null&&n.cancel&&n.cancel()}function CS(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function Iee(n){return n.name==="RenderingCancelledException"}function Fee(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:i}=s.target;if(!i)return t(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function Bee(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function yd(){return L.useReducer(Bee,{value:void 0,error:void 0})}var $ee=globalThis&&globalThis.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(n,e||[])).next())})},yk=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const{PDFDataRangeTransport:zee}=see,Uee=(n,e)=>{switch(e){case pk.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case pk.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function vk(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const Vee=L.forwardRef(function(e,t){var{children:r,className:s,error:i="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:l,file:c,inputRef:u,imageResourcesPath:d,loading:h="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:y,onLoadProgress:x,onLoadSuccess:b,onPassword:m=Uee,onSourceError:v,onSourceSuccess:S,options:w,renderMode:N,rotate:E}=e,_=yk(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[A,C]=yd(),{value:j,error:k}=A,[T,P]=yd(),{value:R,error:M}=T,V=L.useRef(new Tee),U=L.useRef([]),W=L.useRef(void 0),q=L.useRef(void 0);c&&c!==W.current&&vk(c)&&(un(!Rc(c,W.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),W.current=c),w&&w!==q.current&&(un(!Rc(w,q.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),q.current=w);const $=L.useRef({scrollPageIntoView:ce=>{const{dest:fe,pageNumber:ve,pageIndex:Oe=ve-1}=ce;if(p){p({dest:fe,pageIndex:Oe,pageNumber:ve});return}const qe=U.current[Oe];if(qe){qe.scrollIntoView();return}un(!1,`An internal link leading to page ${ve} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});L.useImperativeHandle(t,()=>({linkService:V,pages:U,viewer:$}),[]);function D(){S&&S()}function B(){k&&(un(!1,k.toString()),v&&v(k))}function H(){C({type:"RESET"})}L.useEffect(H,[c,C]);const X=L.useCallback(()=>$ee(this,void 0,void 0,function*(){if(!c)return null;if(typeof c=="string")return TS(c)?{data:mk(c)}:(gk(),{url:c});if(c instanceof zee)return{range:c};if(Lee(c))return{data:c};if(p1&&Ree(c))return{data:yield Fee(c)};if(He(typeof c=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),He(vk(c),"Invalid parameter object: need either .data, .range or .url"),"url"in c&&typeof c.url=="string"){if(TS(c.url)){const{url:ce}=c,fe=yk(c,["url"]),ve=mk(ce);return Object.assign({data:ve},fe)}gk()}return c}),[c]);L.useEffect(()=>{const ce=Hm(X());return ce.promise.then(fe=>{C({type:"RESOLVE",value:fe})}).catch(fe=>{C({type:"REJECT",error:fe})}),()=>{Il(ce)}},[X,C]),L.useEffect(()=>{if(!(typeof j>"u")){if(j===!1){B();return}D()}},[j]);function K(){R&&(b&&b(R),U.current=new Array(R.numPages),V.current.setDocument(R))}function z(){M&&(un(!1,M.toString()),y&&y(M))}L.useEffect(function(){P({type:"RESET"})},[P,j]),L.useEffect(function(){if(!j)return;const fe=w?Object.assign(Object.assign({},j),w):j,ve=eL(fe);x&&(ve.onProgress=x),m&&(ve.onPassword=m);const Oe=ve,qe=Oe.promise.then(te=>{P({type:"RESOLVE",value:te})}).catch(te=>{Oe.destroyed||P({type:"REJECT",error:te})});return()=>{qe.finally(()=>Oe.destroy())}},[w,P,j]),L.useEffect(()=>{if(!(typeof R>"u")){if(R===!1){z();return}K()}},[R]),L.useEffect(function(){V.current.setViewer($.current),V.current.setExternalLinkRel(a),V.current.setExternalLinkTarget(l)},[a,l]);const G=L.useCallback((ce,fe)=>{U.current[ce]=fe},[]),J=L.useCallback(ce=>{delete U.current[ce]},[]),Q=L.useMemo(()=>({imageResourcesPath:d,linkService:V.current,onItemClick:p,pdf:R,registerPage:G,renderMode:N,rotate:E,unregisterPage:J}),[d,p,R,G,N,E,J]),ee=L.useMemo(()=>nL(_,()=>R),[_,R]);function le(){return o.jsx(sL.Provider,{value:Q,children:r})}function ge(){return c?R==null?o.jsx(Mc,{type:"loading",children:typeof h=="function"?h():h}):R===!1?o.jsx(Mc,{type:"error",children:typeof i=="function"?i():i}):le():o.jsx(Mc,{type:"no-data",children:typeof f=="function"?f():f})}return o.jsx("div",Object.assign({className:f1("react-pdf__Document",s),ref:u,style:{"--scale-factor":"1"}},ee,{children:ge()}))}),Hee=Vee;function oL(){return L.useContext(sL)}function lL(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(i){t.forEach(function(a){typeof a=="function"?a(i):a&&(a.current=i)})}}const qee=L.createContext(null),cL=qee,uL={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Wee=/^H(\d+)$/;function Gee(n){return n in uL}function m1(n){return"children"in n}function dL(n){return m1(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function Kee(n){const e={};if(m1(n)){const{role:t}=n,r=t.match(Wee);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(Gee(t)){const s=uL[t];s&&(e.role=s)}}return e}function hL(n){const e={};if(m1(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),dL(n)){const[t]=n.children;if(t){const r=hL(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function Xee(n){return n?Object.assign(Object.assign({},Kee(n)),hL(n)):null}function fL({className:n,node:e}){const t=L.useMemo(()=>Xee(e),[e]),r=L.useMemo(()=>!m1(e)||dL(e)?null:e.children.map((s,i)=>o.jsx(fL,{node:s},i)),[e]);return o.jsx("span",Object.assign({className:n},t,{children:r}))}function g1(){return L.useContext(cL)}function Yee(){const n=g1();He(n,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,s]=yd(),{value:i,error:a}=r,{customTextRenderer:l,page:c}=n;function u(){i&&t&&t(i)}function d(){a&&(un(!1,a.toString()),e&&e(a))}return L.useEffect(function(){s({type:"RESET"})},[s,c]),L.useEffect(function(){if(l||!c)return;const f=Hm(c.getStructTree()),p=f;return f.promise.then(y=>{s({type:"RESOLVE",value:y})}).catch(y=>{s({type:"REJECT",error:y})}),()=>Il(p)},[l,c,s]),L.useEffect(()=>{if(i!==void 0){if(i===!1){d();return}u()}},[i]),i?o.jsx(fL,{className:"react-pdf__Page__structTree structTree",node:i}):null}const xk=J6;function Qee(n){const e=g1();He(e,"Unable to find Page context.");const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:s,devicePixelRatio:i=Mee(),onRenderError:a,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;He(c,"Attempted to render page canvas, but no page was specified.");const y=L.useRef(null);function x(){c&&l&&l(CS(c,f))}function b(w){Iee(w)||(un(!1,w.toString()),a&&a(w))}const m=L.useMemo(()=>c.getViewport({scale:f*i,rotation:h}),[i,c,h,f]),v=L.useMemo(()=>c.getViewport({scale:f,rotation:h}),[c,h,f]);L.useEffect(function(){if(!c)return;c.cleanup();const{current:N}=y;if(!N)return;N.width=m.width,N.height=m.height,N.style.width=`${Math.floor(v.width)}px`,N.style.height=`${Math.floor(v.height)}px`,N.style.visibility="hidden";const E={annotationMode:u?xk.ENABLE_FORMS:xk.ENABLE,canvasContext:N.getContext("2d",{alpha:!1}),viewport:m};s&&(E.background=s);const _=c.render(E),A=_;return _.promise.then(()=>{N.style.visibility="",x()}).catch(b),()=>Il(A)},[s,c,u,m,v]);const S=L.useCallback(()=>{const{current:w}=y;w&&(w.width=0,w.height=0)},[]);return L.useEffect(()=>S,[S]),o.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:lL(p,y),style:{display:"block",userSelect:"none"},children:d?o.jsx(Yee,{}):null})}function Jee(n){return"str"in n}function Zee(){const n=g1();He(n,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:s,onRenderTextLayerSuccess:i,page:a,pageIndex:l,pageNumber:c,rotate:u,scale:d}=n;He(a,"Attempted to load page text content, but no page was specified.");const[h,f]=yd(),{value:p,error:y}=h,x=L.useRef(null);un(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function b(){p&&r&&r(p)}function m(){y&&(un(!1,y.toString()),t&&t(y))}L.useEffect(function(){f({type:"RESET"})},[a,f]),L.useEffect(function(){if(!a)return;const A=Hm(a.getTextContent()),C=A;return A.promise.then(j=>{f({type:"RESOLVE",value:j})}).catch(j=>{f({type:"REJECT",error:j})}),()=>Il(C)},[a,f]),L.useEffect(()=>{if(p!==void 0){if(p===!1){m();return}b()}},[p]);const v=L.useCallback(()=>{i&&i()},[i]),S=L.useCallback(_=>{un(!1,_.toString()),s&&s(_)},[s]);function w(){const _=x.current;_&&_.classList.add("selecting")}function N(){const _=x.current;_&&_.classList.remove("selecting")}const E=L.useMemo(()=>a.getViewport({scale:d,rotation:u}),[a,u,d]);return L.useLayoutEffect(function(){if(!a||!p)return;const{current:A}=x;if(!A)return;A.innerHTML="";const C=a.streamTextContent({includeMarkedContent:!0}),j={container:A,textContentSource:C,viewport:E},k=new Z6(j),T=k;return k.render().then(()=>{const P=document.createElement("div");P.className="endOfContent",A.append(P);const R=A.querySelectorAll('[role="presentation"]');if(e){let M=0;p.items.forEach((V,U)=>{if(!Jee(V))return;const W=R[M];if(!W)return;const q=e(Object.assign({pageIndex:l,pageNumber:c,itemIndex:U},V));W.innerHTML=q,M+=V.str&&V.hasEOL?2:1})}v()}).catch(S),()=>Il(T)},[e,S,v,a,l,c,p,E]),o.jsx("div",{className:f1("react-pdf__Page__textContent","textLayer"),onMouseUp:N,onMouseDown:w,ref:x})}function ete(){const n=oL(),e=g1();He(e,"Unable to find Page context.");const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:s,onGetAnnotationsError:i,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;He(d,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),He(u,"Attempted to load page annotations, but no page was specified."),He(s,"Attempted to load page annotations, but no linkService was specified.");const[y,x]=yd(),{value:b,error:m}=y,v=L.useRef(null);un(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function S(){b&&a&&a(b)}function w(){m&&(un(!1,m.toString()),i&&i(m))}L.useEffect(function(){x({type:"RESET"})},[x,u]),L.useEffect(function(){if(!u)return;const C=Hm(u.getAnnotations()),j=C;return C.promise.then(k=>{x({type:"RESOLVE",value:k})}).catch(k=>{x({type:"REJECT",error:k})}),()=>{Il(j)}},[x,u]),L.useEffect(()=>{if(b!==void 0){if(b===!1){w();return}S()}},[b]);function N(){c&&c()}function E(A){un(!1,`${A}`),l&&l(A)}const _=L.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return L.useEffect(function(){if(!d||!u||!s||!b)return;const{current:C}=v;if(!C)return;const j=_.clone({dontFlip:!0}),k={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:C,l10n:null,page:u,structTreeLayer:null,viewport:j},T={annotations:b,annotationStorage:d.annotationStorage,div:C,imageResourcesPath:r,linkService:s,page:u,renderForms:h,viewport:j};C.innerHTML="";try{new Q6(k).render(T),N()}catch(P){E(P)}return()=>{}},[b,r,s,u,d,h,_]),o.jsx("div",{className:f1("react-pdf__Page__annotations","annotationLayer"),ref:v})}var tte=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const bk=1;function nte(n){const e=oL(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:i,canvasRef:a,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:y,loading:x="Loading page",noData:b="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:v,onGetStructTreeError:S,onGetStructTreeSuccess:w,onGetTextError:N,onGetTextSuccess:E,onLoadError:_,onLoadSuccess:A,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:j,onRenderError:k,onRenderSuccess:T,onRenderTextLayerError:P,onRenderTextLayerSuccess:R,pageIndex:M,pageNumber:V,pdf:U,registerPage:W,renderAnnotationLayer:q=!0,renderForms:$=!1,renderMode:D="canvas",renderTextLayer:B=!0,rotate:H,scale:X=bk,unregisterPage:K,width:z}=t,G=tte(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[J,Q]=yd(),{value:ee,error:le}=J,ge=L.useRef(null);He(U,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const ce=Wa(V)?V-1:M??null,fe=V??(Wa(M)?M+1:null),ve=H??(ee?ee.rotate:null),Oe=L.useMemo(()=>{if(!ee)return null;let Qt=1;const ze=X??bk;if(z||p){const ql=ee.getViewport({scale:1,rotation:ve});z?Qt=z/ql.width:p&&(Qt=p/ql.height)}return ze*Qt},[p,ee,ve,X,z]);L.useEffect(function(){return()=>{Wa(ce)&&s&&K&&K(ce)}},[s,U,ce,K]);function qe(){if(A){if(!ee||!Oe)return;A(CS(ee,Oe))}if(s&&W){if(!Wa(ce)||!ge.current)return;W(ce,ge.current)}}function te(){le&&(un(!1,le.toString()),_&&_(le))}L.useEffect(function(){Q({type:"RESET"})},[Q,U,ce]),L.useEffect(function(){if(!U||!fe)return;const ze=Hm(U.getPage(fe)),ql=ze;return ze.promise.then(et=>{Q({type:"RESOLVE",value:et})}).catch(et=>{Q({type:"REJECT",error:et})}),()=>Il(ql)},[Q,U,fe]),L.useEffect(()=>{if(ee!==void 0){if(ee===!1){te();return}qe()}},[ee,Oe]);const ne=L.useMemo(()=>ee&&Wa(ce)&&fe&&Wa(ve)&&Wa(Oe)?{_className:r,canvasBackground:i,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:m,onGetAnnotationsSuccess:v,onGetStructTreeError:S,onGetStructTreeSuccess:w,onGetTextError:N,onGetTextSuccess:E,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:j,onRenderError:k,onRenderSuccess:T,onRenderTextLayerError:P,onRenderTextLayerSuccess:R,page:ee,pageIndex:ce,pageNumber:fe,renderForms:$,renderTextLayer:B,rotate:ve,scale:Oe}:null,[r,i,d,h,m,v,S,w,N,E,C,j,k,T,P,R,ee,ce,fe,$,B,ve,Oe]),ie=L.useMemo(()=>nL(G,()=>ee&&(Oe?CS(ee,Oe):void 0)),[G,ee,Oe]),oe=`${ce}@${Oe}/${ve}`;function re(){switch(D){case"custom":return He(u,'renderMode was set to "custom", but no customRenderer was passed.'),o.jsx(u,{},`${oe}_custom`);case"none":return null;case"canvas":default:return o.jsx(Qee,{canvasRef:a},`${oe}_canvas`)}}function Ne(){return B?o.jsx(Zee,{},`${oe}_text`):null}function Ae(){return q?o.jsx(ete,{},`${oe}_annotations`):null}function je(){return o.jsxs(cL.Provider,{value:ne,children:[re(),Ne(),Ae(),l]})}function Nn(){return fe?U===null||ee===void 0||ee===null?o.jsx(Mc,{type:"loading",children:typeof x=="function"?x():x}):U===!1||ee===!1?o.jsx(Mc,{type:"error",children:typeof f=="function"?f():f}):je():o.jsx(Mc,{type:"no-data",children:typeof b=="function"?b():b})}return o.jsx("div",Object.assign({className:f1(r,c),"data-page-number":fe,ref:lL(y,ge),style:{"--scale-factor":`${Oe}`,backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ie,{children:Nn()}))}Dee();VA.workerSrc="pdf.worker.mjs";VA.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${tL}/pdf.worker.min.js`;function rte({url:n,onClose:e}){const[t,r]=L.useState(null),[s,i]=L.useState(1),[a,l]=L.useState(1),[c,u]=L.useState(!0),d=({numPages:m})=>{r(m),u(!1)},h=m=>{i(v=>{const S=v+m;return Math.min(Math.max(1,S),t)})},f=()=>h(-1),p=()=>h(1),y=()=>l(m=>Math.min(m+.2,3)),x=()=>l(m=>Math.max(m-.2,.6)),b=()=>{const m=document.createElement("a");m.href=n,m.download=n.substring(n.lastIndexOf("/")+1),m.target="_blank",document.body.appendChild(m),m.click(),document.body.removeChild(m)};return o.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex flex-col",children:[o.jsxs("div",{className:"bg-gray-800 p-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex space-x-4 items-center",children:[o.jsx("button",{onClick:e,className:"text-white hover:text-gray-300",children:o.jsx(js,{size:24})}),o.jsx("h3",{className:"text-white font-medium",children:"PDF Viewer"})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("button",{onClick:x,className:"text-white hover:text-gray-300",children:o.jsx(tI,{size:20})}),o.jsxs("span",{className:"text-white",children:[Math.round(a*100),"%"]}),o.jsx("button",{onClick:y,className:"text-white hover:text-gray-300",children:o.jsx(eI,{size:20})}),o.jsx("button",{onClick:b,className:"text-white hover:text-gray-300",children:o.jsx(Tx,{size:20})})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto bg-gray-900 flex justify-center p-4",children:[c&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(Yt,{size:"large"})}),o.jsx(Hee,{file:n,onLoadSuccess:d,onLoadError:m=>{console.error("Error loading PDF:",m),u(!1)},loading:o.jsx(Yt,{size:"large"}),children:o.jsx(nte,{pageNumber:s,scale:a,renderTextLayer:!1,renderAnnotationLayer:!1})})]}),t>1&&o.jsxs("div",{className:"bg-gray-800 p-4 flex justify-center items-center space-x-6",children:[o.jsx("button",{disabled:s<=1,onClick:f,className:`text-white ${s<=1?"opacity-50 cursor-not-allowed":"hover:text-gray-300"}`,children:o.jsx(ON,{size:24})}),o.jsxs("p",{className:"text-white",children:["Page ",s," of ",t]}),o.jsx("button",{disabled:s>=t,onClick:p,className:`text-white ${s>=t?"opacity-50 cursor-not-allowed":"hover:text-gray-300"}`,children:o.jsx(Tm,{size:24})})]})]})}function ste(){var C;const{courseId:n,moduleId:e,lessonId:t}=Ai(),r=Ue(),[s,i]=L.useState(null),[a,l]=L.useState(null),[c,u]=L.useState(null),[d,h]=L.useState(!0),[f,p]=L.useState(null);L.useState(!1),L.useState(null);const[y,x]=L.useState(!1),[b,m]=L.useState(null),[v,S]=L.useState(null),[w,N]=L.useState(!1);if(L.useEffect(()=>{(async()=>{try{const T=await(await fetch(`${de}/api/courses/${n}`)).json();if(T.success){i(T.course);const P=T.course.modules.find(U=>U._id===e);if(!P){console.error("Module not found");return}l(P);const R=P.lessons.find(U=>U._id===t);if(!R){console.error("Lesson not found");return}u(R);const M=P.lessons.findIndex(U=>U._id===t),V=T.course.modules.findIndex(U=>U._id===e);if(M<P.lessons.length-1)S({moduleId:P._id,lesson:P.lessons[M+1]});else if(V<T.course.modules.length-1){const U=T.course.modules[V+1];U.lessons.length>0&&S({moduleId:U._id,lesson:U.lessons[0]})}}}catch(k){console.error("Error fetching lesson:",k)}finally{h(!1)}})()},[n,e,t]),L.useEffect(()=>{(async()=>{try{const k=localStorage.getItem("token");if(!k)return;const P=await(await fetch(`${de}/api/courses/check-access/${n}`,{headers:{Authorization:`Bearer ${k}`}})).json();P.success&&P.isPurchased&&N(!0)}catch(k){console.error("Error checking purchase status:",k)}})()},[n]),d||!c)return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef] flex flex-col items-center justify-center",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading lesson..."})]});const E=j=>{try{let k="";return j.includes("youtu.be")?k=j.split("youtu.be/")[1]:j.includes("watch?v=")?k=j.split("watch?v=")[1]:j.includes("youtube.com/embed/")&&(k=j.split("youtube.com/embed/")[1]),k=k.split("&")[0],`https://www.youtube.com/embed/${k}`}catch(k){return console.error("Error formatting YouTube URL:",k),""}},_=async(j,k,T)=>{const P=localStorage.getItem("token");if(T&&!P){r("/login");return}if(!T){r(`/course/${n}/modules/${j}/lessons/${k}`);return}try{const R=await fetch(`${de}/api/enrollments/${n}`,{headers:{Authorization:`Bearer ${P}`}});if(R.status===404){console.log("Attempted to access locked content without enrollment"),r(`/course/${n}`);return}if(!R.ok)throw new Error(`Failed to verify enrollment: ${R.status}`);const M=await R.json();M.success&&M.enrollment.status==="completed"?r(`/course/${n}/modules/${j}/lessons/${k}`):r(`/course/${n}`)}catch(R){console.error("Error checking enrollment:",R),r(`/course/${n}`)}},A=async j=>{try{return(await fetch(j,{method:"HEAD"})).ok}catch(k){return console.error("Error checking file:",k),!1}};return o.jsxs(o.Fragment,{children:[o.jsx(vr,{}),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef]",children:[o.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[o.jsxs("button",{onClick:()=>r(`/course/${n}`),className:"flex items-center  transition-colors",children:[o.jsx(yr,{className:"w-5 h-5 mr-2"}),"Back to Course"]}),o.jsxs("button",{className:"flex items-center  hover:text-gray-900 transition-colors",children:[o.jsx(Dg,{className:"w-5 h-5 mr-2"}),"Mark as Complete"]})]}),o.jsx("div",{className:"container mx-auto px-4 pb-8",children:o.jsxs("div",{className:"max-w-[1400px] mx-auto grid lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[c.videoUrl&&o.jsx("div",{className:"aspect-w-16 aspect-h-9",children:o.jsx("iframe",{src:E(c.videoUrl),className:"w-full h-full",allowFullScreen:!0})}),o.jsxs("div",{className:"p-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:c.title}),c.description&&o.jsx("p",{className:"text-gray-600 mb-6",children:c.description}),o.jsx("div",{className:"space-y-8",children:(C=c.sections)==null?void 0:C.map((j,k)=>{var T,P;return o.jsxs("div",{className:"border-t pt-6 first:border-t-0 first:pt-0",children:[j.type==="text"&&o.jsx("div",{className:"prose max-w-none",children:o.jsx("p",{className:"text-gray-700",children:j.content.text})}),j.type==="code"&&o.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gray-100 px-4 py-2 flex justify-between items-center",children:o.jsx("span",{className:"text-sm font-medium text-gray-600",children:j.content.language})}),o.jsx(W5,{value:j.content.code,language:j.content.language,readOnly:!0})]}),j.type==="image"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("img",{src:j.content.url,alt:j.content.caption||"Lesson image",className:"rounded-lg w-full",onClick:()=>p(j.content)}),j.content.caption&&o.jsx("p",{className:"text-sm text-gray-500 text-center",children:j.content.caption})]}),j.type==="file"&&o.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-6",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[o.jsx(a4,{className:"w-5 h-5 mr-2 text-blue-600"}),"Downloadable Resource"]}),o.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:j.content.name}),o.jsx("p",{className:"text-sm text-gray-600",children:j.content.size})]}),o.jsx("div",{className:"flex space-x-2",children:j.content.url&&o.jsxs(o.Fragment,{children:[(((T=j.content.type)==null?void 0:T.includes("pdf"))||((P=j.content.name)==null?void 0:P.toLowerCase().endsWith(".pdf")))&&o.jsxs("button",{onClick:async()=>{console.log("Opening PDF:",j.content.url),await A(j.content.url)?(m(j.content.url),x(!0)):alert("The file could not be found. It may have been moved or deleted.")},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 flex items-center",children:[o.jsx(Cl,{className:"w-4 h-4 mr-2 bg-black"}),"View PDF"]}),o.jsxs("a",{href:j.content.url,download:j.content.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",onClick:async R=>{await A(j.content.url)||(R.preventDefault(),alert("The file could not be found. It may have been moved or deleted."))},children:[o.jsx(Tx,{className:"w-4 h-4 mr-2"}),"Download"]})]})})]})]})})]},k)})})]})]})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"sticky top-4 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Content"}),o.jsx("div",{className:"space-y-4",children:s==null?void 0:s.modules.map((j,k)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-gray-700 font-medium p-2 hover:bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm text-gray-500",children:["Module ",k+1]}),o.jsx("span",{className:"text-gray-900",children:j.title})]}),j.duration&&o.jsx("span",{className:"text-sm text-gray-500",children:j.duration})]}),o.jsx("div",{className:"pl-6 space-y-1",children:j.lessons.map(T=>o.jsxs("button",{onClick:()=>_(j._id,T._id,T.isLocked),className:`w-full flex items-center text-left p-2 rounded-lg transition-colors ${T._id===t?"bg-blue-50 text-blue-600":"bg-blue-50 hover:bg-gray-50 text-gray-600"}`,children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center",children:[T._id===t&&o.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),o.jsx("span",{className:`truncate ${T._id===t?"font-medium":""}`,children:T.title})]}),T.duration&&o.jsx("span",{className:"text-sm text-gray-500 mt-0.5",children:T.duration})]}),T.isLocked&&!w&&o.jsx("span",{className:"ml-2 text-gray-400",children:o.jsx(J0,{className:"w-4 h-4"})})]},T._id))})]},j._id))})]})}),v&&o.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Next Up"}),o.jsx("button",{onClick:()=>_(v.moduleId,v.lesson._id,v.lesson.isLocked),className:"w-full text-left",children:o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Next Lesson"}),o.jsx(Nl,{className:"w-4 h-4 text-gray-400"})]}),o.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:v.lesson.title}),v.lesson.duration&&o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Duration: ",v.lesson.duration]})]})})]})})]})})]})})]}),f&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",children:o.jsxs("div",{className:"relative max-w-4xl w-full",children:[o.jsx("button",{onClick:()=>p(null),className:"absolute -top-12 right-0 text-white hover:text-gray-300",children:o.jsx(js,{className:"w-8 h-8"})}),o.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[o.jsx("img",{src:f.url,alt:f.caption,className:"w-full h-auto"}),f.caption&&o.jsx("div",{className:"p-4",children:o.jsx("p",{className:"text-gray-700",children:f.caption})})]})]})}),y&&o.jsx(rte,{url:b,onClose:()=>{x(!1),m(null)}})]})}function ite(){const[n,e]=L.useState("question"),[t,r]=L.useState({name:"",email:"",subject:"",message:"",type:"question"}),[s,i]=L.useState(!1),[a,l]=L.useState(!1),c=[{id:"question",label:"Question",icon:RN},{id:"help",label:"Help",icon:ED},{id:"suggestion",label:"Suggestion",icon:FD},{id:"feedback",label:"Feedback",icon:zD},{id:"issue",label:"Report Issue",icon:i4}],u=async h=>{h.preventDefault(),i(!0);try{(await(await fetch(`${de}/api/help`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()).success&&(l(!0),r({name:"",email:"",subject:"",message:"",type:n}),setTimeout(()=>l(!1),5e3))}catch(f){console.error("Error submitting form:",f)}finally{i(!1)}},d=h=>{r({...t,[h.target.name]:h.target.value,type:n})};return o.jsxs(o.Fragment,{children:[o.jsx(vr,{}),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef]",children:[o.jsx("div",{className:"bg-gradient-to-r from-[#333333] to-[#111827] text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[o.jsx("h1",{className:"text-5xl font-bold text-center mb-6",children:"How Can We Help You?"}),o.jsx("p",{className:"text-xl text-center max-w-2xl mx-auto text-gray-100",children:"We're here to help and answer any question you might have"})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:c.map(h=>{const f=h.icon;return o.jsxs("button",{onClick:()=>e(h.id),className:`flex flex-col items-center p-4 rounded-lg transition-all ${n===h.id?"bg-[#111827] text-white":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(f,{className:"w-6 h-6 mb-2"}),o.jsx("span",{className:"text-sm",children:h.label})]},h.id)})}),o.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),o.jsx("input",{type:"text",name:"name",value:t.name,onChange:d,required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#111827] focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:t.email,onChange:d,required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#111827] focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),o.jsx("input",{type:"text",name:"subject",value:t.subject,onChange:d,required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#111827] focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),o.jsx("textarea",{name:"message",value:t.message,onChange:d,required:!0,rows:6,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#111827] focus:border-transparent"})]}),o.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#111827] text-white py-3 rounded-lg hover:bg-[#1f2937] transition-colors flex items-center justify-center space-x-2",children:s?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):o.jsxs(o.Fragment,{children:[o.jsx(UD,{className:"w-5 h-5"}),o.jsx("span",{children:"Send Message"})]})}),a&&o.jsx("div",{className:"bg-green-100 text-green-700 px-4 py-3 rounded-lg",children:"Your message has been sent successfully!"})]})]})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact Information"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx(LN,{className:"w-6 h-6 text-[#111827] mt-1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Email"}),o.jsx("p",{className:"text-gray-600",children:"support@tdc.com"})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx(Cx,{className:"w-6 h-6 text-[#111827] mt-1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Phone"}),o.jsx("p",{className:"text-gray-600",children:"+1 (555) 123-4567"})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx(Ig,{className:"w-6 h-6 text-[#111827] mt-1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Address"}),o.jsxs("p",{className:"text-gray-600",children:["123 Learning Street",o.jsx("br",{}),"Education City, ED 12345",o.jsx("br",{}),"United States"]})]})]})]})]})})]})})]})]})}function ate(){const n=Ue(),[e,t]=L.useState({title:"",description:"",duration:"4 months",students:0,reviews:0,rating:4.9,instructor:{name:"",title:"",image:""},resources:[{type:"video",count:56},{type:"exercise",count:30},{type:"quiz",count:15},{type:"download",count:10}],modules:[],level:"Intermediate",category:"Web Development",image:"",prerequisites:{system:[],skills:[]},courseIncludes:[{icon:"",value:"56",label:"videos"},{icon:"",value:"30",label:"exercises"},{icon:"",value:"15",label:"quizzes"},{icon:"",value:"10",label:"downloads"}]}),[r,s]=L.useState(!1);L.useState(!1);const[i,a]=L.useState(!1),[l,c]=L.useState(!1),[u,d]=L.useState(null),[h,f]=L.useState({title:"",description:"",duration:"",lessons:[]}),[p,y]=L.useState({title:"",description:"",duration:"",videoUrl:"",content:{text:"",code:""},images:[],downloadableFiles:[],isLocked:!0}),[x,b]=L.useState(null),[m,v]=L.useState("javascript"),S=[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"cpp",label:"C++"},{value:"csharp",label:"C#"},{value:"php",label:"PHP"},{value:"ruby",label:"Ruby"},{value:"swift",label:"Swift"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"sql",label:"SQL"},{value:"html",label:"HTML"},{value:"css",label:"CSS"},{value:"typescript",label:"TypeScript"}],w=async A=>{A.preventDefault(),s(!0);try{const C=localStorage.getItem("adminToken"),j=await fetch(`${de}/api/courses`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(e)}),k=await j.json();if(!j.ok)throw new Error(k.message||"Failed to create course");k.success&&(console.log("Course created successfully:",k.course),n("/admin/course"))}catch(C){console.error("Error creating course:",C)}finally{s(!1)}},N=()=>{h.title.trim()&&(t({...e,modules:[...e.modules,{...h,lessons:[]}]}),f({title:"",description:"",duration:"",lessons:[]}),a(!1))},E=()=>{p.title.trim()&&u!==null&&(t({...e,modules:e.modules.map((A,C)=>C===u?{...A,lessons:[...A.lessons,p]}:A)}),y({title:"",description:"",duration:"",videoUrl:"",content:{text:"",code:""},images:[],downloadableFiles:[],isLocked:!0}),c(!1))},_=A=>{d(A),c(!0)};return o.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-white p-8",children:[o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("button",{onClick:()=>n("/admin/course"),className:"flex items-center text-gray-300 hover:text-white mb-8",children:[o.jsx(yr,{className:"w-5 h-5 mr-2"}),"Back to Courses"]}),o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Create New Course"}),o.jsxs("form",{onSubmit:w,className:"space-y-8",children:[o.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-xl",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Basic Information"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Course Title"}),o.jsx("input",{type:"text",value:e.title,onChange:A=>t({...e,title:A.target.value}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg",placeholder:"e.g., Advanced JavaScript & React Development"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),o.jsx("textarea",{value:e.description,onChange:A=>t({...e,description:A.target.value}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg h-32",placeholder:"Course description..."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Duration"}),o.jsx("input",{type:"text",value:e.duration,onChange:A=>t({...e,duration:A.target.value}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg",placeholder:"e.g., 4 months"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Number of Students"}),o.jsx("input",{type:"number",value:e.students,onChange:A=>t({...e,students:parseInt(A.target.value)}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Level"}),o.jsxs("select",{value:e.level,onChange:A=>t({...e,level:A.target.value}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg",children:[o.jsx("option",{value:"Beginner",children:"Beginner"}),o.jsx("option",{value:"Intermediate",children:"Intermediate"}),o.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),o.jsxs("select",{value:e.category,onChange:A=>t({...e,category:A.target.value}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg",children:[o.jsx("option",{value:"Web Development",children:"Web Development"}),o.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),o.jsx("option",{value:"Data Science",children:"Data Science"})]})]})]})]})]}),o.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-xl",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Course Thumbnail"}),o.jsx("input",{type:"text",value:e.image,onChange:A=>t({...e,image:A.target.value}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg",placeholder:"Enter image URL"})]}),o.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-xl",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Instructor Information"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name"}),o.jsx("input",{type:"text",value:e.instructor.name,onChange:A=>t({...e,instructor:{...e.instructor,name:A.target.value}}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg",placeholder:"Instructor name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title/Experience"}),o.jsx("input",{type:"text",value:e.instructor.title,onChange:A=>t({...e,instructor:{...e.instructor,title:A.target.value}}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg",placeholder:"e.g., Lead Frontend Developer"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Profile Image URL"}),o.jsx("input",{type:"text",value:e.instructor.image,onChange:A=>t({...e,instructor:{...e.instructor,image:A.target.value}}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg",placeholder:"https://example.com/instructor-image.jpg"}),e.instructor.image&&o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:e.instructor.image,alt:"Instructor preview",className:"w-16 h-16 rounded-full object-cover",onError:A=>{A.target.src="/default-avatar.jpg",A.target.onerror=null}})})]})]})]}),o.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-xl",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Course Resources"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:e.resources.map((A,C)=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-2",children:[A.type.charAt(0).toUpperCase()+A.type.slice(1),"s"]}),o.jsx("input",{type:"number",value:A.count,onChange:j=>{const k=[...e.resources];k[C].count=parseInt(j.target.value),t({...e,resources:k})},className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg"})]},A.type))})]}),o.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Course Curriculum"}),o.jsxs("button",{type:"button",onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-700",children:[o.jsx(Ra,{className:"w-5 h-5 mr-2"}),"Add Module"]})]}),o.jsx("div",{className:"space-y-4",children:e.modules.map((A,C)=>o.jsxs("div",{className:"bg-[#334155] rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer hover:bg-[#4a5568]",onClick:()=>b(x===C?null:C),children:[o.jsx("h3",{className:"text-white font-medium",children:A.title}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:j=>{j.stopPropagation(),_(C)},className:"text-blue-400 hover:text-blue-300",children:o.jsx(Ra,{className:"w-4 h-4"})}),x===C?o.jsx(jD,{className:"w-4 h-4 text-gray-400"}):o.jsx(s4,{className:"w-4 h-4 text-gray-400"})]})]}),x===C&&o.jsxs("div",{className:"p-4 bg-[#5a657a]",children:[o.jsx("p",{className:"text-gray-400 mb-2",children:A.description}),o.jsx("div",{className:"space-y-2",children:A.lessons.map((j,k)=>o.jsxs("div",{className:"bg-[#6b7280] p-3 rounded flex justify-between items-center",children:[o.jsx("span",{className:"text-white",children:j.title}),o.jsx("span",{className:"text-gray-400",children:j.duration})]},k))})]})]},C))})]}),o.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Yt,{size:"small"}),o.jsx("span",{className:"ml-2",children:"Creating Course..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Px,{className:"w-5 h-5 mr-2"}),"Save Course"]})})]})]}),o.jsx(py,{isOpen:i,onClose:()=>a(!1),title:"Add New Module",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Module Title",value:h.title,onChange:A=>f(C=>({...C,title:A.target.value})),className:"w-full p-2 bg-gray-700 text-white rounded"}),o.jsx("textarea",{placeholder:"Module Description",value:h.description,onChange:A=>f(C=>({...C,description:A.target.value})),className:"w-full p-2 bg-gray-700 text-white rounded h-24"}),o.jsx("input",{type:"text",placeholder:"Module Duration (e.g., 2 weeks)",value:h.duration,onChange:A=>f(C=>({...C,duration:A.target.value})),className:"w-full p-2 bg-gray-700 text-white rounded"}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500",children:"Cancel"}),o.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add Module"})]})]})}),o.jsx(py,{isOpen:l,onClose:()=>c(!1),title:"Add New Lesson",children:o.jsxs("div",{className:"max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"space-y-6 p-6",children:[o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),o.jsx("input",{type:"text",placeholder:"Lesson Title",value:p.title,onChange:A=>y(C=>({...C,title:A.target.value})),className:"w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),o.jsx("textarea",{placeholder:"Lesson Description",value:p.description,onChange:A=>y(C=>({...C,description:A.target.value})),className:"w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 h-24"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Duration (e.g., 15 mins)",value:p.duration,onChange:A=>y(C=>({...C,duration:A.target.value})),className:"w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),o.jsx("input",{type:"url",placeholder:"Video URL",value:p.videoUrl,onChange:A=>y(C=>({...C,videoUrl:A.target.value})),className:"w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Lesson Content"}),o.jsx("textarea",{placeholder:"Text Content",value:p.content.text,onChange:A=>y(C=>({...C,content:{...C.content,text:A.target.value}})),className:"w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 h-32"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Code Example"}),o.jsx("select",{value:m,onChange:A=>v(A.target.value),className:"bg-gray-700 text-white rounded-lg border border-gray-600 px-3 py-1 text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:S.map(A=>o.jsx("option",{value:A.value,children:A.label},A.value))})]}),o.jsx(W5,{value:p.content.code,onChange:A=>y(C=>({...C,content:{...C.content,code:A}})),language:m,className:"h-48 rounded-lg overflow-hidden"})]})]}),o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Media & Resources"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Images"}),o.jsx("div",{className:"flex flex-wrap gap-3 mb-3",children:p.images.map((A,C)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:A.url,alt:"",className:"w-24 h-24 object-cover rounded-lg"}),o.jsx("button",{onClick:()=>{y(j=>({...j,images:j.images.filter((k,T)=>T!==C)}))},className:"absolute -top-2 -right-2 bg-red-500 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(js,{className:"w-4 h-4"})})]},C))}),o.jsx("input",{type:"file",accept:"image/*",onChange:async A=>{var j;const C=(j=A.target.files)==null?void 0:j[0];if(C){const k=await gd(C,"image");y(T=>({...T,images:[...T.images,{url:k,caption:""}]}))}},className:"w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Downloadable Files"}),o.jsx("div",{className:"space-y-2 mb-3",children:p.downloadableFiles.map((A,C)=>o.jsxs("div",{className:"flex justify-between items-center bg-gray-700 p-3 rounded-lg",children:[o.jsx("span",{className:"text-sm",children:A.name}),o.jsx("button",{onClick:()=>{y(j=>({...j,downloadableFiles:j.downloadableFiles.filter((k,T)=>T!==C)}))},className:"text-red-400 hover:text-red-300 transition-colors",children:o.jsx(js,{className:"w-4 h-4"})})]},C))}),o.jsx("input",{type:"file",onChange:async A=>{var j;const C=(j=A.target.files)==null?void 0:j[0];if(C){const k=await gd(C,"raw");y(T=>({...T,downloadableFiles:[...T.downloadableFiles,{url:k,name:C.name,size:`${(C.size/(1024*1024)).toFixed(2)} MB`}]}))}},className:"w-full p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Lesson Settings"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:p.isLocked,onChange:A=>y(C=>({...C,isLocked:A.target.checked})),className:"w-5 h-5 rounded bg-gray-700 border-gray-600 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{className:"text-gray-300",children:"Lock this lesson (Premium content)"})]})]})]}),o.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex justify-end space-x-3 sticky bottom-0",children:[o.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Lesson"})]})]})})]})}function ote(){const[n,e]=L.useState([]),[t,r]=L.useState(!0),[s,i]=L.useState(null),a=Ue();L.useEffect(()=>{l()},[]);const l=async()=>{try{const d=await(await fetch(`${de}/api/courses`,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}})).json();d.success&&e(d.courses)}catch(u){console.error("Error fetching courses:",u)}finally{r(!1)}},c=async u=>{if(window.confirm("Are you sure you want to delete this course?")){i(u);try{const d=localStorage.getItem("adminToken"),f=await(await fetch(`${de}/api/courses/${u}`,{method:"DELETE",headers:{Authorization:`Bearer ${d}`}})).json();if(f.success)e(n.filter(p=>p._id!==u));else throw new Error(f.message)}catch(d){console.error("Error deleting course:",d),alert("Failed to delete course")}finally{i(null)}}};return t?o.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-white flex flex-col items-center justify-center",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{className:"mt-4 text-gray-300 font-medium",children:"Loading courses..."})]}):o.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-gray-300 hover:text-white",children:[o.jsx(yr,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]}),o.jsxs("button",{onClick:()=>a("/admin/courses/create"),className:"flex items-center px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(Ra,{className:"w-5 h-5 mr-2"}),"Create New Course"]})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-700",children:o.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[o.jsx(Jn,{className:"w-6 h-6 mr-2"}),"Manage Courses"]})}),n.length===0?o.jsx("div",{className:"p-8 text-center text-gray-400",children:"No courses found. Create your first course!"}):o.jsx("div",{className:"divide-y divide-gray-700",children:n.map(u=>{var d;return o.jsx("div",{className:"p-6 hover:bg-gray-750",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center",children:o.jsx(Jn,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg",children:u.title}),o.jsxs("p",{className:"text-gray-400 text-sm",children:[((d=u.modules)==null?void 0:d.length)||0," modules  ",u.level]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>a(`/admin/courses/view/${u._id}`),className:"p-2 text-gray-400 hover:text-white transition-colors",title:"View course",children:o.jsx(Cl,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>a(`/admin/courses/edit/${u._id}`),className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Edit course",children:o.jsx(Ox,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>c(u._id),disabled:s===u._id,className:"p-2 text-gray-400 hover:text-red-500 transition-colors disabled:opacity-50",title:"Delete course",children:s===u._id?o.jsx(Yt,{size:"small"}):o.jsx(Lx,{className:"w-5 h-5"})})]})]})},u._id)})})]})]})})}function lte(){const{id:n}=Ai(),e=Ue(),[t,r]=L.useState(null),[s,i]=L.useState(!0),[a,l]=L.useState(0);L.useEffect(()=>{c()},[n]);const c=async()=>{try{const u=localStorage.getItem("adminToken"),h=await(await fetch(`${de}/api/courses/${n}`,{headers:{Authorization:`Bearer ${u}`}})).json();h.success&&r(h.course)}catch(u){console.error("Error fetching course details:",u)}finally{i(!1)}};return s||!t?o.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-white flex flex-col items-center justify-center",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{className:"mt-4 text-gray-300 font-medium",children:"Loading course details..."})]}):o.jsx("div",{className:"min-h-screen bg-[#0f172a] text-white p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("button",{onClick:()=>e("/admin/courses"),className:"flex items-center text-gray-300 hover:text-white mb-8",children:[o.jsx(yr,{className:"w-5 h-5 mr-2"}),"Back to Courses"]}),o.jsxs("div",{className:"bg-[#1e293b] rounded-xl p-8 mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:t.title}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"px-4 py-2 bg-blue-600 rounded-lg",children:t.level}),o.jsx("span",{className:"px-4 py-2 bg-green-600 rounded-lg",children:t.category})]})]}),o.jsx("p",{className:"text-gray-300 text-lg mb-6",children:t.description}),o.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-[#334155] p-4 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:t.duration}),o.jsx("div",{className:"text-gray-400",children:"Duration"})]}),o.jsxs("div",{className:"bg-[#334155] p-4 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:t.students}),o.jsx("div",{className:"text-gray-400",children:"Students"})]}),o.jsxs("div",{className:"bg-[#334155] p-4 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:t.rating}),o.jsx("div",{className:"text-gray-400",children:"Rating"})]}),o.jsxs("div",{className:"bg-[#334155] p-4 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:t.reviews}),o.jsx("div",{className:"text-gray-400",children:"Reviews"})]})]})]}),o.jsxs("div",{className:"bg-[#1e293b] rounded-xl p-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Course Content"}),o.jsx("div",{className:"space-y-4",children:t.modules.map((u,d)=>o.jsxs("div",{className:"bg-[#334155] rounded-xl overflow-hidden",children:[o.jsx("div",{className:"p-6 cursor-pointer hover:bg-[#3e4a61] transition-colors",onClick:()=>l(a===d?null:d),children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Module ",d+1,": ",u.title]}),o.jsx("p",{className:"text-gray-400",children:u.duration})]}),o.jsx(Tm,{className:`w-5 h-5 transition-transform ${a===d?"transform rotate-90":""}`})]})}),a===d&&o.jsx("div",{className:"border-t border-[#1e293b]",children:o.jsx("div",{className:"p-6 space-y-3",children:u.lessons.map((h,f)=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1e293b] rounded-lg",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(_D,{className:"w-5 h-5 text-gray-400 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:h.title}),o.jsx("div",{className:"text-sm text-gray-400",children:h.duration})]})]}),h.isLocked&&o.jsx("div",{className:"text-gray-400",children:" Locked"})]},f))})})]},d))})]})]})})}function cte(){const{id:n}=Ai(),e=Ue(),[t,r]=L.useState(!0),[s,i]=L.useState(!1),[a,l]=L.useState(null);L.useEffect(()=>{c()},[n]);const c=async()=>{try{const h=localStorage.getItem("adminToken"),p=await(await fetch(`${de}/api/courses/${n}`,{headers:{Authorization:`Bearer ${h}`}})).json();p.success&&l(p.course)}catch(h){console.error("Error fetching course:",h)}finally{r(!1)}},u=async h=>{h.preventDefault(),i(!0);try{const f=localStorage.getItem("adminToken"),y=await(await fetch(`${de}/api/courses/${n}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(a)})).json();if(y.success)alert("Course updated successfully!"),e("/admin/courses");else throw new Error(y.message||"Failed to update course")}catch(f){console.error("Error updating course:",f),alert(f.message||"Failed to update course")}finally{i(!1)}},d=h=>{try{let f="";return h.includes("youtu.be")?f=h.split("youtu.be/")[1]:h.includes("watch?v=")?f=h.split("watch?v=")[1]:h.includes("youtube.com/embed/")&&(f=h.split("youtube.com/embed/")[1]),f=f.split("&")[0],`https://www.youtube.com/embed/${f}`}catch(f){return console.error("Error formatting YouTube URL:",f),h}};return t||!a?o.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-white flex flex-col items-center justify-center",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{className:"mt-4 text-gray-300 font-medium",children:"Loading course..."})]}):o.jsx("div",{className:"min-h-screen bg-[#0f172a] text-white p-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("button",{onClick:()=>e("/admin/courses"),className:"flex items-center text-gray-300 hover:text-white mb-8",children:[o.jsx(yr,{className:"w-5 h-5 mr-2"}),"Back to Courses"]}),o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Edit Course"}),o.jsxs("form",{onSubmit:u,className:"space-y-8",children:[o.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-xl",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Basic Information"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Course Title"}),o.jsx("input",{type:"text",value:a.title,onChange:h=>l({...a,title:h.target.value}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),o.jsx("textarea",{value:a.description,onChange:h=>l({...a,description:h.target.value}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg h-32"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Level"}),o.jsxs("select",{value:a.level,onChange:h=>l({...a,level:h.target.value}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg",children:[o.jsx("option",{value:"Beginner",children:"Beginner"}),o.jsx("option",{value:"Intermediate",children:"Intermediate"}),o.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),o.jsxs("select",{value:a.category,onChange:h=>l({...a,category:h.target.value}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg",children:[o.jsx("option",{value:"Web Development",children:"Web Development"}),o.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),o.jsx("option",{value:"Data Science",children:"Data Science"}),o.jsx("option",{value:"Machine Learning",children:"Machine Learning"})]})]})]})]})]}),o.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-xl",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Instructor Information"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name"}),o.jsx("input",{type:"text",value:a.instructor.name,onChange:h=>l({...a,instructor:{...a.instructor,name:h.target.value}}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),o.jsx("input",{type:"text",value:a.instructor.title,onChange:h=>l({...a,instructor:{...a.instructor,title:h.target.value}}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Profile Image URL"}),o.jsx("input",{type:"text",value:a.instructor.image,onChange:h=>l({...a,instructor:{...a.instructor,image:h.target.value}}),className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg"})]})]})]}),o.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Course Content"}),o.jsxs("button",{type:"button",onClick:()=>{const h=[...a.modules,{title:"",duration:"",lessons:[]}];l({...a,modules:h})},className:"flex items-center px-4 py-2 bg-green-600 rounded-lg hover:bg-green-700",children:[o.jsx(Ra,{className:"w-5 h-5 mr-2"}),"Add Module"]})]}),o.jsx("div",{className:"space-y-6",children:a.modules.map((h,f)=>o.jsxs("div",{className:"bg-[#334155] p-6 rounded-xl",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Module ",f+1]}),o.jsx("button",{type:"button",onClick:()=>{const p=a.modules.filter((y,x)=>x!==f);l({...a,modules:p})},className:"text-red-500 hover:text-red-400",children:o.jsx(cg,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsx("input",{type:"text",placeholder:"Module Title",value:h.title,onChange:p=>{const y=[...a.modules];y[f].title=p.target.value,l({...a,modules:y})},className:"bg-[#1e293b] text-white px-4 py-2 rounded-lg"}),o.jsx("input",{type:"text",placeholder:"Duration",value:h.duration,onChange:p=>{const y=[...a.modules];y[f].duration=p.target.value,l({...a,modules:y})},className:"bg-[#1e293b] text-white px-4 py-2 rounded-lg"})]}),o.jsxs("div",{className:"space-y-4",children:[h.lessons.map((p,y)=>{var x,b,m,v;return o.jsxs("div",{className:"bg-[#1e293b] p-4 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h4",{className:"font-medium",children:["Lesson ",y+1]}),o.jsx("button",{type:"button",onClick:()=>{const S=[...a.modules];S[f].lessons=h.lessons.filter((w,N)=>N!==y),l({...a,modules:S})},className:"text-red-500 hover:text-red-400",children:o.jsx(cg,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Lesson Title",value:p.title,onChange:S=>{const w=[...a.modules];w[f].lessons[y].title=S.target.value,l({...a,modules:w})},className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg"}),o.jsx("textarea",{placeholder:"Lesson Description",value:p.description,onChange:S=>{const w=[...a.modules];w[f].lessons[y].description=S.target.value,l({...a,modules:w})},className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg h-24"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Duration",value:p.duration,onChange:S=>{const w=[...a.modules];w[f].lessons[y].duration=S.target.value,l({...a,modules:w})},className:"bg-[#334155] text-white px-4 py-2 rounded-lg"}),o.jsx("input",{type:"text",placeholder:"Video URL",value:p.videoUrl,onChange:S=>{const w=[...a.modules];w[f].lessons[y].videoUrl=d(S.target.value),l({...a,modules:w})},className:"bg-[#334155] text-white px-4 py-2 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lesson Text Content"}),o.jsx("textarea",{value:((x=p.content)==null?void 0:x.text)||"",onChange:S=>{const w=[...a.modules];w[f].lessons[y].content||(w[f].lessons[y].content={}),w[f].lessons[y].content.text=S.target.value,l({...a,modules:w})},className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg h-32",placeholder:"Enter lesson content..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Code Snippet"}),o.jsx("textarea",{value:((b=p.content)==null?void 0:b.code)||"",onChange:S=>{const w=[...a.modules];w[f].lessons[y].content||(w[f].lessons[y].content={}),w[f].lessons[y].content.code=S.target.value,l({...a,modules:w})},className:"w-full bg-[#334155] text-white px-4 py-2 rounded-lg h-32 font-mono",placeholder:"Enter code snippet..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Images"}),o.jsxs("div",{className:"space-y-2",children:[(m=p.images)==null?void 0:m.map((S,w)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("img",{src:S.url,alt:S.caption,className:"w-20 h-20 object-cover rounded"}),o.jsx("input",{type:"text",value:S.caption,onChange:N=>{const E=[...a.modules];E[f].lessons[y].images[w].caption=N.target.value,l({...a,modules:E})},className:"flex-1 bg-[#334155] text-white px-4 py-2 rounded-lg",placeholder:"Image caption"}),o.jsx("button",{type:"button",onClick:()=>{const N=[...a.modules];N[f].lessons[y].images.splice(w,1),l({...a,modules:N})},className:"text-red-500 hover:text-red-400",children:o.jsx(cg,{className:"w-5 h-5"})})]},w)),o.jsx("input",{type:"file",accept:"image/*",onChange:async S=>{try{const w=S.target.files[0],N=await gd(w,"image"),E=[...a.modules];E[f].lessons[y].images||(E[f].lessons[y].images=[]),E[f].lessons[y].images.push({url:N,caption:""}),l({...a,modules:E})}catch(w){console.error("Error uploading image:",w),alert("Failed to upload image")}},className:"block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Downloadable Files"}),o.jsxs("div",{className:"space-y-2",children:[(v=p.downloadableFiles)==null?void 0:v.map((S,w)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:S.name}),o.jsx("span",{className:"text-gray-400",children:S.size}),o.jsx("button",{type:"button",onClick:()=>{const N=[...a.modules];N[f].lessons[y].downloadableFiles.splice(w,1),l({...a,modules:N})},className:"text-red-500 hover:text-red-400",children:o.jsx(cg,{className:"w-5 h-5"})})]},w)),o.jsx("input",{type:"file",onChange:async S=>{try{const w=S.target.files[0],N=await gd(w),E=[...a.modules];E[f].lessons[y].downloadableFiles||(E[f].lessons[y].downloadableFiles=[]),E[f].lessons[y].downloadableFiles.push({url:N,name:w.name,size:`${(w.size/(1024*1024)).toFixed(2)} MB`}),l({...a,modules:E})}catch(w){console.error("Error uploading file:",w),alert("Failed to upload file")}},className:"block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"})]})]})]})]},y)}),o.jsxs("button",{type:"button",onClick:()=>{const p=[...a.modules];p[f].lessons.push({title:"",description:"",duration:"",videoUrl:"",isLocked:!0}),l({...a,modules:p})},className:"flex items-center px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-700",children:[o.jsx(Ra,{className:"w-5 h-5 mr-2"}),"Add Lesson"]})]})]},f))})]}),o.jsx("button",{type:"submit",disabled:s,className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Yt,{size:"small"}),o.jsx("span",{className:"ml-2",children:"Saving Changes..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Px,{className:"w-5 h-5 mr-2"}),"Save Changes"]})})]})]})})}const ute="/assets/TDC-9e1ee6eb.mp4";function dte(){const n=L.useRef(null);L.useState(!1);const{scrollYProgress:e}=SA({target:n,offset:["start end","end start"]}),t=Rz(Pc(e,[0,1],[100,-100]),{stiffness:100,damping:30}),r=Pc(e,[0,.5,1],[0,1,0]),s=Pc(e,[0,.5,1],[.8,1,.8]),i={hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.2}}},a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},l=[{icon:o.jsx(Ca,{className:"w-6 h-6"}),title:"Hands-on Practice",description:"Real-world projects and exercises to build practical skills",color:"bg-gradient-to-r from-purple-500 to-indigo-600"},{icon:o.jsx(TD,{className:"w-6 h-6"}),title:"Live Environments",description:"Pre-configured development environments for instant coding",color:"bg-gradient-to-r from-emerald-500 to-teal-600"},{icon:o.jsx(n4,{className:"w-6 h-6"}),title:"Build your own server",description:"Personalized learning paths and intelligent feedback",color:"bg-gradient-to-r from-orange-500 to-pink-600"},{icon:o.jsx(kD,{className:"w-6 h-6"}),title:"Host Cloud Solution",description:"Learn cloud technologies with actual cloud environments",color:"bg-gradient-to-r from-blue-500 to-cyan-600"}],c=[{name:"Basic",price:"1,499",duration:"per month",features:["Access to basic lab environments","5 practice projects","Community support","Basic learning paths"]},{name:"Pro",price:"2,999",duration:"per month",features:["All Basic features","Unlimited lab environments","20 advanced projects","Priority support","Advanced learning paths","Certification preparation"],popular:!0},{name:"Enterprise",price:"Custom",duration:"per team",features:["All Pro features","Team collaboration","Custom projects","Dedicated support","Custom learning paths","Team analytics"]}],u=L.useRef(null),d=L.useRef(null),h=zz(d,{once:!1,amount:.3}),[f,p]=L.useState({email:"",phone:""}),[y,x]=L.useState(!1),b=async m=>{m.preventDefault(),x(!0);try{const S=await(await fetch(`${de}/api/trial-requests`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).json();S.success?(bb.success("Request submitted successfully!"),p({email:"",phone:""})):bb.error(S.message||"Something went wrong")}catch(v){console.error("Error:",v),bb.error("Failed to submit request")}finally{x(!1)}};return L.useEffect(()=>{if(u.current)if(h){const m=u.current.play();m!==void 0&&m.catch(v=>{console.error("Video play error:",v)})}else u.current.pause()},[h]),o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50",children:[o.jsx(vr,{}),o.jsxs("section",{className:"relative overflow-hidden pt-20 pb-12 lg:pt-[120px] lg:pb-[90px]",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ffde58]/10 via-white to-[#333333]/10"}),o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx(Y.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-[#ffde58]/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),o.jsx(Y.div,{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-[#333333]/10 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],rotate:[90,0,90]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsxs(Y.div,{variants:i,initial:"hidden",animate:"visible",className:"flex flex-wrap items-center -mx-4",children:[o.jsx(Y.div,{variants:a,className:"w-full lg:w-1/2 px-4",children:o.jsxs("div",{className:"mb-12 lg:mb-0 max-w-[570px]",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-[#ffde58]/20 to-[#ffde58]/40 text-[#333333] mb-6",children:[o.jsx(qD,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"The Future of Learning"})]}),o.jsxs(Y.h1,{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-[#333333] mb-6 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:["Welcome to",o.jsx("span",{className:"bg-gradient-to-r from-[#333333] to-[#666666] text-transparent bg-clip-text",children:" TDC"}),o.jsx("span",{className:"text-[#ffde58]",children:"Labs"})]}),o.jsx(Y.p,{className:"text-gray-600 text-xl mb-8 leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:"Experience the next generation of hands-on learning in Data Science, Analytics, and Cloud Computing with our immersive virtual labs."}),o.jsxs(Y.div,{className:"flex flex-wrap gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:[o.jsxs(Y.button,{whileHover:{scale:1.05,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"},whileTap:{scale:.95},className:"px-8 py-4 bg-gradient-to-r from-[#333333] to-[#444444] text-white rounded-lg font-medium flex items-center gap-2 hover:from-[#222222] hover:to-[#333333] transition-all duration-300",children:["Start Free Trial ",o.jsx(Nl,{className:"w-5 h-5"})]}),o.jsx(Y.button,{whileHover:{scale:1.05,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"},whileTap:{scale:.95},className:"px-8 py-4 bg-gradient-to-r from-[#ffde58] to-[#ffcd38] text-[#333333] rounded-lg font-medium hover:from-[#ffcd38] hover:to-[#ffbc18] transition-all duration-300",children:"Watch Demo"})]})]})}),o.jsx(Y.div,{className:"w-full lg:w-1/2 px-4",variants:a,children:o.jsxs(Y.div,{className:"relative",style:{scale:s},children:[o.jsx(Y.div,{className:"absolute -inset-0.5 bg-gradient-to-r from-[#ffde58] to-[#333333] rounded-2xl blur opacity-30",animate:{opacity:[.3,.15,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:"https://res.cloudinary.com/dqt4zammn/image/upload/v1734429178/api5kfd3wfdkakatqsbn.jpg",alt:"TDC Labs Interface",className:"rounded-2xl shadow-2xl"}),o.jsx(Y.div,{className:"absolute -bottom-6 -right-6 bg-white p-4 rounded-lg shadow-xl",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8},children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"w-5 h-5 text-[#ffde58]"}),o.jsx("span",{className:"font-medium text-[#333333]",children:"1000+ Active Learners"})]})})]})]})})]})})]}),o.jsxs("section",{className:"relative py-24 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[#0f172a]"}),o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 to-blue-500/10"}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-grid-white/[0.05]",style:{backgroundSize:"30px 30px"}})]}),o.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 via-blue-400 to-purple-400 bg-clip-text text-transparent mb-6",children:"Experience Our Development Environment"}),o.jsx("p",{className:"text-lg text-gray-400 leading-relaxed",children:"Get early access to our trial server and start building your projects in a professional development environment."})]}),o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl blur opacity-50 group-hover:opacity-75 transition duration-1000 group-hover:duration-200 animate-tilt"}),o.jsx("div",{className:"relative bg-gray-900 border border-gray-800 rounded-xl p-8",children:o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(LN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-5 w-5"}),o.jsx("input",{type:"email",required:!0,value:f.email,onChange:m=>p({...f,email:m.target.value}),placeholder:"Enter your work email",className:`w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg \r
                                   focus:ring-2 focus:ring-purple-500 focus:border-transparent \r
                                   text-white placeholder-gray-500 transition-all duration-200`})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Cx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-5 w-5"}),o.jsx("input",{type:"tel",required:!0,value:f.phone,onChange:m=>p({...f,phone:m.target.value}),placeholder:"Enter your phone number",className:`w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg \r
                                   focus:ring-2 focus:ring-purple-500 focus:border-transparent \r
                                   text-white placeholder-gray-500 transition-all duration-200`})]})]}),o.jsxs("button",{type:"submit",disabled:y,className:`w-full relative group overflow-hidden px-6 py-4 rounded-lg \r
                               bg-gradient-to-r from-purple-600 to-blue-600\r
                               hover:from-purple-500 hover:to-blue-500\r
                               focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-900\r
                               transition-all duration-200 disabled:opacity-70`,children:[o.jsx("div",{className:`absolute inset-0 w-full h-full bg-gradient-to-r from-purple-600 to-blue-600 opacity-0 \r
                                    group-hover:opacity-50 transition-opacity duration-200`}),o.jsx("div",{className:"relative flex items-center justify-center",children:y?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),o.jsx("span",{className:"text-white font-medium",children:"Processing..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-white font-medium",children:"Request Trial Access"}),o.jsx(Nl,{className:"w-5 h-5 text-white group-hover:translate-x-1 transition-transform duration-200"})]})})]}),o.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:o.jsxs("p",{children:["By submitting, you agree to our"," ",o.jsx("a",{href:"/terms",className:"text-purple-400 hover:text-purple-300",children:"Terms of Service"})," ","and"," ",o.jsx("a",{href:"/privacy",className:"text-purple-400 hover:text-purple-300",children:"Privacy Policy"})]})})]})})]}),o.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-purple-500/10 mb-3",children:o.jsx(HD,{className:"w-6 h-6 text-purple-400"})}),o.jsx("p",{className:"text-sm text-gray-400",children:"Secure Environment"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-blue-500/10 mb-3",children:o.jsx(Cm,{className:"w-6 h-6 text-blue-400"})}),o.jsx("p",{className:"text-sm text-gray-400",children:"24/7 Access"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-purple-500/10 mb-3",children:o.jsx(Vr,{className:"w-6 h-6 text-purple-400"})}),o.jsx("p",{className:"text-sm text-gray-400",children:"Community Support"})]})]})]})]})})]}),o.jsx(Y.section,{className:"py-20",variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:l.map((m,v)=>o.jsxs(Y.div,{variants:a,whileHover:{scale:1.05,boxShadow:"0 10px 30px rgba(0,0,0,0.1)"},className:`${m.color} p-6 rounded-xl text-white transform transition-all duration-300`,children:[o.jsx("div",{className:"bg-white/20 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:m.icon}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:m.title}),o.jsx("p",{className:"text-white/80",children:m.description})]},v))})})}),o.jsxs(Y.section,{ref:d,className:"py-32 relative overflow-hidden bg-black",children:[o.jsx(Y.div,{className:"absolute inset-0 z-0",style:{backgroundImage:"url('https://your-tech-background-image.jpg')",backgroundSize:"cover",backgroundPosition:"center",y:t}}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsxs(Y.div,{style:{opacity:r,scale:s},className:"max-w-6xl mx-auto text-center text-white",children:[o.jsxs(Y.h2,{className:"text-5xl md:text-7xl font-bold mb-8",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},children:["Experience the Future",o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-[#ffde58] to-[#ff8c37] text-transparent bg-clip-text",children:"of Learning"})]}),o.jsx(Y.div,{className:"relative rounded-2xl overflow-hidden shadow-2xl my-16",whileHover:{scale:1.02},transition:{duration:.3},children:o.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-900 relative",children:o.jsx("video",{ref:u,className:"w-full h-full object-cover",src:ute,playsInline:!0,loop:!0,muted:!0,preload:"auto"})})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-24",children:[{title:"Real-time Collaboration",value:"100+",suffix:"Users"},{title:"Interactive Sessions",value:"50+",suffix:"Daily"},{title:"Success Rate",value:"95",suffix:"%"}].map((m,v)=>o.jsxs(Y.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:v*.2},className:"relative group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ffde58]/20 to-[#ff8c37]/20 rounded-xl blur-xl group-hover:blur-2xl transition-all duration-300"}),o.jsxs("div",{className:"relative bg-white/10 backdrop-blur-md rounded-xl p-8 hover:transform hover:-translate-y-2 transition-all duration-300",children:[o.jsxs("h3",{className:"text-4xl font-bold mb-2",children:[m.value,o.jsx("span",{className:"text-[#ffde58]",children:m.suffix})]}),o.jsx("p",{className:"text-gray-300",children:m.title})]})]},v))})]})}),o.jsx(Y.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:o.jsx(s4,{className:"w-8 h-8 text-white/50"})})]}),o.jsx("section",{className:"py-24 bg-white overflow-hidden",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx(Y.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},className:"max-w-6xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[o.jsxs(Y.div,{initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.8},children:[o.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-[#333333] mb-6",children:["Learn by Doing,",o.jsx("br",{}),o.jsx("span",{className:"text-[#ffde58]",children:"Master by Practice"})]}),o.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"Our interactive labs provide hands-on experience with real-world scenarios. Practice makes perfect, and we make practice engaging."}),["Live coding environments","Real-time feedback system","Industry-standard tools","Collaborative learning spaces"].map((m,v)=>o.jsxs(Y.div,{initial:{x:-50,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.5,delay:v*.1},className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-[#ffde58]/20 flex items-center justify-center",children:o.jsx(Y0,{className:"w-4 h-4 text-[#333333]"})}),o.jsx("span",{className:"text-gray-700",children:m})]},v))]}),o.jsx(Y.div,{initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.8},className:"relative",children:o.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[o.jsx(Y.div,{className:"absolute inset-0 bg-gradient-to-r from-[#ffde58] to-[#ff8c37] opacity-20",animate:{opacity:[.2,.3,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),o.jsx("img",{src:"https://res.cloudinary.com/dqt4zammn/image/upload/v1734429178/api5kfd3wfdkakatqsbn.jpg",alt:"TDC Labs Interface",className:"relative z-10 rounded-2xl"})]})})]})})})}),o.jsx("section",{className:"py-20 bg-white",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(Y.div,{className:"text-center max-w-3xl mx-auto mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#333333] mb-6",children:"Empowering Learners"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"See how TDC Labs is transforming the way students learn and practice data science and analytics skills."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsx(Y.div,{className:"relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:o.jsxs("div",{className:"bg-[#333333] text-white p-8 rounded-xl",children:[o.jsx(Vr,{className:"w-8 h-8 mb-4 text-[#ffde58]"}),o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Active Learning Community"}),o.jsx("p",{className:"text-gray-300",children:"Join a community of learners, share experiences, and learn from peers."})]})}),o.jsx(Y.div,{className:"relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:o.jsxs("div",{className:"bg-[#ffde58] p-8 rounded-xl",children:[o.jsx(Pl,{className:"w-8 h-8 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Industry-Ready Skills"}),o.jsx("p",{className:"text-gray-700",children:"Develop practical skills that align with industry requirements."})]})}),o.jsx(Y.div,{className:"relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:o.jsxs("div",{className:"bg-[#333333] text-white p-8 rounded-xl",children:[o.jsx(ZD,{className:"w-8 h-8 mb-4 text-[#ffde58]"}),o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Instant Feedback"}),o.jsx("p",{className:"text-gray-300",children:"Get real-time feedback on your code and projects to improve faster."})]})})]})]})}),o.jsx("section",{className:"py-20 bg-gray-50",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs(Y.div,{className:"text-center max-w-3xl mx-auto mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#333333] mb-6",children:"Lab Pricing Plans"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Choose the plan that best fits your learning needs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:c.map((m,v)=>o.jsxs(Y.div,{className:`bg-white rounded-xl shadow-lg overflow-hidden ${m.popular?"ring-2 ring-[#ffde58]":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:v*.1},children:[m.popular&&o.jsx("div",{className:"bg-[#ffde58] text-[#333333] text-center py-2 font-medium",children:"Most Popular"}),o.jsxs("div",{className:"p-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-[#333333] mb-4",children:m.name}),o.jsxs("div",{className:"mb-6",children:[o.jsx("span",{className:"text-4xl font-bold text-[#333333]",children:m.price}),o.jsx("span",{className:"text-gray-600 ml-2",children:m.duration})]}),o.jsx("ul",{className:"space-y-4 mb-8",children:m.features.map((S,w)=>o.jsxs("li",{className:"flex items-center text-gray-600",children:[o.jsx(Y0,{className:"w-5 h-5 text-green-500 mr-2"}),S]},w))}),o.jsx("button",{className:`w-full py-3 rounded-lg font-medium transition-colors ${m.popular?"bg-[#333333] text-white hover:bg-[#222222]":"border-2 border-[#333333] text-[#c3c2c2] hover:bg-gray-50"}`,children:"Get Started"})]})]},v))})]})}),o.jsx("section",{className:"py-20 bg-[#333333] text-white",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs(Y.div,{className:"max-w-4xl mx-auto text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Get Free Access to TDC Labs"}),o.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Start your 15-day free trial today and experience the power of hands-on learning"}),o.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-4 bg-[#ffde58] text-[#333333] rounded-lg font-medium inline-flex items-center gap-2 hover:bg-[#ffd025] transition-colors",children:["Start Free Trial ",o.jsx(Nl,{className:"w-5 h-5"})]}),o.jsx("p",{className:"mt-4 text-gray-400",children:"No credit card required  Cancel anytime"})]})})}),o.jsx($m,{})]})}const Tb=({target:n,title:e,icon:t,bgColor:r,textColor:s})=>{const[i,a]=L.useState(0),l=L.useRef(null);return L.useEffect(()=>{const c=new IntersectionObserver(u=>{if(u[0].isIntersecting){const d=setInterval(()=>{a(h=>h>=n?(clearInterval(d),n):h+Math.ceil(n/50))},20);return()=>clearInterval(d)}},{threshold:.1});return l.current&&c.observe(l.current),()=>{l.current&&c.unobserve(l.current)}},[n]),o.jsxs("div",{ref:l,className:`bg-${r} rounded-lg p-6 text-center`,children:[o.jsx("div",{className:"inline-block p-3 bg-gray-100 rounded-full mb-4",children:o.jsx(t,{className:`w-6 h-6 ${s}`})}),o.jsxs("div",{className:"text-4xl font-bold text-gray-800 mb-2",children:[i,"+"]}),o.jsx("p",{className:"text-gray-600",children:e})]})},Cb=({name:n,role:e,image:t,quote:r})=>o.jsxs(Y.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-br from-gray-50 to-blue-50 p-6 rounded-xl shadow-xl relative",children:[o.jsx(DY,{className:"text-blue-600/20 text-4xl absolute top-4 right-4"}),o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-4 border-2 border-blue-200",children:o.jsx("img",{src:t,alt:n,className:"w-full h-full object-cover"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-800 font-semibold",children:n}),o.jsx("p",{className:"text-gray-600 text-sm",children:e})]})]}),o.jsxs("p",{className:"text-gray-800/90 italic",children:['"',r,'"']}),o.jsxs("div",{className:"mt-3 flex",children:[o.jsx(Yd,{className:"text-blue-600 mr-1"}),o.jsx(Yd,{className:"text-blue-600 mr-1"}),o.jsx(Yd,{className:"text-blue-600 mr-1"}),o.jsx(Yd,{className:"text-blue-600 mr-1"}),o.jsx(Yd,{className:"text-blue-600"})]})]}),hte=({title:n,content:e})=>{const[t,r]=L.useState(!1);return o.jsxs("div",{className:"mb-2 bg-white border-0 overflow-hidden",children:[o.jsxs("button",{className:"w-full bg-white py-4 px-5 flex items-center justify-between text-left rounded-lg hover:bg-gray-50",onClick:()=>r(!t),style:{color:"#333333"},children:[o.jsx("span",{className:"font-medium text-lg text-gray-800",children:n}),o.jsx("span",{className:"text-[#ffde58]",children:t?o.jsx(EY,{size:20}):o.jsx(jY,{size:20})})]}),o.jsx(Y.div,{initial:{height:0},animate:{height:t?"auto":0},transition:{duration:.3},className:"overflow-hidden bg-white",children:o.jsx("div",{className:"p-5 pt-0 text-gray-600 bg-white",children:e})})]})},fte=({plan:n,price:e,icon:t,features:r,popular:s,startingFrom:i})=>o.jsxs(Y.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.5},className:`relative p-8 rounded-2xl shadow-xl ${s?"bg-gradient-to-br from-[#333333] to-[#222222] text-white":"bg-white border border-[#e5e7eb] text-[#333333]"}`,children:[s&&o.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:o.jsx("span",{className:"bg-[#ffde58] text-[#333333] text-sm font-semibold px-4 py-1 rounded-full shadow-lg",children:"Most Popular"})}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:`inline-block p-3 ${s?"bg-[#ffde58]/20":"bg-[#ffde58]/10"} rounded-full mb-4`,children:o.jsx(t,{className:`w-8 h-8 ${s?"text-[#ffde58]":"text-[#333333]"}`})}),o.jsx("h3",{className:`text-2xl font-bold ${s?"text-white":"text-[#333333]"}`,children:n})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("span",{className:`text-sm font-medium uppercase ${s?"text-[#ffde58]":"text-[#666666]"}`,children:i?"Starting from":""}),o.jsx("div",{className:"mt-1",children:o.jsxs("span",{className:`text-4xl font-bold ${s?"text-white":"text-[#333333]"}`,children:["",e]})})]}),o.jsx("ul",{className:"space-y-4 mb-8",children:r.map((a,l)=>o.jsxs("li",{className:"flex items-center",children:[o.jsx(kY,{className:"w-5 h-5 mr-3 text-[#ffde58]"}),o.jsx("span",{className:s?"text-gray-300":"text-gray-600",children:a})]},l))}),o.jsx(Ee,{to:"/course",children:o.jsx(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-3 rounded-lg font-semibold transition-all ${s?"bg-[#ffde58] text-[#333333] hover:bg-[#ffd025]":"bg-[#333333] text-white hover:bg-[#222222]"}`,children:"Get Started"})})]}),pte=({children:n,offset:e=50})=>o.jsx(Y.div,{initial:{y:e},whileInView:{y:0},transition:{duration:.8},viewport:{once:!0},children:n});function mte(){L.useEffect(()=>{window.scrollTo(0,0)},[]);const{scrollYProgress:n}=SA();Pc(n,[0,1],["0%","20%"]);const e=[{plan:"Self-Learning Courses",price:"5,000",icon:H3,startingFrom:!0,features:["Full access to course material","Learn at your own pace","Downloadable resources","Completion certificate","Lifetime access to content","Community forum support"],popular:!1},{plan:"Mentored Courses",price:"10,000",icon:wb,startingFrom:!0,features:["All Self-Learning features","Weekly 1:1 mentorship calls","Personalized learning path","Project feedback and reviews","Direct access to instructors","Career guidance sessions"],popular:!0},{plan:"Live Courses",price:"20,000",icon:$Y,startingFrom:!0,features:["All Mentored Course features","Live interactive classes","Real-time doubt resolution","Collaborative learning","Industry-specific case studies","Job placement assistance"],popular:!1}],t=[{title:"What's the difference between course formats?",content:"Self Learning offers flexible, self-paced access to course materials. Mentored Course includes 1-on-1 guidance and feedback. Live Course provides real-time interactive sessions with instructors and peers."},{title:"Do I get lifetime access to course materials?",content:"Yes, once you purchase a course, you get lifetime access to all course materials, updates, and improvements we make to the curriculum."},{title:"How do the mentorship sessions work?",content:"Mentorship sessions are 1-on-1 video calls with industry experts. You can schedule sessions at your convenience and discuss projects, career guidance, or specific technical challenges."},{title:"What happens if I miss a live class?",content:"All live classes are recorded and made available in your learning dashboard. You can watch them at your convenience and still participate in related assignments."},{title:"How does TDC Labs complement the courses?",content:"TDC Labs provides hands-on practice environments where you can apply concepts learned in courses. It includes real-world projects, coding environments, and interactive exercises."}];return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx(vr,{}),o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900/80 to-gray-800/80",style:{backgroundImage:"url(https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?q=80&w=2070&auto=format&fit=crop)",backgroundSize:"cover",backgroundPosition:"center",mixBlendMode:"multiply"}})}),o.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:o.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center px-4 py-2 rounded-full bg-[#ffde58]/10 text-[#ffde58] mb-6",children:o.jsx("span",{className:"text-sm font-medium",children:"Transform Your Career with Top-Tier Education"})}),o.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Choose Your",o.jsx("span",{className:"text-[#ffde58]",children:" Learning Journey"})]}),o.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Unlock your potential with our comprehensive learning formats tailored to your goals and learning style"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[o.jsxs(Y.div,{className:"bg-white/10 backdrop-blur-sm text-white px-6 py-2 rounded-full flex items-center gap-2",whileHover:{scale:1.05},children:[o.jsx(V3,{className:"text-[#ffde58]"}),o.jsx("span",{children:"Industry-Recognized Certifications"})]}),o.jsxs(Y.div,{className:"bg-white/10 backdrop-blur-sm text-white px-6 py-2 rounded-full flex items-center gap-2",whileHover:{scale:1.05},children:[o.jsx(q3,{className:"text-[#ffde58]"}),o.jsx("span",{children:"High Job Placement Rate"})]}),o.jsxs(Y.div,{className:"bg-white/10 backdrop-blur-sm text-white px-6 py-2 rounded-full flex items-center gap-2",whileHover:{scale:1.05},children:[o.jsx(TY,{className:"text-[#ffde58]"}),o.jsx("span",{children:"Learn at Your Own Pace"})]})]})]})})]}),o.jsx("div",{className:"relative z-10 -mt-10 mb-16",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx(Y.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.6},viewport:{once:!0},className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl shadow-2xl p-8 md:py-6 md:px-10",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(Tb,{target:1e3,title:"Active Students",icon:q3,bgColor:"bg-blue-50",textColor:"text-blue-600"}),o.jsx(Tb,{target:50,title:"Expert Instructors",icon:wb,bgColor:"bg-blue-50",textColor:"text-blue-600"}),o.jsx(Tb,{target:100,title:"Courses Available",icon:H3,bgColor:"bg-blue-50",textColor:"text-blue-600"})]})})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-20 relative z-10",children:o.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:e.map((r,s)=>o.jsx(pte,{offset:100,children:o.jsx(fte,{...r})},s))})}),o.jsx("div",{className:"bg-gray-50 py-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs(Y.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.7},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("span",{className:"text-blue-600 font-semibold text-sm uppercase tracking-wider",children:"OUR ADVANTAGE"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-2 mb-4",children:"What Sets Us Apart"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"We combine cutting-edge technology with expert instruction to provide an unmatched learning experience"})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsxs(Y.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.7,delay:.1},viewport:{once:!0},className:"bg-white p-6 rounded-lg text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:o.jsx(V3,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Quality Curriculum"}),o.jsx("p",{className:"text-gray-600",children:"Industry-reviewed content designed by experts to ensure relevant, up-to-date learning material"})]}),o.jsxs(Y.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.7,delay:.2},viewport:{once:!0},className:"bg-white p-6 rounded-lg text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:o.jsx(_Y,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Adaptive Learning"}),o.jsx("p",{className:"text-gray-600",children:"Our platform adjusts to your learning pace and style, optimizing your educational journey"})]}),o.jsxs(Y.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.7,delay:.3},viewport:{once:!0},className:"bg-white p-6 rounded-lg text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:o.jsx(IY,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Career Support"}),o.jsx("p",{className:"text-gray-600",children:"Beyond learning, we provide networking opportunities and job placement assistance"})]})]})]})}),o.jsx("section",{className:"py-20 bg-white border-t border-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs(Y.div,{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Explore TDC Labs"}),o.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto mb-8",children:"Get hands-on experience with our state-of-the-art virtual lab environment"}),o.jsx(Ee,{to:"/lab",children:o.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#ffde58] text-[#333333] px-8 py-3 rounded-lg font-semibold hover:bg-[#ffd025] transition-all inline-flex items-center gap-2",children:["Get Started with Labs",o.jsx(U3,{className:"w-5 h-5"})]})})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:CY,title:"Interactive Coding",description:"Write, run, and debug code directly in your browser"},{icon:H5,title:"Project-Based Learning",description:"Apply concepts in real-world scenarios"},{icon:wb,title:"Collaborative Environment",description:"Share your work and learn with peers"}].map((r,s)=>o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.2},className:"bg-[#222222] p-6 rounded-xl",children:[o.jsx("div",{className:"inline-block p-3 bg-[#ffde58]/10 rounded-full mb-4",children:o.jsx(r.icon,{className:"w-6 h-6 text-[#ffde58]"})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:r.title}),o.jsx("p",{className:"text-gray-400",children:r.description}),o.jsx(Ee,{to:"/lab",children:o.jsxs(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-4 text-[#ffde58] hover:text-[#ffd025] transition-all inline-flex items-center gap-1 text-sm font-medium",children:["Try Now ",o.jsx(U3,{className:"w-4 h-4"})]})})]},s))})]})}),o.jsx("div",{className:"py-20 bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[o.jsx("span",{className:"text-blue-600 text-sm font-semibold uppercase tracking-wider",children:"TESTIMONIALS"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-2 mb-4",children:"Student Success Stories"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Hear what our students have to say about their learning experience with us"})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsx(Cb,{name:"Rajesh Sharma",role:"Data Engineer at Microsoft",image:"https://res.cloudinary.com/dl4zkgesn/image/upload/v1741770328/rajesh_sharma_gb31a8.jpg",quote:"The mentored course transformed my career. My mentor helped me build a portfolio that landed me my dream job at Microsoft."}),o.jsx(Cb,{name:"Priya Varma",role:"Data Scientist",image:"https://res.cloudinary.com/dl4zkgesn/image/upload/v1741770375/priya_varma_sf0nfv.jpg",quote:"The interactive labs made complex data concepts click for me. I went from struggling with basics to implementing machine learning models in weeks."}),o.jsx(Cb,{name:"Pooja Malhotra",role:"PowerBI Developer",image:"https://res.cloudinary.com/dl4zkgesn/image/upload/v1741770461/neha_reddy_nlhiiq.jpg",quote:"The live courses provided real-time feedback on my projects. The instructors weren't just teachers; they became mentors guiding my tech journey."})]})]})}),o.jsx("section",{className:"py-12 bg-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[o.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center px-4 py-2 rounded-full bg-[#ffde58]/10 text-[#333333] mb-6",children:o.jsx("span",{className:"text-sm font-medium",children:"Got Questions?"})}),o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#333333] mb-4",children:"Frequently Asked Questions"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Find answers to common questions about our courses and learning experience"})]}),o.jsx("div",{className:"space-y-4 bg-white",children:t.map((r,s)=>o.jsx(hte,{title:r.title,content:r.content},s))}),o.jsx(Y.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:.4},className:"text-center mt-8",children:o.jsxs("p",{className:"text-gray-600",children:["Still have questions?"," ",o.jsx(Ee,{to:"/contact",className:"text-[#333333] font-semibold hover:text-[#ffde58] transition-colors",children:"Contact our support team"})]})})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-br from-[#333333] to-[#222222]",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:o.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},className:"bg-[#ffffff]/5 backdrop-blur-lg p-10 rounded-2xl",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Start Your Learning Journey?"}),o.jsx("p",{className:"text-gray-300 mb-8",children:"Join thousands of successful students who have transformed their careers"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#ffde58] text-[#333333] px-8 py-4 rounded-lg font-semibold hover:bg-[#ffd025] transition-all",children:o.jsx(Ee,{to:"/course",children:"Explore Courses"})}),o.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border border-[#ffde58] text-[#ffde58] px-8 py-4 rounded-lg font-semibold hover:bg-[#ffde58]/10 transition-all",children:o.jsx(Ee,{to:"/lab",children:"Try TDC Labs Free"})})]})]})})})]})}function gte(){const{courseId:n}=Ai(),e=Ue(),[t,r]=L.useState(null),[s,i]=L.useState(!0),[a,l]=L.useState(""),[c,u]=L.useState(""),[d,h]=L.useState(1),[f,p]=L.useState(!1),[y,x]=L.useState(!1),[b,m]=L.useState(null);L.useState(null);const[v,S]=L.useState(""),[w,N]=L.useState(null),[E,_]=L.useState(!1);L.useEffect(()=>{A();const R=localStorage.getItem("user"),M=localStorage.getItem("token");if(R&&M){const V=JSON.parse(R);m(V),l(V.email),u(V.phoneNumber||""),h(2)}},[n]);const A=async()=>{try{const M=await(await fetch(`${de}/api/courses/${n}`)).json();M.success&&(r(M.course),M.course.price===0&&e(`/course/${n}`))}catch(R){console.error("Error fetching course details:",R)}finally{i(!1)}},C=async R=>{try{x(!0),S(""),localStorage.setItem("googleCredential",R.credential);const V=await(await fetch(`${de}/api/payments/checkout-auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:R.credential})})).json();console.log("Checkout auth response:",V),V.success?(localStorage.setItem("token",V.token),localStorage.setItem("user",JSON.stringify(V.user)),m(V.user),l(V.user.email),u(V.user.phoneNumber||""),h(2)):V.requiresPhoneNumber?(_(!0),N(V.googleData),l(V.googleData.email),u("")):S(V.message||"Authentication failed")}catch(M){console.error("Google login error:",M),S("Failed to process Google login: "+M.message)}finally{x(!1)}},j=()=>{console.error("Google login failed"),S("Failed to login with Google")},k=async R=>{R.preventDefault(),x(!0),S("");try{if(E&&w){const M=localStorage.getItem("googleCredential");if(!M)throw new Error("Google credential not found. Please try again.");const U=await(await fetch(`${de}/api/payments/checkout-auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:M,phoneNumber:c,email:w.email})})).json();console.log("Google phone completion response:",U),U.success?(localStorage.setItem("token",U.token),localStorage.setItem("user",JSON.stringify(U.user)),m(U.user),h(2),_(!1),N(null)):S(U.message||"Failed to complete registration")}else{const V=await(await fetch(`${de}/api/payments/checkout-auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,phoneNumber:c})})).json();console.log("Email/phone auth response:",V),V.success?(localStorage.setItem("token",V.token),localStorage.setItem("user",JSON.stringify(V.user)),m(V.user),h(2)):S(V.message||"Authentication failed")}}catch(M){console.error("Authentication error:",M),S("Authentication failed: "+M.message)}finally{x(!1)}},T=async R=>{R.preventDefault(),x(!0),S("");try{if(!b)throw new Error("Please log in to continue");const M=localStorage.getItem("token");if(!M)throw new Error("Your session has expired. Please log in again.");console.log("Using token for payment:",M.substring(0,15)+"...");const V=await fetch(`${de}/api/payments/create-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({courseId:n,amount:t.price})});if(!V.ok){const $=await V.json();throw new Error($.message||`Server error: ${V.status}`)}const U=await V.json();if(console.log("Order created:",U),!U.success||!U.order)throw new Error(U.message||"Failed to create order");const W={key:"rzp_live_4R9HUZ5jzRkcZH",amount:U.order.amount,currency:U.order.currency||"INR",name:"The Digital College",description:`Payment for ${t.title}`,order_id:U.order.id,handler:function($){P($)},prefill:{name:b.firstName+" "+(b.lastName||""),email:b.email,contact:b.phoneNumber},notes:{courseId:n,userId:b._id},theme:{color:"#ffd025"},modal:{ondismiss:function(){x(!1),console.log("Payment modal dismissed")}}};if(typeof window.Razorpay>"u")throw new Error("Payment gateway not loaded. Please refresh the page and try again.");const q=new window.Razorpay(W);q.on("payment.failed",function($){console.error("Payment failed:",$.error),S(`Payment failed: ${$.error.description||$.error.reason||"Unknown error"}`),x(!1)}),q.open()}catch(M){console.error("Payment error:",M),S("Payment initialization failed: "+M.message),x(!1)}},P=async R=>{try{console.log("Payment successful:",R);const M=localStorage.getItem("token"),U=await(await fetch(`${de}/api/payments/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({razorpay_order_id:R.razorpay_order_id,razorpay_payment_id:R.razorpay_payment_id,razorpay_signature:R.razorpay_signature,courseId:n})})).json();U.success?(p(!0),setTimeout(()=>{e("/dashboard")},3e3)):S(U.message||"Payment verification failed")}catch(M){console.error("Verification error:",M),S("Payment verification failed: "+M.message)}finally{x(!1)}};return s?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef] flex flex-col items-center justify-center",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading checkout..."})]}):f?o.jsxs(o.Fragment,{children:[o.jsx(vr,{}),o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f9fa] to-[#e9ecef] py-16",children:o.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-8 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Dg,{className:"w-10 h-10 text-green-600"})}),o.jsx("h1",{className:"text-3xl font-bold text-black mb-4",children:"Payment Successful!"}),o.jsxs("p",{className:"text-gray-800 mb-8",children:["Thank you for purchasing ",t.title,". You now have full access to the course."]}),o.jsx("button",{onClick:()=>e(`/course/${n}`),className:"bg-[#111827] text-white px-8 py-3 rounded-lg font-semibold hover:bg-[#333] transition-all",children:"Start Learning"})]})})]}):o.jsxs(kA,{clientId:"1036131393808-7rgoa59ur5gt62i8uj9k2bn63uqe9eci.apps.googleusercontent.com",children:[o.jsx(vr,{}),o.jsx("div",{className:"min-h-screen bg-white py-8",children:o.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-8",children:"Checkout"}),v&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:v}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsxs("div",{className:`border border-gray-200 rounded-lg p-6 mb-6 ${d!==1?"bg-gray-50":"bg-white"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-black",children:E?"Complete Your Registration":"1. Log in or create an account"}),d===2&&o.jsxs("button",{onClick:()=>h(1),className:"text-blue-600 flex items-center",children:[o.jsx(yr,{className:"w-4 h-4 mr-1"}),"Change"]})]}),d===1?o.jsx(o.Fragment,{children:E?o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-gray-800 mb-4",children:"Please provide your phone number to complete your registration with Google."}),o.jsxs("form",{onSubmit:k,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 mb-2",children:"Email (From Google)"}),o.jsx("input",{type:"email",value:a,className:"w-full border border-gray-300 rounded-lg p-3 bg-gray-100 text-gray-800",disabled:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",value:c,onChange:R=>u(R.target.value),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your phone number",required:!0})]}),o.jsx("button",{type:"submit",disabled:y,className:"w-full bg-[#ffd025] text-[#222222] py-3 rounded-lg font-medium hover:bg-[#ffd025]/90 transition-colors",children:y?"Processing...":"Continue"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-gray-800 mb-4",children:"An account is required to access your purchased courses. Please verify that your email address is correct, as we'll use it to send your order confirmation."}),o.jsxs("form",{onSubmit:k,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:a,onChange:R=>l(R.target.value),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email address",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",value:c,onChange:R=>u(R.target.value),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your phone number",required:!0})]}),o.jsx("p",{className:"text-sm text-gray-700",children:"No password required"}),o.jsx("button",{type:"submit",disabled:y,className:"w-full bg-[#ffd025] text-[#222222] py-3 rounded-lg font-medium hover:bg-[#ffd025]/90 transition-colors",children:y?"Processing...":"Continue"})]}),o.jsxs("div",{className:"mt-6 flex items-center justify-center",children:[o.jsx("div",{className:"border-t border-gray-300 flex-grow"}),o.jsx("span",{className:"text-gray-700 mx-4",children:"or"}),o.jsx("div",{className:"border-t border-gray-300 flex-grow"})]}),o.jsx("div",{className:"mt-6 grid grid-cols-1 gap-4",children:o.jsx(TA,{onSuccess:C,onError:j,text:"continue_with",shape:"rectangular",width:"300"})}),v&&o.jsx("div",{className:"mt-4 text-red-600 text-sm",children:v})]})}):o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-green-100 text-green-600 rounded-full p-1",children:o.jsx(Dg,{className:"w-5 h-5"})}),o.jsx("div",{children:o.jsxs("p",{className:"text-gray-800",children:["Logged in as ",o.jsx("span",{className:"font-medium",children:a})]})})]})]}),o.jsxs("div",{className:`border ${d===2?"border-gray-200":"border-gray-100 bg-gray-50"} rounded-lg p-6`,children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-black",children:"2. Billing address & Payment method"}),d===1&&o.jsx(J0,{className:"ml-2 text-gray-400 w-4 h-4"})]}),d===2&&o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 mb-2",children:"Full Name"}),o.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:(b==null?void 0:b.name)||"",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-800 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:(b==null?void 0:b.phoneNumber)||"",required:!0})]})]}),o.jsx("h3",{className:"text-lg font-semibold mt-6 mb-4 text-black",children:"Payment Method"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"card",defaultChecked:!0,className:"h-5 w-5 text-blue-600"}),o.jsx("span",{className:"ml-3 text-gray-800",children:"Credit/Debit Card"})]}),o.jsxs("label",{className:"flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"upi",className:"h-5 w-5 text-blue-600"}),o.jsx("span",{className:"ml-3 text-gray-800",children:"UPI"})]}),o.jsxs("label",{className:"flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"netbanking",className:"h-5 w-5 text-blue-600"}),o.jsx("span",{className:"ml-3 text-gray-800",children:"Net Banking"})]})]}),o.jsx("button",{type:"submit",disabled:y,className:`w-full bg-[#ffd025] text-[#222222] py-4 rounded-lg font-semibold hover:bg-[#ffd025]/90 transition-all ${y?"opacity-70 cursor-not-allowed":""}`,children:y?"Processing...":"Complete Payment"}),o.jsx("p",{className:"text-sm text-gray-700 text-center",children:"By completing your purchase, you agree to our Terms of Service and Privacy Policy."})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white",children:[o.jsx("h2",{className:"text-xl font-bold mb-6 text-black",children:"Order details (1 course)"}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("img",{src:t.image||"/default-course-image.jpg",alt:t.title,className:"w-16 h-16 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:t.title}),o.jsx("p",{className:"text-sm text-gray-600",children:t.instructor.name})]}),o.jsx("div",{className:"text-right",children:o.jsxs("span",{className:"font-bold text-gray-800",children:["",t.price]})})]})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 sticky top-6 border border-gray-200",children:[o.jsx("h2",{className:"text-xl font-bold text-black mb-6",children:"Order summary"}),o.jsxs("div",{className:"flex items-start space-x-4 mb-6 pb-6 border-b border-gray-200",children:[o.jsx("img",{src:t.image||"/default-course-image.jpg",alt:t.title,className:"w-20 h-20 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:t.title}),o.jsx("p",{className:"text-sm text-gray-600",children:t.instructor.name})]})]}),o.jsx("div",{className:"space-y-2 mb-6",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-700",children:"Original Price:"}),o.jsxs("span",{className:"font-medium text-gray-800",children:["",t.price]})]})}),o.jsxs("div",{className:"flex justify-between font-bold text-lg pt-4 border-t border-gray-200",children:[o.jsx("span",{className:"text-gray-800",children:"Total"}),o.jsxs("span",{className:"text-gray-800",children:["",t.price]})]}),o.jsxs("div",{className:"mt-6 bg-orange-50 p-4 rounded-lg border border-orange-100",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-orange-500 text-lg mr-2",children:""}),o.jsx("h3",{className:"font-semibold text-black",children:"Tap into Success Now"})]}),o.jsx("p",{className:"text-sm mt-2 text-gray-800",children:"Join 30+ people in your country who've recently enrolled in this course within last 24 hours."})]})]})})]})]})}),f&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md mx-auto text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Dg,{className:"h-8 w-8 text-green-500"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),o.jsxs("p",{className:"text-gray-600 mb-6",children:['Thank you for your purchase. You now have full access to "',t.title,'".']}),o.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to your learning dashboard..."})]})})]})}const yte=()=>{const[n,e]=L.useState([]),[t,r]=L.useState(!0),[s,i]=L.useState(""),a=Ue();L.useEffect(()=>{const d=localStorage.getItem("token");if(!d){a("/login");return}try{const h=JSON.parse(atob(d.split(".")[1]));if(console.log("Dashboard token contains:",{userId:h.userId||h.id,email:h.email,exp:new Date(h.exp*1e3).toLocaleString()}),!h.userId&&!h.id){console.error("Token is missing user identifier"),localStorage.removeItem("token"),a("/login");return}}catch(h){console.error("Error parsing token:",h)}l()},[a]);const l=async()=>{try{r(!0);const d=localStorage.getItem("token");if(!d){a("/login");return}console.log("Using token for dashboard:",d.substring(0,15)+"...");const h=await fetch(`${de}/api/enrollments/my-courses`,{headers:{Authorization:`Bearer ${d}`}});if(h.status===401){console.error("Authorization failed. Token might be invalid."),localStorage.removeItem("token"),a("/login");return}if(!h.ok)throw new Error(`Failed to fetch courses: ${h.status}`);const f=await h.json();f.success?(console.log("Enrollments loaded:",f.enrollments.length),e(f.enrollments)):i(f.message||"Failed to load your courses")}catch(d){console.error("Error fetching enrollments:",d),i("Error loading your courses: "+d.message)}finally{r(!1)}},c=d=>d.progress||0,u=d=>{const h={year:"numeric",month:"long",day:"numeric"};return new Date(d).toLocaleDateString(void 0,h)};return o.jsxs(o.Fragment,{children:[o.jsx(vr,{}),o.jsx("div",{className:"bg-gray-50 min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Learning Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Track your progress and continue learning where you left off"})]}),t?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx(Yt,{})}):s?o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 rounded-lg p-4",children:s}):n.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[o.jsx("div",{className:"mb-4",children:o.jsx(Jn,{className:"w-12 h-12 text-gray-400 mx-auto"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"You haven't enrolled in any courses yet"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Explore our catalog to find courses that match your interests and career goals"}),o.jsx(Ee,{to:"/courses",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Browse Courses"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(d=>{var h;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:d.course.image||"/default-course-image.jpg",alt:d.course.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:d.course.title}),o.jsx("p",{className:"text-white/80 text-sm",children:((h=d.course.instructor)==null?void 0:h.name)||"Instructor"})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[c(d),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${c(d)}%`}})})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[o.jsx(Cc,{className:"w-4 h-4 mr-2"}),o.jsxs("span",{children:["Enrolled on ",u(d.completedAt||d.createdAt)]})]}),o.jsx(Ee,{to:`/course/${d.course._id}`,className:"block w-full bg-blue-600 text-white text-center py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue Learning"})]})]},d._id)})})]})})]})};function vte(){return o.jsx(VC,{children:o.jsx(vD,{children:o.jsx(pD,{children:o.jsxs(PN,{children:[o.jsx(Pe,{path:"/admin/login",element:o.jsx(gY,{})}),o.jsx(Pe,{path:"/admin/*",element:o.jsx(mY,{})}),o.jsx(Pe,{path:"/pricing",element:o.jsx(mte,{})}),o.jsx(Pe,{path:"/blog",element:o.jsx(pQ,{})}),o.jsx(Pe,{path:"/blog/:id",element:o.jsx(mQ,{})}),o.jsx(Pe,{path:"/course",element:o.jsx(gQ,{})}),o.jsx(Pe,{path:"/course/:id",element:o.jsx(vQ,{})}),o.jsx(Pe,{path:"/course/:courseId/modules/:moduleId/lessons/:lessonId",element:o.jsx(ste,{})}),o.jsx(Pe,{path:"/help",element:o.jsx(ite,{})}),o.jsx(Pe,{path:"/admin/course/create",element:o.jsx(ate,{})}),o.jsx(Pe,{path:"/admin/course",element:o.jsx(ote,{})}),o.jsx(Pe,{path:"/admin/course/view/:id",element:o.jsx(lte,{})}),o.jsx(Pe,{path:"/admin/course/edit/:id",element:o.jsx(cte,{})}),o.jsx(Pe,{path:"/lab",element:o.jsx(dte,{})}),o.jsx(Pe,{path:"/checkout/:courseId",element:o.jsx(gte,{})}),o.jsx(Pe,{path:"/dashboard",element:o.jsx(yte,{})}),o.jsx(Pe,{path:"/*",element:o.jsx(fQ,{})})]})})})})}const wk=document.getElementById("root");if(wk)try{Ob.createRoot(wk).render(o.jsx(Qe.StrictMode,{children:o.jsx(kA,{clientId:"860236340511-50m5cq2vv6tb1lhhhmttt3v65a6hklki.apps.googleusercontent.com",children:o.jsx(vte,{})})}))}catch(n){console.error("Error rendering app:",n)}
